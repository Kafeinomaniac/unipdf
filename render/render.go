//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

package render ;import (_g "errors";_b "fmt";_ggg "github.com/adrg/sysfont";_ad "github.com/unidoc/unipdf/v3/common";_ba "github.com/unidoc/unipdf/v3/contentstream";_ge "github.com/unidoc/unipdf/v3/core";_dd "github.com/unidoc/unipdf/v3/internal/transform";_a "github.com/unidoc/unipdf/v3/model";_cba "github.com/unidoc/unipdf/v3/render/internal/context";_cbe "github.com/unidoc/unipdf/v3/render/internal/context/imagerender";_cb "image";_e "image/draw";_db "image/jpeg";_fd "image/png";_f "os";_c "path/filepath";_gg "strings";);

// RenderToPath converts the specified PDF page into an image and saves the
// result at the specified location.
func (_bd *ImageDevice )RenderToPath (page *_a .PdfPage ,outputPath string )error {_ga ,_gd :=_bd .Render (page );if _gd !=nil {return _gd ;};_fe :=_gg .ToLower (_c .Ext (outputPath ));if _fe ==""{return _g .New ("\u0063\u006ful\u0064\u0020\u006eo\u0074\u0020\u0072\u0065cog\u006eiz\u0065\u0020\u006f\u0075\u0074\u0070\u0075t \u0066\u0069\u006c\u0065\u0020\u0074\u0079p\u0065");};switch _fe {case "\u002e\u0070\u006e\u0067":return _ggc (outputPath ,_ga );case "\u002e\u006a\u0070\u0067","\u002e\u006a\u0070e\u0067":return _cc (outputPath ,_ga ,100);};return _b .Errorf ("\u0075\u006e\u0072\u0065\u0063\u006fg\u006e\u0069\u007a\u0065\u0064\u0020\u006f\u0075\u0074\u0070\u0075\u0074\u0020f\u0069\u006c\u0065\u0020\u0074\u0079\u0070e\u003a\u0020\u0025\u0073",_fe );};

// NewImageDevice returns a new image device.
func NewImageDevice ()*ImageDevice {return &ImageDevice {}};type renderer struct{};func (_ae renderer )renderPage (_adg _cba .Context ,_ec *_a .PdfPage )error {_adgd ,_gdd :=_ec .GetAllContentStreams ();if _gdd !=nil {return _gdd ;};_adg .Translate (0,float64 (_adg .Height ()));_adg .Scale (1,-1);_adg .Push ();_adg .SetRGBA (1,1,1,1);_adg .DrawRectangle (0,0,float64 (_adg .Width ()),float64 (_adg .Height ()));_adg .Fill ();_adg .Pop ();_adg .SetLineWidth (1.0);_adg .SetRGBA (0,0,0,1);return _ae .renderContentStream (_adg ,_adgd ,_ec .Resources );};

// Render converts the specified PDF page into an image and returns the result.
func (_dbg *ImageDevice )Render (page *_a .PdfPage )(_cb .Image ,error ){_ddd ,_af :=page .GetMediaBox ();if _af !=nil {return nil ,_af ;};_ea ,_cf :=_ddd .Llx +_ddd .Width (),_ddd .Lly +_ddd .Height ();_cbf :=_cbe .NewContext (int (_ea ),int (_cf ));if _ee :=_dbg .renderPage (_cbf ,page );_ee !=nil {return nil ,_ee ;};_bg :=_cbf .Image ();if _ag :=page .CropBox ;_ag !=nil {_da :=_cb .Rect (0,0,int (_ag .Width ()),int (_ag .Height ()));_bc :=_cb .Pt (int (_ag .Llx ),int (_cf -_ag .Ury ));_gf :=_cb .NewRGBA (_da );_e .Draw (_gf ,_da ,_bg ,_bc ,_e .Src );_bg =_gf ;};return _bg ,nil ;};func (_cg renderer )renderContentStream (_gaf _cba .Context ,_aec string ,_fdd *_a .PdfPageResources )error {_gc ,_fgd :=_ba .NewContentStreamParser (_aec ).Parse ();if _fgd !=nil {return _fgd ;};_bf :=_gaf .TextState ();_eef :=map[string ]*_cba .TextFont {};_bdb :=_ggg .NewFinder (&_ggg .FinderOpts {Extensions :[]string {"\u002e\u0074\u0074\u0066","\u002e\u0074\u0074\u0063"}});_gdf :=_ba .NewContentStreamProcessor (*_gc );_gdf .AddHandler (_ba .HandlerConditionEnumAllOperands ,"",func (_aa *_ba .ContentStreamOperation ,_bb _ba .GraphicsState ,_ccf *_a .PdfPageResources )error {_ad .Log .Debug ("\u0050\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0025\u0073",_aa .Operand );switch _aa .Operand {case "\u0071":_gaf .Push ();case "\u0051":_gaf .Pop ();case "\u0063\u006d":if len (_aa .Params )!=6{return _fcd ;};_bcg ,_gdb :=_ge .GetNumbersAsFloat (_aa .Params );if _gdb !=nil {return _gdb ;};_gfcg :=_dd .NewMatrix (_bcg [0],_bcg [1],_bcg [2],_bcg [3],_bcg [4],_bcg [5]);_ad .Log .Debug ("\u0047\u0072\u0061\u0070\u0068\u0069\u0063\u0073\u0020\u0073\u0074a\u0074\u0065\u0020\u006d\u0061\u0074\u0072\u0069\u0078\u003a \u0025\u002b\u0076",_gfcg );_gaf .SetMatrix (_gaf .Matrix ().Mult (_gfcg ));_fgg :=(_bb .CTM .ScalingFactorX ()+_bb .CTM .ScalingFactorY ())/2.0;_gaf .SetLineWidth (_fgg *_gaf .LineWidth ());case "\u0077":if len (_aa .Params )!=1{return _fcd ;};_aab ,_dg :=_ge .GetNumbersAsFloat (_aa .Params );if _dg !=nil {return _dg ;};_bbe :=(_bb .CTM .ScalingFactorX ()+_bb .CTM .ScalingFactorY ())/2.0;_gaf .SetLineWidth (_bbe *_aab [0]);case "\u004a":if len (_aa .Params )!=1{return _fcd ;};_afe ,_eg :=_ge .GetIntVal (_aa .Params [0]);if !_eg {return _bde ;};switch _afe {case 0:_gaf .SetLineCap (_cba .LineCapButt );case 1:_gaf .SetLineCap (_cba .LineCapRound );case 2:_gaf .SetLineCap (_cba .LineCapSquare );default:_ad .Log .Debug ("\u0049\u006e\u0076\u0061\u006c\u0069\u0064\u0020\u006c\u0069\u006ee\u0020\u0063\u0061\u0070\u0020\u0073\u0074\u0079\u006c\u0065:\u0020\u0025\u0064",_afe );return _fcd ;};case "\u006a":if len (_aa .Params )!=1{return _fcd ;};_ef ,_gab :=_ge .GetIntVal (_aa .Params [0]);if !_gab {return _bde ;};switch _ef {case 0:_gaf .SetLineJoin (_cba .LineJoinBevel );case 1:_gaf .SetLineJoin (_cba .LineJoinRound );case 2:_gaf .SetLineJoin (_cba .LineJoinBevel );default:_ad .Log .Debug ("I\u006e\u0076\u0061\u006c\u0069\u0064 \u006c\u0069\u006e\u0065\u0020\u006a\u006f\u0069\u006e \u0073\u0074\u0079l\u0065:\u0020\u0025\u0064",_ef );return _fcd ;};case "\u004d":if len (_aa .Params )!=1{return _fcd ;};_cd ,_gead :=_ge .GetNumbersAsFloat (_aa .Params );if _gead !=nil {return _gead ;};_ =_cd ;_ad .Log .Debug ("\u004di\u0074\u0065\u0072\u0020l\u0069\u006d\u0069\u0074\u0020n\u006ft\u0020s\u0075\u0070\u0070\u006f\u0072\u0074\u0065d");case "\u0064":if len (_aa .Params )!=2{return _fcd ;};_daf ,_ggd :=_ge .GetArray (_aa .Params [0]);if !_ggd {return _bde ;};_egb ,_ggd :=_ge .GetIntVal (_aa .Params [1]);if !_ggd {return _bde ;};_ab ,_ce :=_ge .GetNumbersAsFloat (_daf .Elements ());if _ce !=nil {return _ce ;};_gaf .SetDash (_ab ...);_ =_egb ;_ad .Log .Debug ("\u004c\u0069n\u0065\u0020\u0064\u0061\u0073\u0068\u0020\u0070\u0068\u0061\u0073\u0065\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006frt\u0065\u0064");case "\u0072\u0069":_ad .Log .Debug ("\u0052\u0065\u006e\u0064\u0065\u0072\u0069\u006e\u0067\u0020i\u006e\u0074\u0065\u006e\u0074\u0020\u006eo\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0069":_ad .Log .Debug ("\u0046\u006c\u0061\u0074\u006e\u0065\u0073\u0073\u0020\u0074\u006f\u006c\u0065\u0072\u0061n\u0063e\u0020\u006e\u006f\u0074\u0020\u0073\u0075\u0070\u0070\u006f\u0072\u0074\u0065\u0064");case "\u0067\u0073":if len (_aa .Params )!=1{return _fcd ;};_dgc ,_cbag :=_ge .GetName (_aa .Params [0]);if !_cbag {return _bde ;};if _dgc ==nil {return _fcd ;};_abd ,_cbag :=_ccf .GetExtGState (*_dgc );if !_cbag {_ad .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006eo\u0074 \u0066i\u006ed\u0020\u0072\u0065\u0073\u006f\u0075\u0072\u0063\u0065\u003a\u0020\u0025\u0073",*_dgc );return _g .New ("\u0072e\u0073o\u0075\u0072\u0063\u0065\u0020n\u006f\u0074 \u0066\u006f\u0075\u006e\u0064");};_efa ,_cbag :=_ge .GetDict (_abd );if !_cbag {_ad .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020c\u006f\u0075\u006c\u0064 ge\u0074 g\u0072\u0061\u0070\u0068\u0069\u0063\u0073 s\u0074\u0061\u0074\u0065\u0020\u0064\u0069c\u0074");return _bde ;};_ad .Log .Debug ("G\u0053\u0020\u0064\u0069\u0063\u0074\u003a\u0020\u0025\u0073",_efa .String ());case "\u006d":if len (_aa .Params )!=2{_ad .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fcd );return nil ;};_dgf ,_gec :=_ge .GetNumbersAsFloat (_aa .Params );if _gec !=nil {return _gec ;};_ad .Log .Debug ("M\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u0076",_dgf );_gaf .NewSubPath ();_gaf .MoveTo (_dgf [0],_dgf [1]);case "\u006c":if len (_aa .Params )!=2{_ad .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0073\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_fcd );return nil ;};_gcd ,_ece :=_ge .GetNumbersAsFloat (_aa .Params );if _ece !=nil {return _ece ;};_gaf .LineTo (_gcd [0],_gcd [1]);case "\u0063":if len (_aa .Params )!=6{return _fcd ;};_gfe ,_be :=_ge .GetNumbersAsFloat (_aa .Params );if _be !=nil {return _be ;};_ad .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_gfe );_gaf .CubicTo (_gfe [0],_gfe [1],_gfe [2],_gfe [3],_gfe [4],_gfe [5]);case "\u0076","\u0079":if len (_aa .Params )!=4{return _fcd ;};_dac ,_eaa :=_ge .GetNumbersAsFloat (_aa .Params );if _eaa !=nil {return _eaa ;};_ad .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020\u0062\u0065\u007a\u0069\u0065\u0072\u0020p\u0061\u0072\u0061\u006d\u0073\u003a\u0020\u0025\u002b\u0076",_dac );_gaf .QuadraticTo (_dac [0],_dac [1],_dac [2],_dac [3]);case "\u0068":_gaf .ClosePath ();_gaf .NewSubPath ();case "\u0072\u0065":if len (_aa .Params )!=4{return _fcd ;};_bbd ,_deg :=_ge .GetNumbersAsFloat (_aa .Params );if _deg !=nil {return _deg ;};_gaf .DrawRectangle (_bbd [0],_bbd [1],_bbd [2],_bbd [3]);_gaf .NewSubPath ();case "\u0053":_egf ,_fa :=_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _fa !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fa );return _fa ;};_dae ,_gcb :=_egf .(*_a .PdfColorDeviceRGB );if !_gcb {_ad .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _fa ;};_gaf .SetRGBA (_dae .R (),_dae .G (),_dae .B (),1);_gaf .Stroke ();case "\u0073":_ac ,_dab :=_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _dab !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dab );return _dab ;};_gef ,_dgg :=_ac .(*_a .PdfColorDeviceRGB );if !_dgg {_ad .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _dab ;};_gaf .ClosePath ();_gaf .NewSubPath ();_gaf .SetRGBA (_gef .R (),_gef .G (),_gef .B (),1);_gaf .Stroke ();case "\u0066","\u0046":_fgf ,_bcb :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _bcb !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bcb );return _bcb ;};_bdd ,_dbge :=_fgf .(*_a .PdfColorDeviceRGB );if !_dbge {_ad .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _bcb ;};_gaf .SetRGBA (_bdd .R (),_bdd .G (),_bdd .B (),1);_gaf .SetFillRule (_cba .FillRuleWinding );_gaf .Fill ();case "\u0066\u002a":_bcf ,_fb :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _fb !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fb );return _fb ;};_egfa ,_fbd :=_bcf .(*_a .PdfColorDeviceRGB );if !_fbd {_ad .Log .Debug ("\u0045\u0072\u0072\u006fr \u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006co\u0072");return _fb ;};_gaf .SetRGBA (_egfa .R (),_egfa .G (),_egfa .B (),1);_gaf .SetFillRule (_cba .FillRuleEvenOdd );_gaf .Fill ();case "\u0042":_bfc ,_adga :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _adga !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_adga );return _adga ;};_fae :=_bfc .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_fae .R (),_fae .G (),_fae .B (),1);_gaf .SetFillRule (_cba .FillRuleWinding );_gaf .FillPreserve ();_bfc ,_adga =_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _adga !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_adga );return _adga ;};_fae =_bfc .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_fae .R (),_fae .G (),_fae .B (),1);_gaf .Stroke ();case "\u0042\u002a":_bbea ,_df :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _df !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_df );return _df ;};_agd :=_bbea .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_agd .R (),_agd .G (),_agd .B (),1);_gaf .SetFillRule (_cba .FillRuleEvenOdd );_gaf .FillPreserve ();_bbea ,_df =_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _df !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_df );return _df ;};_agd =_bbea .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_agd .R (),_agd .G (),_agd .B (),1);_gaf .Stroke ();case "\u0062":_gdfg ,_gae :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _gae !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gae );return _gae ;};_ca :=_gdfg .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_ca .R (),_ca .G (),_ca .B (),1);_gaf .ClosePath ();_gaf .NewSubPath ();_gaf .SetFillRule (_cba .FillRuleWinding );_gaf .FillPreserve ();_gdfg ,_gae =_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _gae !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_gae );return _gae ;};_ca =_gdfg .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_ca .R (),_ca .G (),_ca .B (),1);_gaf .Stroke ();case "\u0062\u002a":_gaf .ClosePath ();_ded ,_fdc :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _fdc !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fdc );return _fdc ;};_cde :=_ded .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_cde .R (),_cde .G (),_cde .B (),1);_gaf .NewSubPath ();_gaf .SetFillRule (_cba .FillRuleEvenOdd );_gaf .FillPreserve ();_ded ,_fdc =_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _fdc !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_fdc );return _fdc ;};_cde =_ded .(*_a .PdfColorDeviceRGB );_gaf .SetRGBA (_cde .R (),_cde .G (),_cde .B (),1);_gaf .Stroke ();case "\u006e":_gaf .ClearPath ();case "\u0057":_gaf .SetFillRule (_cba .FillRuleWinding );_gaf .ClipPreserve ();case "\u0057\u002a":_gaf .SetFillRule (_cba .FillRuleEvenOdd );_gaf .ClipPreserve ();case "\u0072\u0067":_aeb ,_fga :=_bb .ColorNonStroking .(*_a .PdfColorDeviceRGB );if !_fga {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorNonStroking );return nil ;};_gaf .SetFillRGBA (_aeb .R (),_aeb .G (),_aeb .B (),1);case "\u0052\u0047":_cgc ,_bad :=_bb .ColorStroking .(*_a .PdfColorDeviceRGB );if !_bad {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorStroking );return nil ;};_gaf .SetStrokeRGBA (_cgc .R (),_cgc .G (),_cgc .B (),1);case "\u006b":_efd ,_cdef :=_bb .ColorNonStroking .(*_a .PdfColorDeviceCMYK );if !_cdef {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorNonStroking );return nil ;};_ccb ,_cfa :=_bb .ColorspaceNonStroking .ColorToRGB (_efd );if _cfa !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorNonStroking );return nil ;};_cdf ,_cdef :=_ccb .(*_a .PdfColorDeviceRGB );if !_cdef {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ccb );return nil ;};_gaf .SetFillRGBA (_cdf .R (),_cdf .G (),_cdf .B (),1);case "\u004b":_dc ,_gga :=_bb .ColorStroking .(*_a .PdfColorDeviceCMYK );if !_gga {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorStroking );return nil ;};_ed ,_aed :=_bb .ColorspaceStroking .ColorToRGB (_dc );if _aed !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorStroking );return nil ;};_adf ,_gga :=_ed .(*_a .PdfColorDeviceRGB );if !_gga {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_ed );return nil ;};_gaf .SetStrokeRGBA (_adf .R (),_adf .G (),_adf .B (),1);case "\u0067":_fbb ,_ff :=_bb .ColorNonStroking .(*_a .PdfColorDeviceGray );if !_ff {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorNonStroking );return nil ;};_faa ,_ege :=_bb .ColorspaceNonStroking .ColorToRGB (_fbb );if _ege !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorNonStroking );return nil ;};_gfb ,_ff :=_faa .(*_a .PdfColorDeviceRGB );if !_ff {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_faa );return nil ;};_gaf .SetFillRGBA (_gfb .R (),_gfb .G (),_gfb .B (),1);case "\u0047":_ddc ,_bge :=_bb .ColorStroking .(*_a .PdfColorDeviceGray );if !_bge {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorStroking );return nil ;};_dfb ,_gba :=_bb .ColorspaceStroking .ColorToRGB (_ddc );if _gba !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorStroking );return nil ;};_ged ,_bge :=_dfb .(*_a .PdfColorDeviceRGB );if !_bge {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dfb );return nil ;};_gaf .SetStrokeRGBA (_ged .R (),_ged .G (),_ged .B (),1);case "\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_dfg ,_gabg :=_bb .ColorspaceNonStroking .ColorToRGB (_bb .ColorNonStroking );if _gabg !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorNonStroking );return nil ;};_bea ,_bfg :=_dfg .(*_a .PdfColorDeviceRGB );if !_bfg {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dfg );return nil ;};_gaf .SetFillRGBA (_bea .R (),_bea .G (),_bea .B (),1);case "\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_dbc ,_agg :=_bb .ColorspaceStroking .ColorToRGB (_bb .ColorStroking );if _agg !=nil {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_bb .ColorStroking );return nil ;};_ggb ,_gda :=_dbc .(*_a .PdfColorDeviceRGB );if !_gda {_ad .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0063\u006f\u006e\u0076\u0065r\u0074\u0069\u006e\u0067\u0020\u0063\u006f\u006c\u006f\u0072:\u0020\u0025\u0076",_dbc );return nil ;};_gaf .SetStrokeRGBA (_ggb .R (),_ggb .G (),_ggb .B (),1);case "\u0044\u006f":if len (_aa .Params )!=1{return _fcd ;};_cfc ,_acg :=_ge .GetName (_aa .Params [0]);if !_acg {return _bde ;};_ ,_dbb :=_ccf .GetXObjectByName (*_cfc );switch _dbb {case _a .XObjectTypeImage :_ad .Log .Debug ("\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u0069\u006d\u0061\u0067e\u003a\u0020\u0025\u0073",_cfc .String ());_ddg ,_dad :=_ccf .GetXObjectImageByName (*_cfc );if _dad !=nil {return _dad ;};_bdg ,_dad :=_ddg .ToImage ();if _dad !=nil {return _dad ;};_afc ,_dad :=_bdg .ToGoImage ();if _dad !=nil {return _dad ;};_eca :=_afc .Bounds ();_gaf .Push ();_gaf .Scale (1.0/float64 (_eca .Dx ()),-1.0/float64 (_eca .Dy ()));_gaf .DrawImageAnchored (_afc ,0,0,0,1);_gaf .Pop ();case _a .XObjectTypeForm :_ad .Log .Debug ("\u0058\u004fb\u006a\u0065\u0063t\u0020\u0066\u006f\u0072\u006d\u003a\u0020\u0025\u0073",_cfc .String ());_egc ,_eb :=_ccf .GetXObjectFormByName (*_cfc );if _eb !=nil {return _eb ;};_cfcc ,_eb :=_egc .GetContentStream ();if _eb !=nil {return _eb ;};_aeg :=_egc .Resources ;if _aeg ==nil {_aeg =_ccf ;};_gaf .Push ();if _egc .Matrix !=nil {_gbag ,_fggf :=_ge .GetArray (_egc .Matrix );if !_fggf {return _bde ;};_fgae ,_daff :=_ge .GetNumbersAsFloat (_gbag .Elements ());if _daff !=nil {return _daff ;};if len (_fgae )!=6{return _fcd ;};_fba :=_dd .NewMatrix (_fgae [0],_fgae [1],_fgae [2],_fgae [3],_fgae [4],_fgae [5]);_gaf .SetMatrix (_gaf .Matrix ().Mult (_fba ));};if _egc .BBox !=nil {_ggce ,_dce :=_ge .GetArray (_egc .BBox );if !_dce {return _bde ;};_acgg ,_gabb :=_ge .GetNumbersAsFloat (_ggce .Elements ());if _gabb !=nil {return _gabb ;};if len (_acgg )!=4{_ad .Log .Debug ("\u004c\u0065\u006e\u0020\u003d\u0020\u0025\u0064",len (_acgg ));return _fcd ;};_gaf .DrawRectangle (_acgg [0],_acgg [1],_acgg [2]-_acgg [0],_acgg [3]-_acgg [1]);_gaf .SetRGBA (1,0,0,1);_gaf .Clip ();}else {_ad .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0052\u0065q\u0075\u0069\u0072e\u0064\u0020\u0042\u0042\u006f\u0078\u0020\u006d\u0069ss\u0069\u006e\u0067 \u006f\u006e \u0058\u004f\u0062\u006a\u0065\u0063t\u0020\u0046o\u0072\u006d");};_eb =_cg .renderContentStream (_gaf ,string (_cfcc ),_aeg );if _eb !=nil {return _eb ;};_gaf .Pop ();};case "\u0042\u0049":if len (_aa .Params )!=1{return _fcd ;};_cdbf ,_gbb :=_aa .Params [0].(*_ba .ContentStreamInlineImage );if !_gbb {return nil ;};_faf ,_fbbc :=_cdbf .ToImage (_ccf );if _fbbc !=nil {return _fbbc ;};_fgaa ,_fbbc :=_faf .ToGoImage ();if _fbbc !=nil {return _fbbc ;};_cdc :=_fgaa .Bounds ();_gaf .Push ();_gaf .Scale (1.0/float64 (_cdc .Dx ()),-1.0/float64 (_cdc .Dy ()));_gaf .DrawImageAnchored (_fgaa ,0,0,0,1);_gaf .Pop ();case "\u0042\u0054":_bf .Reset ();case "\u0045\u0054":_bf .Reset ();case "\u0054\u004c":if len (_aa .Params )!=1{return _fcd ;};_cag ,_eff :=_ge .GetNumberAsFloat (_aa .Params [0]);if _eff !=nil {return _eff ;};_bf .Tl =_cag ;case "\u0054\u0063":if len (_aa .Params )!=1{return _fcd ;};_abdc ,_fdf :=_ge .GetNumberAsFloat (_aa .Params [0]);if _fdf !=nil {return _fdf ;};_bf .Tc =_abdc ;case "\u0054\u0077":if len (_aa .Params )!=1{return _fcd ;};_cda ,_bdf :=_ge .GetNumberAsFloat (_aa .Params [0]);if _bdf !=nil {return _bdf ;};_bf .Tw =_cda ;case "\u0054\u007a":if len (_aa .Params )!=1{return _fcd ;};_caa ,_ffg :=_ge .GetNumberAsFloat (_aa .Params [0]);if _ffg !=nil {return _ffg ;};_bf .Th =_caa ;case "\u0054\u0073":if len (_aa .Params )!=1{return _fcd ;};_cfe ,_fgag :=_ge .GetNumberAsFloat (_aa .Params [0]);if _fgag !=nil {return _fgag ;};_bf .Ts =_cfe ;case "\u0054\u0064":if len (_aa .Params )!=2{return _fcd ;};_fdfg ,_cbg :=_ge .GetNumbersAsFloat (_aa .Params );if _cbg !=nil {return _cbg ;};_ad .Log .Debug ("\u0054\u0064\u003a\u0020\u0025\u0076",_fdfg );_bf .ProcTd (_fdfg [0],_fdfg [1]);case "\u0054\u0044":if len (_aa .Params )!=2{return _fcd ;};_aff ,_eefe :=_ge .GetNumbersAsFloat (_aa .Params );if _eefe !=nil {return _eefe ;};_ad .Log .Debug ("\u0054\u0044\u003a\u0020\u0025\u0076",_aff );_bf .ProcTD (_aff [0],_aff [1]);case "\u0054\u002a":_bf .ProcTStar ();case "\u0054\u006d":if len (_aa .Params )!=6{return _fcd ;};_ffd ,_bag :=_ge .GetNumbersAsFloat (_aa .Params );if _bag !=nil {return _bag ;};_ad .Log .Debug ("\u0054\u0065x\u0074\u0020\u006da\u0074\u0072\u0069\u0078\u003a\u0020\u0025\u002b\u0076",_ffd );_bf .ProcTm (_ffd [0],_ffd [1],_ffd [2],_ffd [3],_ffd [4],_ffd [5]);case "\u0027":if len (_aa .Params )!=1{return _fcd ;};_fdfe ,_cfb :=_ge .GetStringBytes (_aa .Params [0]);if !_cfb {return _bde ;};_ad .Log .Debug ("\u0027\u0020\u0073t\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_fdfe ));_bf .ProcQ (_fdfe ,_gaf );case "\u0022":if len (_aa .Params )!=3{return _fcd ;};_gfa ,_bfa :=_ge .GetNumberAsFloat (_aa .Params [0]);if _bfa !=nil {return _bfa ;};_bef ,_bfa :=_ge .GetNumberAsFloat (_aa .Params [1]);if _bfa !=nil {return _bfa ;};_acb ,_fee :=_ge .GetStringBytes (_aa .Params [2]);if !_fee {return _bde ;};_bf .ProcDQ (_acb ,_gfa ,_bef ,_gaf );case "\u0054\u006a":if len (_aa .Params )!=1{return _fcd ;};_ade ,_egd :=_ge .GetStringBytes (_aa .Params [0]);if !_egd {return _bde ;};_ad .Log .Debug ("\u0054j\u0020s\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0060\u0025\u0073\u0060",string (_ade ));_bf .ProcTj (_ade ,_gaf );case "\u0054\u004a":if len (_aa .Params )!=1{return _fcd ;};_ffgf ,_cdcc :=_ge .GetArray (_aa .Params [0]);if !_cdcc {_ad .Log .Debug ("\u0054\u0079\u0070\u0065\u003a\u0020\u0025\u0054",_ffgf );return _bde ;};_ad .Log .Debug ("\u0054\u004a\u0020\u0061\u0072\u0072\u0061\u0079\u003a\u0020\u0025\u002b\u0076",_ffgf );for _ ,_egda :=range _ffgf .Elements (){switch _ffe :=_egda .(type ){case *_ge .PdfObjectString :if _ffe !=nil {_bf .ProcTj (_ffe .Bytes (),_gaf );};case *_ge .PdfObjectFloat ,*_ge .PdfObjectInteger :_befb ,_afa :=_ge .GetNumberAsFloat (_ffe );if _afa ==nil {_bf .Translate (-_befb *0.001*_bf .Tf .Size ,0);};};};case "\u0054\u0066":if len (_aa .Params )!=2{return _fcd ;};_ad .Log .Debug ("\u0025\u0023\u0076",_aa .Params );_cfeb ,_ace :=_ge .GetName (_aa .Params [0]);if !_ace ||_cfeb ==nil {_ad .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u006e\u0061m\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_aa .Params [0]);return _bde ;};_ad .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u006e\u0061\u006d\u0065\u003a\u0020\u0025\u0073",_cfeb .String ());_ccbg ,_dea :=_ge .GetNumberAsFloat (_aa .Params [1]);if _dea !=nil {_ad .Log .Debug ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0066\u006f\u006e\u0074\u0020\u0073\u0069z\u0065 \u006f\u0062\u006a\u0065\u0063\u0074\u003a \u0025\u0076",_aa .Params [1]);return _bde ;};_ad .Log .Debug ("\u0046\u006f\u006e\u0074\u0020\u0073\u0069\u007a\u0065\u003a\u0020\u0025\u0076",_ccbg );_ced ,_aebg :=_ccf .GetFontByName (*_cfeb );if !_aebg {_ad .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0046\u006f\u006e\u0074\u0020\u0025s\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064",_cfeb .String ());return _g .New ("\u0066\u006f\u006e\u0074\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};_ad .Log .Debug ("\u0046\u006f\u006e\u0074\u003a\u0020\u0025\u0054",_ced );_bac ,_ace :=_ge .GetDict (_ced );if !_ace {_ad .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075l\u0064\u0020\u006e\u006f\u0074\u0020\u0067e\u0074\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0069\u0063\u0074");return _bde ;};_abg ,_dea :=_a .NewPdfFontFromPdfObject (_bac );if _dea !=nil {_ad .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066\u0072\u006fm\u0020\u006fb\u006a\u0065\u0063\u0074");return _dea ;};_bdeg :=_abg .BaseFont ();if _bdeg ==""{_bdeg =_cfeb .String ();};_dfe ,_ace :=_eef [_bdeg ];if !_ace {_dfe ,_dea =_cba .NewTextFont (_abg ,_ccbg );if _dea !=nil {_ad .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dea );};};if _dfe ==nil {if len (_bdeg )> 7&&_bdeg [6]=='+'{_bdeg =_bdeg [7:];};_ebe :=[]string {_bdeg ,"\u0054i\u006de\u0073\u0020\u004e\u0065\u0077\u0020\u0052\u006f\u006d\u0061\u006e","\u0041\u0072\u0069a\u006c","D\u0065\u006a\u0061\u0056\u0075\u0020\u0053\u0061\u006e\u0073"};for _ ,_bfab :=range _ebe {_ad .Log .Debug ("\u0044\u0045\u0042\u0055\u0047\u003a \u0073\u0065\u0061\u0072\u0063\u0068\u0069\u006e\u0067\u0020\u0073\u0079\u0073t\u0065\u006d\u0020\u0066\u006f\u006e\u0074 \u0060\u0025\u0073\u0060",_bfab );if _dfe ,_ace =_eef [_bfab ];_ace {break ;};_ccc :=_bdb .Match (_bfab );if _ccc ==nil {_ad .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u0066\u0069\u006e\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_bfab );continue ;};_dfe ,_dea =_cba .NewTextFontFromPath (_ccc .Filename ,_ccbg );if _dea !=nil {_ad .Log .Debug ("c\u006f\u0075\u006c\u0064\u0020\u006eo\u0074\u0020\u006c\u006f\u0061\u0064\u0020\u0066\u006fn\u0074\u0020\u0066i\u006ce\u0020\u0025\u0073",_ccc .Filename );continue ;};_ad .Log .Debug ("\u0053\u0075\u0062\u0073\u0074\u0069t\u0075\u0074\u0069\u006e\u0067\u0020\u0066\u006f\u006e\u0074\u0020\u0025\u0073 \u0077\u0069\u0074\u0068\u0020\u0025\u0073 \u0028\u0025\u0073\u0029",_bdeg ,_ccc .Name ,_ccc .Filename );_eef [_bfab ]=_dfe ;break ;};};if _dfe ==nil {_ad .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0063\u006f\u0075\u006c\u0064\u0020n\u006f\u0074\u0020\u0066\u0069\u006ed\u0020\u0061\u006e\u0079\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065 \u0066\u006f\u006e\u0074");return _g .New ("\u0063\u006f\u0075\u006c\u0064\u0020\u006e\u006f\u0074\u0020\u0066\u0069\u006e\u0064\u0020a\u006ey\u0020\u0073\u0075\u0069\u0074\u0061\u0062\u006c\u0065\u0020\u0066\u006f\u006e\u0074");};_bf .ProcTf (_dfe .WithSize (_ccbg ,_abg ));case "\u0042\u004d\u0043","\u0042\u0044\u0043":case "\u0045\u004d\u0043":default:_ad .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0073u\u0070\u0070\u006f\u0072\u0074\u0065\u0064 \u006f\u0070\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u0073",_aa .Operand );};return nil ;});_fgd =_gdf .Process (_fdd );if _fgd !=nil {return _fgd ;};return nil ;};var (_bde =_g .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_fcd =_g .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););func _cc (_de string ,_fg _cb .Image ,_fc int )error {_gea ,_cbfd :=_f .Create (_de );if _cbfd !=nil {return _cbfd ;};defer _gea .Close ();return _db .Encode (_gea ,_fg ,&_db .Options {Quality :_fc });};func _ggc (_gfc string ,_dba _cb .Image )error {_gb ,_afg :=_f .Create (_gfc );if _afg !=nil {return _afg ;};defer _gb .Close ();return _fd .Encode (_gb ,_dba );};

// ImageDevice is used to render PDF pages to image targets.
type ImageDevice struct{renderer };