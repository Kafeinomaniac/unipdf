//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

//
// Package extractor is used for quickly extracting PDF content through a simple interface.
// Currently offers functionality for extracting textual content.
//
package extractor ;import (_eb "bytes";_c "errors";_be "fmt";_ca "github.com/unidoc/unipdf/v3/common";_aa "github.com/unidoc/unipdf/v3/common/license";_ad "github.com/unidoc/unipdf/v3/contentstream";_fd "github.com/unidoc/unipdf/v3/core";_ba "github.com/unidoc/unipdf/v3/internal/textencoding";_ea "github.com/unidoc/unipdf/v3/internal/transform";_cc "github.com/unidoc/unipdf/v3/model";_f "golang.org/x/text/unicode/norm";_ae "golang.org/x/xerrors";_bd "image/color";_g "io";_dc "math";_b "regexp";_ee "sort";_a "strings";_e "unicode";_ga "unicode/utf8";);func _bcbb (_adcd _cc .PdfRectangle )textState {return textState {_gcfa :100,_gfbe :RenderModeFill ,_edfb :_adcd };};

// RangeOffset returns the TextMarks in `ma` that overlap text[start:end] in the extracted text.
// These are tm: `start` <= tm.Offset + len(tm.Text) && tm.Offset < `end` where
// `start` and `end` are offsets in the extracted text.
// NOTE: TextMarks can contain multiple characters. e.g. "ffi" for the ï¬ƒ ligature so the first and
// last elements of the returned TextMarkArray may only partially overlap text[start:end].
func (_egca *TextMarkArray )RangeOffset (start ,end int )(*TextMarkArray ,error ){if _egca ==nil {return nil ,_c .New ("\u006da\u003d\u003d\u006e\u0069\u006c");};if end < start {return nil ,_be .Errorf ("\u0065\u006e\u0064\u0020\u003c\u0020\u0073\u0074\u0061\u0072\u0074\u002e\u0020\u0052\u0061n\u0067\u0065\u004f\u0066\u0066\u0073\u0065\u0074\u0020\u006e\u006f\u0074\u0020d\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020\u0073\u0074\u0061\u0072t=\u0025\u0064\u0020\u0065\u006e\u0064\u003d\u0025\u0064\u0020",start ,end );};_fgfe :=len (_egca ._cgbe );if _fgfe ==0{return _egca ,nil ;};if start < _egca ._cgbe [0].Offset {start =_egca ._cgbe [0].Offset ;};if end > _egca ._cgbe [_fgfe -1].Offset +1{end =_egca ._cgbe [_fgfe -1].Offset +1;};_cda :=_ee .Search (_fgfe ,func (_bfa int )bool {return _egca ._cgbe [_bfa ].Offset +len (_egca ._cgbe [_bfa ].Text )-1>=start });if !(0<=_cda &&_cda < _fgfe ){_afc :=_be .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020\u0072\u0061\u006e\u0067\u0065\u002e\u0020\u0073\u0074\u0061\u0072\u0074\u003d%\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009 \u006c\u0061\u0073\u0074\u003d%\u0076",start ,_cda ,_fgfe ,_egca ._cgbe [0],_egca ._cgbe [_fgfe -1]);return nil ,_afc ;};_dgeb :=_ee .Search (_fgfe ,func (_eef int )bool {return _egca ._cgbe [_eef ].Offset > end -1});if !(0<=_dgeb &&_dgeb < _fgfe ){_dga :=_be .Errorf ("\u004f\u0075\u0074\u0020\u006f\u0066\u0020r\u0061\u006e\u0067e\u002e\u0020\u0065n\u0064\u003d%\u0064\u0020\u0069\u0045\u006e\u0064=\u0025d \u006c\u0065\u006e\u003d\u0025\u0064\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025\u0076\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d\u0025\u0076",end ,_dgeb ,_fgfe ,_egca ._cgbe [0],_egca ._cgbe [_fgfe -1]);return nil ,_dga ;};if _dgeb <=_cda {return nil ,_be .Errorf ("\u0069\u0045\u006e\u0064\u0020\u003c=\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003a\u0020\u0073\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020\u0065\u006ed\u003d\u0025\u0064\u0020\u0069\u0053\u0074\u0061\u0072\u0074\u003d\u0025\u0064\u0020i\u0045n\u0064\u003d\u0025\u0064",start ,end ,_cda ,_dgeb );};return &TextMarkArray {_cgbe :_egca ._cgbe [_cda :_dgeb ]},nil ;};type markKind int ;type compositeCell struct{_cc .PdfRectangle ;paraList ;};func (_gcfae *ruling )alignsSec (_ddef *ruling )bool {const _afdd =_cge +1.0;return _gcfae ._abgg -_afdd <=_ddef ._debb &&_ddef ._abgg -_afdd <=_gcfae ._debb ;};type textLine struct{_cc .PdfRectangle ;_abe float64 ;_gbdef []*textWord ;_eegf float64 ;};func (_cgcg paraList )sortReadingOrder (){_ca .Log .Trace ("\u0073\u006fr\u0074\u0052\u0065\u0061\u0064i\u006e\u0067\u004f\u0072\u0064e\u0072\u003a\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_cgcg ));if len (_cgcg )<=1{return ;};_cgcg .computeEBBoxes ();_ee .Slice (_cgcg ,func (_gebd ,_fbge int )bool {return _adfe (_cgcg [_gebd ],_cgcg [_fbge ])<=0});_ggcd :=_cgcg .topoOrder ();_cgcg .reorder (_ggcd );};type textState struct{_bbg float64 ;_ddab float64 ;_gcfa float64 ;_aag float64 ;_ddaf float64 ;_gfbe RenderMode ;_agff float64 ;_cbcg *_cc .PdfFont ;_edfb _cc .PdfRectangle ;_ebd int ;_eaea int ;};

// String returns a human readable description of `ss`.
func (_egbb *shapesState )String ()string {return _be .Sprintf ("\u007b\u0025\u0064\u0020su\u0062\u0070\u0061\u0074\u0068\u0073\u0020\u0066\u0072\u0065\u0073\u0068\u003d\u0025t\u007d",len (_egbb ._dad ),_egbb ._aaad );};

// TextTable represents a table.
// Cells are ordered top-to-bottom, left-to-right.
// Cells[y] is the (0-offset) y'th row in the table.
// Cells[y][x] is the (0-offset) x'th column in the table.
type TextTable struct{W ,H int ;Cells [][]TableCell ;};type shapesState struct{_bec _ea .Matrix ;_dae _ea .Matrix ;_dad []*subpath ;_aaad bool ;_dac _ea .Point ;_ffc *textObject ;};func (_fgaee paraList )eventNeighbours (_dgebe []event )map[*textPara ][]int {_ee .Slice (_dgebe ,func (_ccbf ,_cagab int )bool {_fffbf ,_agffa :=_dgebe [_ccbf ],_dgebe [_cagab ];_dabg ,_fegcb :=_fffbf ._beabd ,_agffa ._beabd ;if _dabg !=_fegcb {return _dabg < _fegcb ;};if _fffbf ._dbbb !=_agffa ._dbbb {return _fffbf ._dbbb ;};return _ccbf < _cagab ;});_beacb :=make (map[int ]intSet );_dbaad :=make (intSet );for _ ,_cgafg :=range _dgebe {if _cgafg ._dbbb {_beacb [_cgafg ._eeaf ]=make (intSet );for _afdge :=range _dbaad {if _afdge !=_cgafg ._eeaf {_beacb [_cgafg ._eeaf ].add (_afdge );_beacb [_afdge ].add (_cgafg ._eeaf );};};_dbaad .add (_cgafg ._eeaf );}else {_dbaad .del (_cgafg ._eeaf );};};_cgce :=map[*textPara ][]int {};for _dfceaa ,_cbbd :=range _beacb {_dgfdb :=_fgaee [_dfceaa ];if len (_cbbd )==0{_cgce [_dgfdb ]=nil ;continue ;};_fbcde :=make ([]int ,len (_cbbd ));_daggb :=0;for _ceef :=range _cbbd {_fbcde [_daggb ]=_ceef ;_daggb ++;};_cgce [_dgfdb ]=_fbcde ;};return _cgce ;};func (_af *stateStack )pop ()*textState {if _af .empty (){return nil ;};_cffd :=*(*_af )[len (*_af )-1];*_af =(*_af )[:len (*_af )-1];return &_cffd ;};func (_begg rulingList )log (_dbfbg string ){if !_abda {return ;};_ca .Log .Info ("\u0023\u0023\u0023\u0020\u0025\u0031\u0030\u0073\u003a\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_dbfbg ,_begg .String ());for _cdeg ,_bebd :=range _begg {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cdeg ,_bebd .String ());};};func (_cfbg *textObject )getFontDict (_cgcf string )(_fgdf _fd .PdfObject ,_febc error ){_eaf :=_cfbg ._abdg ;if _eaf ==nil {_ca .Log .Debug ("g\u0065\u0074\u0046\u006f\u006e\u0074D\u0069\u0063\u0074\u002e\u0020\u004eo\u0020\u0072\u0065\u0073\u006f\u0075\u0072c\u0065\u0073\u002e\u0020\u006e\u0061\u006d\u0065\u003d\u0025#\u0071",_cgcf );return nil ,nil ;};_fgdf ,_afa :=_eaf .GetFontByName (_fd .PdfObjectName (_cgcf ));if !_afa {_ca .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u0067\u0065t\u0046\u006f\u006et\u0044\u0069\u0063\u0074\u003a\u0020\u0046\u006f\u006et \u006e\u006f\u0074 \u0066\u006fu\u006e\u0064\u003a\u0020\u006e\u0061m\u0065\u003d%\u0023\u0071",_cgcf );return nil ,_c .New ("f\u006f\u006e\u0074\u0020no\u0074 \u0069\u006e\u0020\u0072\u0065s\u006f\u0075\u0072\u0063\u0065\u0073");};return _fgdf ,nil ;};func (_ddea *textTable )isExportable ()bool {if _ddea ._dfad {return true ;};_fdag :=func (_dabe int )bool {_cdggf :=_ddea .get (0,_dabe );if _cdggf ==nil {return false ;};_cead :=_cdggf .text ();_fagfd :=_ga .RuneCountInString (_cead );_gcfba :=_abbad .MatchString (_cead );return _fagfd <=1||_gcfba ;};for _ababf :=0;_ababf < _ddea ._bgfb ;_ababf ++{if !_fdag (_ababf ){return true ;};};return false ;};func _ffged (_edcd map[float64 ]map[float64 ]gridTile )[]float64 {_ggaag :=make ([]float64 ,0,len (_edcd ));_egabb :=make (map[float64 ]struct{},len (_edcd ));for _ ,_dbcd :=range _edcd {for _eceb :=range _dbcd {if _ ,_eedb :=_egabb [_eceb ];_eedb {continue ;};_ggaag =append (_ggaag ,_eceb );_egabb [_eceb ]=struct{}{};};};_ee .Float64s (_ggaag );return _ggaag ;};func (_gbag gridTile )complete ()bool {return _gbag .numBorders ()==4};type ruling struct{_fdebe rulingKind ;_adce markKind ;_bd .Color ;_cecfa float64 ;_abgg float64 ;_debb float64 ;_ggcg float64 ;};func (_ade *stateStack )push (_eda *textState ){_fde :=*_eda ;*_ade =append (*_ade ,&_fde )};func _effb (_aebb *Extractor ,_cgc *_cc .PdfPageResources ,_ffbbc _ad .GraphicsState ,_fcf *textState ,_aac *stateStack )*textObject {return &textObject {_fgg :_aebb ,_abdg :_cgc ,_adg :_ffbbc ,_edfc :_aac ,_dbf :_fcf ,_bdc :_ea .IdentityMatrix (),_fcc :_ea .IdentityMatrix ()};};func (_aega *textLine )endsInHyphen ()bool {_cfbgf :=_aega ._gbdef [len (_aega ._gbdef )-1];_fadaf :=_cfbgf ._bgde ;_dcag ,_abba :=_ga .DecodeLastRuneInString (_fadaf );if _abba <=0||!_e .Is (_e .Hyphen ,_dcag ){return false ;};if _cfbgf ._eaee &&_bbbe (_fadaf ){return true ;};return _bbbe (_aega .text ());};

// String returns a description of `p`.
func (_gbac *textPara )String ()string {if _gbac ._gdcb {return _be .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u005b\u0045\u004d\u0050\u0054\u0059\u005d",_gbac .PdfRectangle );};_defcb :="";if _gbac ._eeca !=nil {_defcb =_be .Sprintf ("\u005b\u0025\u0064\u0078\u0025\u0064\u005d\u0020",_gbac ._eeca ._dadf ,_gbac ._eeca ._bgfb );};return _be .Sprintf ("\u0025\u0036\u002e\u0032f \u0025\u0073\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u0020\u0025\u0071",_gbac .PdfRectangle ,_defcb ,len (_gbac ._abbfb ),_fafd (_gbac .text (),50));};func (_bdeaf *wordBag )removeWord (_ffbg *textWord ,_fcfc int ){_afb :=_bdeaf ._fgdfc [_fcfc ];_afb =_gcgf (_afb ,_ffbg );if len (_afb )==0{delete (_bdeaf ._fgdfc ,_fcfc );}else {_bdeaf ._fgdfc [_fcfc ]=_afb ;};};func _aggf (_badg []compositeCell )[]float64 {var _eegd []*textLine ;_ccea :=0;for _ ,_cecdb :=range _badg {_ccea +=len (_cecdb .paraList );_eegd =append (_eegd ,_cecdb .lines ()...);};_ee .Slice (_eegd ,func (_ggcaf ,_adbba int )bool {_gaefdd ,_gdag :=_eegd [_ggcaf ],_eegd [_adbba ];_ggcdc ,_faag :=_gaefdd ._abe ,_gdag ._abe ;if !_efgag (_ggcdc -_faag ){return _ggcdc < _faag ;};return _gaefdd .Llx < _gdag .Llx ;});if _adfa {_be .Printf ("\u0020\u0020\u0020 r\u006f\u0077\u0042\u006f\u0072\u0064\u0065\u0072\u0073:\u0020%\u0064 \u0070a\u0072\u0061\u0073\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",_ccea ,len (_eegd ));for _becf ,_bdeb :=range _eegd {_be .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_becf ,_bdeb );};};var _cbab []float64 ;_cbag :=_eegd [0];var _ddec [][]*textLine ;_febbeg :=[]*textLine {_cbag };for _adfcc ,_efae :=range _eegd [1:]{if _efae .Ury < _cbag .Lly {_afaf :=0.5*(_efae .Ury +_cbag .Lly );if _adfa {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u003c\u0020\u0025\u0036.\u0032f\u0020\u0062\u006f\u0072\u0064\u0065\u0072\u003d\u0025\u0036\u002e\u0032\u0066\u000a"+"\u0009\u0020\u0071\u003d\u0025\u0073\u000a\u0009\u0020p\u003d\u0025\u0073\u000a",_adfcc ,_efae .Ury ,_cbag .Lly ,_afaf ,_cbag ,_efae );};_cbab =append (_cbab ,_afaf );_ddec =append (_ddec ,_febbeg );_febbeg =nil ;};_febbeg =append (_febbeg ,_efae );if _efae .Lly < _cbag .Lly {_cbag =_efae ;};};if len (_febbeg )> 0{_ddec =append (_ddec ,_febbeg );};if _adfa {_be .Printf (" \u0020\u0020\u0020\u0020\u0020\u0020 \u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073\u003d%\u0036.\u0032\u0066\u000a",_cbab );};if _adfa {_ca .Log .Info ("\u0072\u006f\u0077\u003d\u0025\u0064",len (_badg ));for _edec ,_ffabe :=range _badg {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_edec ,_ffabe );};_ca .Log .Info ("\u0067r\u006f\u0075\u0070\u0073\u003d\u0025d",len (_ddec ));for _cada ,_ecabcb :=range _ddec {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0064\u000a",_cada ,len (_ecabcb ));for _aagcg ,_abac :=range _ecabcb {_be .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_aagcg ,_abac );};};};_becfd :=true ;for _aggea ,_egbec :=range _ddec {_ceecd :=true ;for _fggca ,_gccda :=range _badg {if _adfa {_be .Printf ("\u0020\u0020\u0020\u007e\u007e\u007e\u0067\u0072\u006f\u0075\u0070\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u0020\u0063\u0065\u006cl\u0020\u0025\u0064\u0020\u006ff\u0020\u0025d\u0020\u0025\u0073\u000a",_aggea ,len (_ddec ),_fggca ,len (_badg ),_gccda );};if !_gccda .hasLines (_egbec ){if _adfa {_be .Printf ("\u0020\u0020\u0020\u0021\u0021\u0021\u0067\u0072\u006f\u0075\u0070\u0020\u0025d\u0020\u006f\u0066\u0020\u0025\u0064 \u0063\u0065\u006c\u006c\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064 \u004f\u0055\u0054\u000a",_aggea ,len (_ddec ),_fggca ,len (_badg ));};_ceecd =false ;break ;};};if !_ceecd {_becfd =false ;break ;};};if !_becfd {if _adfa {_ca .Log .Info ("\u0072\u006f\u0077\u0020\u0063o\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u0020\u0064\u006f\u006e\u0027\u0074 \u0073\u0070\u0061\u006e\u0020\u0061\u006c\u006c\u0020\u0063\u0065\u006c\u006c\u0073\u0020\u0069\u006e\u0020\u0072\u006f\u0077\u002e\u0020\u0069\u0067\u006e\u006f\u0072\u0069\u006eg");};_cbab =nil ;};if _adfa &&_cbab !=nil {_be .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u002a\u002a*\u0072\u006f\u0077\u0043\u006f\u0072\u0072i\u0064\u006f\u0072\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u000a",_cbab );};return _cbab ;};func _egaf (_egbg func (*wordBag ,*textWord ,float64 )bool ,_fgca float64 )func (*wordBag ,*textWord )bool {return func (_fbcab *wordBag ,_fffab *textWord )bool {return _egbg (_fbcab ,_fffab ,_fgca )};};

// TextMarkArray is a collection of TextMarks.
type TextMarkArray struct{_cgbe []TextMark };type subpath struct{_beabg []_ea .Point ;_aaf bool ;};func _ggcgf (_fdga float64 )float64 {return _ccg *_dc .Round (_fdga /_ccg )};type intSet map[int ]struct{};type bounded interface{bbox ()_cc .PdfRectangle };func (_bgeb *PageText )computeViews (){var _gee rulingList ;if _dgfg {_gaba :=_dfdd (_bgeb ._cbf );_gee =append (_gee ,_gaba ...);};if _aafg {_gcd :=_efda (_bgeb ._bad );_gee =append (_gee ,_gcd ...);};_gee ,_ccda :=_gee .toTilings ();var _agb paraList ;_cfa :=len (_bgeb ._gcae );for _gaef :=0;_gaef < 360&&_cfa > 0;_gaef +=90{_dbfb :=make ([]*textMark ,0,len (_bgeb ._gcae )-_cfa );for _ ,_effe :=range _bgeb ._gcae {if _effe ._egab ==_gaef {_dbfb =append (_dbfb ,_effe );};};if len (_dbfb )> 0{_fdf :=_gbce (_dbfb ,_bgeb ._ggad ,_gee ,_ccda );_agb =append (_agb ,_fdf ...);_cfa -=len (_dbfb );};};_beb :=new (_eb .Buffer );_agb .writeText (_beb );_bgeb ._cabf =_beb .String ();_bgeb ._dcad =_agb .toTextMarks ();_bgeb ._fgb =_agb .tables ();if _adfa {_ca .Log .Info ("\u0063\u006f\u006dpu\u0074\u0065\u0056\u0069\u0065\u0077\u0073\u003a\u0020\u0074\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064",len (_bgeb ._fgb ));};};

// TableCell is a cell in a TextTable.
type TableCell struct{

// Text is the extracted text.
Text string ;

// Marks returns the TextMarks corresponding to the text in Text.
Marks TextMarkArray ;};type rulingList []*ruling ;func (_dcd *textObject )moveTextSetLeading (_fdde ,_gdee float64 ){_dcd ._dbf ._aag =-_gdee ;_dcd .moveLP (_fdde ,_gdee );};func (_bbea *subpath )clear (){*_bbea =subpath {}};type paraList []*textPara ;

// Tables returns the tables extracted from the page.
func (_dge PageText )Tables ()[]TextTable {if _adfa {_ca .Log .Info ("\u0054\u0061\u0062\u006c\u0065\u0073\u003a\u0020\u0025\u0064",len (_dge ._fgb ));};return _dge ._fgb ;};func (_bagcga *textTable )emptyRow (_caed int )bool {for _ebfa :=0;_ebfa < _bagcga ._dadf ;_ebfa ++{_becg :=_bagcga .get (_ebfa ,_caed );if _becg !=nil &&_becg .text ()!=""{return false ;};};return true ;};func (_bgfg *wordBag )scanBand (_efafb string ,_cef *wordBag ,_bfc func (_dfdb *wordBag ,_dfg *textWord )bool ,_adf ,_fee ,_aec float64 ,_ffgc ,_ceec bool )int {_dcb :=_cef ._ddfd ;var _agab map[int ]map[*textWord ]struct{};if !_ffgc {_agab =_bgfg .makeRemovals ();};_gadb :=_ggdfc *_dcb ;_gaefd :=0;for _ ,_gecd :=range _bgfg .depthBand (_adf -_gadb ,_fee +_gadb ){if len (_bgfg ._fgdfc [_gecd ])==0{continue ;};for _ ,_gebf :=range _bgfg ._fgdfc [_gecd ]{if !(_adf -_gadb <=_gebf ._edgd &&_gebf ._edgd <=_fee +_gadb ){continue ;};if !_bfc (_cef ,_gebf ){continue ;};_cafc :=2.0*_dc .Abs (_gebf ._edecc -_cef ._ddfd )/(_gebf ._edecc +_cef ._ddfd );_fceag :=_dc .Max (_gebf ._edecc /_cef ._ddfd ,_cef ._ddfd /_gebf ._edecc );_ddda :=_dc .Min (_cafc ,_fceag );if _aec > 0&&_ddda > _aec {continue ;};if _cef .blocked (_gebf ){continue ;};if !_ffgc {_cef .pullWord (_gebf ,_gecd ,_agab );};_gaefd ++;if !_ceec {if _gebf ._edgd < _adf {_adf =_gebf ._edgd ;};if _gebf ._edgd > _fee {_fee =_gebf ._edgd ;};};if _ffgc {break ;};};};if !_ffgc {_bgfg .applyRemovals (_agab );};return _gaefd ;};type rectRuling struct{_badf rulingKind ;_fbcb markKind ;_bd .Color ;_cc .PdfRectangle ;};func (_dffg *wordBag )pullWord (_agdc *textWord ,_dfa int ,_ggaa map[int ]map[*textWord ]struct{}){_dffg .PdfRectangle =_aed (_dffg .PdfRectangle ,_agdc .PdfRectangle );if _agdc ._edecc > _dffg ._ddfd {_dffg ._ddfd =_agdc ._edecc ;};_dffg ._fgdfc [_dfa ]=append (_dffg ._fgdfc [_dfa ],_agdc );_ggaa [_dfa ][_agdc ]=struct{}{};};func (_fba *wordBag )depthBand (_cffe ,_baad float64 )[]int {if len (_fba ._fgdfc )==0{return nil ;};return _fba .depthRange (_fba .getDepthIdx (_cffe ),_fba .getDepthIdx (_baad ));};func (_gfgbb *textTable )put (_eaaf ,_dfca int ,_cgfc *textPara ){_gfgbb ._bbag [_ada (_eaaf ,_dfca )]=_cgfc ;};func (_cbe *stateStack )size ()int {return len (*_cbe )};func _fac (_fffa float64 )int {var _acd int ;if _fffa >=0{_acd =int (_fffa /_efcca );}else {_acd =int (_fffa /_efcca )-1;};return _acd ;};func _ggbcd (_fbag ,_cdfb float64 )bool {return _dc .Abs (_fbag -_cdfb )<=_afge };func _bcfa (_bfafg map[int ]intSet )[]int {_deeg :=make ([]int ,0,len (_bfafg ));for _ddcae :=range _bfafg {_deeg =append (_deeg ,_ddcae );};_ee .Ints (_deeg );return _deeg ;};func (_ceceb rulingList )primaries ()[]float64 {_aeeb :=make (map[float64 ]struct{},len (_ceceb ));for _ ,_egce :=range _ceceb {_aeeb [_egce ._cecfa ]=struct{}{};};_aade :=make ([]float64 ,len (_aeeb ));_fcgec :=0;for _dggc :=range _aeeb {_aade [_fcgec ]=_dggc ;_fcgec ++;};_ee .Float64s (_aade );return _aade ;};func (_bgga *wordBag )highestWord (_bdfg int ,_geea ,_adgb float64 )*textWord {for _ ,_agbg :=range _bgga ._fgdfc [_bdfg ]{if _geea <=_agbg ._edgd &&_agbg ._edgd <=_adgb {return _agbg ;};};return nil ;};func _gaa (_ggbc _ea .Point )*subpath {return &subpath {_beabg :[]_ea .Point {_ggbc }}};

// Text returns the extracted page text.
func (_bccb PageText )Text ()string {return _bccb ._cabf };func (_fegg *wordBag )firstWord (_bbfbe int )*textWord {return _fegg ._fgdfc [_bbfbe ][0]};type cachedImage struct{_bfg *_cc .Image ;_ef _cc .PdfColorspace ;};func _dcede (_cdgdg string )string {_gbcd :=[]rune (_cdgdg );return string (_gbcd [:len (_gbcd )-1])};func (_gaabb intSet )del (_gbdba int ){delete (_gaabb ,_gbdba )};var _df =false ;func (_dgcg *textLine )toTextMarks (_bbdd *int )[]TextMark {var _dbef []TextMark ;for _ ,_eced :=range _dgcg ._gbdef {if _eced ._eaee {_dbef =_beff (_dbef ,_bbdd ,"\u0020");};_eacb :=_eced .toTextMarks (_bbdd );_dbef =append (_dbef ,_eacb ...);};return _dbef ;};func (_ged *Extractor )extractPageText (_gbd string ,_gcc *_cc .PdfPageResources ,_gcba _ea .Matrix ,_ffb int )(*PageText ,int ,int ,error ){_ca .Log .Trace ("\u0065x\u0074\u0072\u0061\u0063t\u0050\u0061\u0067\u0065\u0054e\u0078t\u003a \u006c\u0065\u0076\u0065\u006c\u003d\u0025d",_ffb );_fbde :=&PageText {_ggad :_ged ._ge };_cg :=_bcbb (_ged ._ge );var _ede stateStack ;_dcc :=_effb (_ged ,_gcc ,_ad .GraphicsState {},&_cg ,&_ede );_dca :=shapesState {_dae :_gcba ,_bec :_ea .IdentityMatrix (),_ffc :_dcc };var _dee bool ;if _ffb > _bbf {_fdd :=_c .New ("\u0066\u006f\u0072\u006d s\u0074\u0061\u0063\u006b\u0020\u006f\u0076\u0065\u0072\u0066\u006c\u006f\u0077");_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0065\u0078\u0074\u0072\u0061\u0063\u0074\u0050\u0061\u0067\u0065\u0054\u0065\u0078\u0074\u002e\u0020\u0072\u0065\u0063u\u0072\u0073\u0069\u006f\u006e\u0020\u006c\u0065\u0076\u0065\u006c\u003d\u0025\u0064 \u0065r\u0072\u003d\u0025\u0076",_ffb ,_fdd );return _fbde ,_cg ._ebd ,_cg ._eaea ,_fdd ;};_ccf :=_ad .NewContentStreamParser (_gbd );_eddb ,_ffaf :=_ccf .Parse ();if _ffaf !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020e\u0078\u0074\u0072a\u0063\u0074\u0050\u0061g\u0065\u0054\u0065\u0078\u0074\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ffaf );return _fbde ,_cg ._ebd ,_cg ._eaea ,_ffaf ;};_ecg :=_ad .NewContentStreamProcessor (*_eddb );_ecg .AddHandler (_ad .HandlerConditionEnumAllOperands ,"",func (_cee *_ad .ContentStreamOperation ,_bgb _ad .GraphicsState ,_gfc *_cc .PdfPageResources )error {_geb :=_cee .Operand ;if _deaf {_ca .Log .Info ("\u0026&\u0026\u0020\u006f\u0070\u003d\u0025s",_cee );};switch _geb {case "\u0071":if _fge {_ca .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dca ._bec );};_ede .push (&_cg );case "\u0051":if !_ede .empty (){_cg =*_ede .top ();if len (_ede )>=2{_ede .pop ();};};_dca ._bec =_bgb .CTM ;if _fge {_ca .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dca ._bec );};case "\u0042\u0054":if _dee {_ca .Log .Debug ("\u0042\u0054\u0020\u0063\u0061\u006c\u006c\u0065\u0064\u0020\u0077\u0068\u0069\u006c\u0065 \u0069n\u0020\u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");_fbde ._gcae =append (_fbde ._gcae ,_dcc ._dgcb ...);};_dee =true ;_cce :=_bgb ;_cce .CTM =_gcba .Mult (_cce .CTM );_dcc =_effb (_ged ,_gfc ,_cce ,&_cg ,&_ede );_dca ._ffc =_dcc ;case "\u0045\u0054":if !_dee {_ca .Log .Debug ("\u0045\u0054\u0020ca\u006c\u006c\u0065\u0064\u0020\u006f\u0075\u0074\u0073i\u0064e\u0020o\u0066 \u0061\u0020\u0074\u0065\u0078\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074");};_dee =false ;_fbde ._gcae =append (_fbde ._gcae ,_dcc ._dgcb ...);_dcc .reset ();case "\u0054\u002a":_dcc .nextLine ();case "\u0054\u0064":if _bcf ,_fdg :=_dcc .checkOp (_cee ,2,true );!_bcf {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fdg );return _fdg ;};_dbc ,_fbc ,_efa :=_abdec (_cee .Params );if _efa !=nil {return _efa ;};_dcc .moveText (_dbc ,_fbc );case "\u0054\u0044":if _fdgf ,_ffd :=_dcc .checkOp (_cee ,2,true );!_fdgf {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ffd );return _ffd ;};_eded ,_bda ,_bgf :=_abdec (_cee .Params );if _bgf !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgf );return _bgf ;};_dcc .moveTextSetLeading (_eded ,_bda );case "\u0054\u006a":if _dda ,_dgc :=_dcc .checkOp (_cee ,1,true );!_dda {_ca .Log .Debug ("\u0045\u0052\u0052\u004fR:\u0020\u0054\u006a\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0065\u0072\u0072\u003d%\u0076",_cee ,_dgc );return _dgc ;};_bcc ,_age :=_fd .GetStringBytes (_cee .Params [0]);if !_age {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020T\u006a\u0020o\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074S\u0074\u0072\u0069\u006e\u0067\u0042\u0079\u0074\u0065\u0073\u0020\u0066a\u0069\u006c\u0065\u0064",_cee );return _fd .ErrTypeError ;};return _dcc .showText (_bcc );case "\u0054\u004a":if _ceb ,_fdcf :=_dcc .checkOp (_cee ,1,true );!_ceb {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fdcf );return _fdcf ;};_ffbc ,_fda :=_fd .GetArray (_cee .Params [0]);if !_fda {_ca .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u0054\u004a\u0020\u006f\u0070\u003d\u0025s\u0020G\u0065t\u0041r\u0072\u0061\u0079\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_cee );return _ffaf ;};return _dcc .showTextAdjusted (_ffbc );case "\u0027":if _fe ,_gab :=_dcc .checkOp (_cee ,1,true );!_fe {_ca .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0027\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gab );return _gab ;};_gfb ,_bbc :=_fd .GetStringBytes (_cee .Params [0]);if !_bbc {_ca .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020'\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_cee );return _fd .ErrTypeError ;};_dcc .nextLine ();return _dcc .showText (_gfb );case "\u0022":if _cfb ,_aebc :=_dcc .checkOp (_cee ,3,true );!_cfb {_ca .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u0022\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aebc );return _aebc ;};_bea ,_eeb ,_bef :=_abdec (_cee .Params [:2]);if _bef !=nil {return _bef ;};_edcf ,_ac :=_fd .GetStringBytes (_cee .Params [2]);if !_ac {_ca .Log .Debug ("\u0045\u0052RO\u0052\u003a\u0020\"\u0020\u006f\u0070\u003d%s \u0047et\u0053\u0074\u0072\u0069\u006e\u0067\u0042yt\u0065\u0073\u0020\u0066\u0061\u0069\u006ce\u0064",_cee );return _fd .ErrTypeError ;};_dcc .setCharSpacing (_bea );_dcc .setWordSpacing (_eeb );_dcc .nextLine ();return _dcc .showText (_edcf );case "\u0054\u004c":_adc ,_cfe :=_bdb (_cee );if _cfe !=nil {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u004c\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cfe );return _cfe ;};_dcc .setTextLeading (_adc );case "\u0054\u0063":_abfg ,_bgd :=_bdb (_cee );if _bgd !=nil {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0063\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bgd );return _bgd ;};_dcc .setCharSpacing (_abfg );case "\u0054\u0066":if _ddad ,_dfc :=_dcc .checkOp (_cee ,2,true );!_ddad {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0066\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_dfc );return _dfc ;};_egc ,_gce :=_fd .GetNameVal (_cee .Params [0]);if !_gce {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a \u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u004ea\u006d\u0065\u0056\u0061\u006c\u0020\u0066a\u0069\u006c\u0065\u0064",_cee );return _fd .ErrTypeError ;};_cag ,_deb :=_fd .GetNumberAsFloat (_cee .Params [1]);if !_gce {_ca .Log .Debug ("\u0045\u0052\u0052O\u0052\u003a\u0020\u0054\u0066\u0020\u006f\u0070\u003d\u0025\u0073\u0020\u0047\u0065\u0074\u0046\u006c\u006f\u0061\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065d\u002e\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_cee ,_deb );return _deb ;};_deb =_dcc .setFont (_egc ,_cag );_dcc ._dbfd =_ae .Is (_deb ,_fd .ErrNotSupported );if _deb !=nil &&!_dcc ._dbfd {return _deb ;};case "\u0054\u006d":if _cgf ,_fea :=_dcc .checkOp (_cee ,6,true );!_cgf {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u006d\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_fea );return _fea ;};_dce ,_bcbd :=_fd .GetNumbersAsFloat (_cee .Params );if _bcbd !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_bcbd );return _bcbd ;};_dcc .setTextMatrix (_dce );case "\u0054\u0072":if _fca ,_edee :=_dcc .checkOp (_cee ,1,true );!_fca {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0072\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_edee );return _edee ;};_fdb ,_edf :=_fd .GetIntVal (_cee .Params [0]);if !_edf {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0072\u0020\u006f\u0070\u003d\u0025\u0073 \u0047e\u0074\u0049\u006e\u0074\u0056\u0061\u006c\u0020\u0066\u0061\u0069\u006c\u0065\u0064",_cee );return _fd .ErrTypeError ;};_dcc .setTextRenderMode (_fdb );case "\u0054\u0073":if _feb ,_efb :=_dcc .checkOp (_cee ,1,true );!_feb {_ca .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a \u0054\u0073\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_efb );return _efb ;};_def ,_gae :=_fd .GetNumberAsFloat (_cee .Params [0]);if _gae !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_gae );return _gae ;};_dcc .setTextRise (_def );case "\u0054\u0077":if _gef ,_eabg :=_dcc .checkOp (_cee ,1,true );!_gef {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_eabg );return _eabg ;};_gaf ,_aaa :=_fd .GetNumberAsFloat (_cee .Params [0]);if _aaa !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_aaa );return _aaa ;};_dcc .setWordSpacing (_gaf );case "\u0054\u007a":if _befa ,_ddada :=_dcc .checkOp (_cee ,1,true );!_befa {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ddada );return _ddada ;};_fcb ,_ecb :=_fd .GetNumberAsFloat (_cee .Params [0]);if _ecb !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_ecb );return _ecb ;};_dcc .setHorizScaling (_fcb );case "\u0063\u006d":_dca ._bec =_bgb .CTM ;if _dca ._bec .Singular (){_ace :=_ea .IdentityMatrix ().Translate (_dca ._bec .Translation ());_ca .Log .Debug ("S\u0069n\u0067\u0075\u006c\u0061\u0072\u0020\u0063\u0074m\u003d\u0025\u0073\u2192%s",_dca ._bec ,_ace );_dca ._bec =_ace ;};if _fge {_ca .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dca ._bec );};case "\u006d":if len (_cee .Params )!=2{_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006d\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_gb );return nil ;};_dbe ,_eea :=_fd .GetNumbersAsFloat (_cee .Params );if _eea !=nil {return _eea ;};_ca .Log .Debug ("\u004d\u006f\u0076\u0065\u0020\u0074\u006f\u003a\u0020\u0025\u002e\u0032\u0066",_dbe );_dca .moveTo (_dbe [0],_dbe [1]);case "\u006c":if len (_cee .Params )!=2{_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0065\u0072\u0072o\u0072\u0020\u0077\u0068\u0069\u006c\u0065\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u0020\u0060\u006c\u0060\u0020o\u0070\u0065r\u0061\u0074o\u0072\u003a\u0020\u0025\u0076\u002e\u0020\u004f\u0075\u0074\u0070\u0075\u0074 m\u0061\u0079\u0020\u0062\u0065\u0020\u0069\u006e\u0063o\u0072\u0072\u0065\u0063\u0074\u002e",_gb );return nil ;};_fbe ,_aee :=_fd .GetNumbersAsFloat (_cee .Params );if _aee !=nil {return _aee ;};_dca .lineTo (_fbe [0],_fbe [1]);case "\u0063":if len (_cee .Params )!=6{return _gb ;};_cdg ,_ecdf :=_fd .GetNumbersAsFloat (_cee .Params );if _ecdf !=nil {return _ecdf ;};_ca .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_cdg );_dca .cubicTo (_cdg [0],_cdg [1],_cdg [2],_cdg [3],_cdg [4],_cdg [5]);case "\u0076","\u0079":if len (_cee .Params )!=4{return _gb ;};_cba ,_acf :=_fd .GetNumbersAsFloat (_cee .Params );if _acf !=nil {return _acf ;};_ca .Log .Debug ("\u0043u\u0062\u0069\u0063\u0020b\u0065\u007a\u0069\u0065\u0072 \u0070a\u0072a\u006d\u0073\u003a\u0020\u0025\u002e\u0032f",_cba );_dca .quadraticTo (_cba [0],_cba [1],_cba [2],_cba [3]);case "\u0068":_dca .closePath ();case "\u0072\u0065":if len (_cee .Params )!=4{return _gb ;};_gbe ,_ecc :=_fd .GetNumbersAsFloat (_cee .Params );if _ecc !=nil {return _ecc ;};_dca .drawRectangle (_gbe [0],_gbe [1],_gbe [2],_gbe [3]);_dca .closePath ();case "\u0053":_dca .stroke (&_fbde ._cbf );_dca .clearPath ();case "\u0073":_dca .closePath ();_dca .stroke (&_fbde ._cbf );_dca .clearPath ();case "\u0046":_dca .fill (&_fbde ._bad );_dca .clearPath ();case "\u0066","\u0066\u002a":_dca .closePath ();_dca .fill (&_fbde ._bad );_dca .clearPath ();case "\u0042","\u0042\u002a":_dca .fill (&_fbde ._bad );_dca .stroke (&_fbde ._cbf );_dca .clearPath ();case "\u0062","\u0062\u002a":_dca .closePath ();_dca .fill (&_fbde ._bad );_dca .stroke (&_fbde ._cbf );_dca .clearPath ();case "\u006e":_dca .clearPath ();case "\u0044\u006f":if len (_cee .Params )==0{_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0058\u004fbj\u0065c\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006f\u0070\u0065\u0072\u0061n\u0064\u0020\u0066\u006f\u0072\u0020\u0044\u006f\u0020\u006f\u0070\u0065\u0072\u0061\u0074\u006f\u0072.\u0020\u0047\u006f\u0074\u0020\u0025\u002b\u0076\u002e",_cee .Params );return _fd .ErrRangeError ;};_cced ,_efcc :=_fd .GetName (_cee .Params [0]);if !_efcc {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u0044\u006f\u0020\u006f\u0070e\u0072a\u0074\u006f\u0072\u0020\u0058\u004f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0061\u006d\u0065\u0020\u006fp\u0065\u0072\u0061\u006e\u0064\u003a\u0020\u0025\u002b\u0076\u002e",_cee .Params [0]);return _fd .ErrTypeError ;};_ ,_cgb :=_gfc .GetXObjectByName (*_cced );if _cgb !=_cc .XObjectTypeForm {break ;};_dea ,_efcc :=_ged ._gf [_cced .String ()];if !_efcc {_egf ,_dbb :=_gfc .GetXObjectFormByName (*_cced );if _dbb !=nil {_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dbb );return _dbb ;};_cca ,_dbb :=_egf .GetContentStream ();if _dbb !=nil {_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dbb );return _dbb ;};_bgc :=_egf .Resources ;if _bgc ==nil {_bgc =_gfc ;};_bdea ,_egb ,_gec ,_dbb :=_ged .extractPageText (string (_cca ),_bgc ,_gcba .Mult (_bgb .CTM ),_ffb +1);if _dbb !=nil {_ca .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_dbb );return _dbb ;};_dea =textResult {*_bdea ,_egb ,_gec };_ged ._gf [_cced .String ()]=_dea ;};_dca ._bec =_bgb .CTM ;if _fge {_ca .Log .Info ("\u0063\u0074\u006d\u003d\u0025\u0073",_dca ._bec );};_fbde ._gcae =append (_fbde ._gcae ,_dea ._aba ._gcae ...);_fbde ._cbf =append (_fbde ._cbf ,_dea ._aba ._cbf ...);_fbde ._bad =append (_fbde ._bad ,_dea ._aba ._bad ...);_cg ._ebd +=_dea ._caf ;_cg ._eaea +=_dea ._edb ;case "\u0072\u0067","\u0067","\u006b","\u0063\u0073","\u0073\u0063","\u0073\u0063\u006e":_dcc ._adg .ColorspaceNonStroking =_bgb .ColorspaceNonStroking ;_dcc ._adg .ColorNonStroking =_bgb .ColorNonStroking ;case "\u0052\u0047","\u0047","\u004b","\u0043\u0053","\u0053\u0043","\u0053\u0043\u004e":_dcc ._adg .ColorspaceStroking =_bgb .ColorspaceStroking ;_dcc ._adg .ColorStroking =_bgb .ColorStroking ;};return nil ;});_ffaf =_ecg .Process (_gcc );return _fbde ,_cg ._ebd ,_cg ._eaea ,_ffaf ;};func (_cff *imageExtractContext )extractInlineImage (_eab *_ad .ContentStreamInlineImage ,_ecd _ad .GraphicsState ,_fgf *_cc .PdfPageResources )error {_bcgd ,_edd :=_eab .ToImage (_fgf );if _edd !=nil {return _edd ;};_fdc ,_edd :=_eab .GetColorSpace (_fgf );if _edd !=nil {return _edd ;};if _fdc ==nil {_fdc =_cc .NewPdfColorspaceDeviceGray ();};_ecde ,_edd :=_fdc .ImageToRGB (*_bcgd );if _edd !=nil {return _edd ;};_eae :=ImageMark {Image :&_ecde ,Width :_ecd .CTM .ScalingFactorX (),Height :_ecd .CTM .ScalingFactorY (),Angle :_ecd .CTM .Angle ()};_eae .X ,_eae .Y =_ecd .CTM .Translation ();_cff ._gfd =append (_cff ._gfd ,_eae );_cff ._bce ++;return nil ;};func (_ceba *textTable )newTablePara ()*textPara {_fdfg :=_ceba .computeBbox ();_defbb :=&textPara {PdfRectangle :_fdfg ,_cfef :_fdfg ,_eeca :_ceba };if _adfa {_ca .Log .Info ("\u006e\u0065w\u0054\u0061\u0062l\u0065\u0050\u0061\u0072\u0061\u003a\u0020\u0025\u0073",_defbb );};return _defbb ;};

// String returns a human readable description of `vecs`.
func (_dbff rulingList )String ()string {if len (_dbff )==0{return "\u007b \u0045\u004d\u0050\u0054\u0059\u0020}";};_bdga ,_ecabf :=_dbff .vertsHorzs ();_efdad :=len (_bdga );_bcded :=len (_ecabf );if _efdad ==0||_bcded ==0{return _be .Sprintf ("\u007b%\u0064\u0020\u0078\u0020\u0025\u0064}",_efdad ,_bcded );};_eegb :=_cc .PdfRectangle {Llx :_bdga [0]._cecfa ,Urx :_bdga [_efdad -1]._cecfa ,Lly :_ecabf [_bcded -1]._cecfa ,Ury :_ecabf [0]._cecfa };return _be .Sprintf ("\u007b\u0025d\u0020\u0078\u0020%\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u007d",_efdad ,_bcded ,_eegb );};func _abbd (_ebec ,_fdcgf _cc .PdfRectangle )bool {return _fdcgf .Llx <=_ebec .Urx &&_ebec .Llx <=_fdcgf .Urx ;};func (_cfff *textObject )setTextLeading (_efg float64 ){if _cfff ==nil {return ;};_cfff ._dbf ._aag =_efg ;};func (_fgbf rulingList )merge ()*ruling {_dfgdd :=_fgbf [0]._cecfa ;_beag :=_fgbf [0]._abgg ;_ecabb :=_fgbf [0]._debb ;for _ ,_ecee :=range _fgbf [1:]{_dfgdd +=_ecee ._cecfa ;if _ecee ._abgg < _beag {_beag =_ecee ._abgg ;};if _ecee ._debb > _ecabb {_ecabb =_ecee ._debb ;};};_gbcb :=&ruling {_fdebe :_fgbf [0]._fdebe ,_adce :_fgbf [0]._adce ,Color :_fgbf [0].Color ,_cecfa :_dfgdd /float64 (len (_fgbf )),_abgg :_beag ,_debb :_ecabb };if _acgg {_ca .Log .Info ("\u006de\u0072g\u0065\u003a\u0020\u0025\u0032d\u0020\u0076e\u0063\u0073\u0020\u0025\u0073",len (_fgbf ),_gbcb );for _gdcfc ,_dgbb :=range _fgbf {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_gdcfc ,_dgbb );};};return _gbcb ;};func _dgbeb (_bagcg ,_adca _ea .Point )rulingKind {_ggdg :=_dc .Abs (_bagcg .X -_adca .X );_gagbb :=_dc .Abs (_bagcg .Y -_adca .Y );return _gefa (_ggdg ,_gagbb ,_bcbf );};func (_egcca *textTable )putComposite (_cdegg ,_dgdbc int ,_cedg paraList ,_bede _cc .PdfRectangle ){if len (_cedg )==0{_ca .Log .Error ("\u0074\u0065xt\u0054\u0061\u0062l\u0065\u0029\u0020\u0070utC\u006fmp\u006f\u0073\u0069\u0074\u0065\u003a\u0020em\u0070\u0074\u0079\u0020\u0070\u0061\u0072a\u0073");return ;};_dcga :=compositeCell {_bede ,_cedg };if _adfa {_be .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0070\u0075\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u003c\u002d\u0025\u0073\u000a",_cdegg ,_dgdbc ,_dcga .String ());};_dcga .updateBBox ();_egcca ._dddbf [_ada (_cdegg ,_dgdbc )]=_dcga ;};func (_defg *textLine )bbox ()_cc .PdfRectangle {return _defg .PdfRectangle };func _ebfac (_fagfe ,_caaff int )int {if _fagfe < _caaff {return _fagfe ;};return _caaff ;};func (_bbaf *shapesState )lastpointEstablished ()(_ea .Point ,bool ){if _bbaf ._aaad {return _bbaf ._dac ,false ;};_fded :=len (_bbaf ._dad );if _fded > 0&&_bbaf ._dad [_fded -1]._aaf {return _bbaf ._dad [_fded -1].last (),false ;};return _ea .Point {},true ;};func (_fga *textObject )moveText (_efaf ,_fcba float64 ){_fga .moveLP (_efaf ,_fcba )};

// TextMark represents extracted text on a page with information regarding both textual content,
// formatting (font and size) and positioning.
// It is the smallest unit of text on a PDF page, typically a single character.
//
// getBBox() in test_text.go shows how to compute bounding boxes of substrings of extracted text.
// The following code extracts the text on PDF page `page` into `text` then finds the bounding box
// `bbox` of substring `term` in `text`.
//
//     ex, _ := New(page)
//     // handle errors
//     pageText, _, _, err := ex.ExtractPageText()
//     // handle errors
//     text := pageText.Text()
//     textMarks := pageText.Marks()
//
//     	start := strings.Index(text, term)
//      end := start + len(term)
//      spanMarks, err := textMarks.RangeOffset(start, end)
//      // handle errors
//      bbox, ok := spanMarks.BBox()
//      // handle errors
type TextMark struct{

// Text is the extracted text.
Text string ;

// Original is the text in the PDF. It has not been decoded like `Text`.
Original string ;

// BBox is the bounding box of the text.
BBox _cc .PdfRectangle ;

// Font is the font the text was drawn with.
Font *_cc .PdfFont ;

// FontSize is the font size the text was drawn with.
FontSize float64 ;

// Offset is the offset of the start of TextMark.Text in the extracted text. If you do this
//   text, textMarks := pageText.Text(), pageText.Marks()
//   marks := textMarks.Elements()
// then marks[i].Offset is the offset of marks[i].Text in text.
Offset int ;

// Meta is set true for spaces and line breaks that we insert in the extracted text. We insert
// spaces (line breaks) when we see characters that are over a threshold horizontal (vertical)
//  distance  apart. See wordJoiner (lineJoiner) in PageText.computeViews().
Meta bool ;

// FillColor is the fill color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
FillColor _bd .Color ;

// StrokeColor is the stroke color of the text.
// The color is nil for spaces and line breaks (i.e. the Meta field is true).
StrokeColor _bd .Color ;};func (_eedcb paraList )addNeighbours (){_dcgee :=func (_aeeef []int ,_aecc *textPara )([]*textPara ,[]*textPara ){_bdada :=make ([]*textPara ,0,len (_aeeef )-1);_dgfbgb :=make ([]*textPara ,0,len (_aeeef )-1);for _ ,_ceeca :=range _aeeef {_dfbd :=_eedcb [_ceeca ];if _dfbd .Urx <=_aecc .Llx {_bdada =append (_bdada ,_dfbd );}else if _dfbd .Llx >=_aecc .Urx {_dgfbgb =append (_dgfbgb ,_dfbd );};};return _bdada ,_dgfbgb ;};_gfbd :=func (_acdfa []int ,_ffgeg *textPara )([]*textPara ,[]*textPara ){_ccbg :=make ([]*textPara ,0,len (_acdfa )-1);_dfbbg :=make ([]*textPara ,0,len (_acdfa )-1);for _ ,_edgeda :=range _acdfa {_cgba :=_eedcb [_edgeda ];if _cgba .Ury <=_ffgeg .Lly {_dfbbg =append (_dfbbg ,_cgba );}else if _cgba .Lly >=_ffgeg .Ury {_ccbg =append (_ccbg ,_cgba );};};return _ccbg ,_dfbbg ;};_fcbae :=_eedcb .yNeighbours (_gecc );for _ ,_gcgea :=range _eedcb {_ggcbe :=_fcbae [_gcgea ];if len (_ggcbe )==0{continue ;};_cdefg ,_ffce :=_dcgee (_ggcbe ,_gcgea );if len (_cdefg )==0&&len (_ffce )==0{continue ;};if len (_cdefg )> 0{_afafe :=_cdefg [0];for _ ,_gabac :=range _cdefg [1:]{if _gabac .Urx >=_afafe .Urx {_afafe =_gabac ;};};for _ ,_dgbee :=range _cdefg {if _dgbee !=_afafe &&_dgbee .Urx > _afafe .Llx {_afafe =nil ;break ;};};if _afafe !=nil &&_fegb (_gcgea .PdfRectangle ,_afafe .PdfRectangle ){_gcgea ._cebb =_afafe ;};};if len (_ffce )> 0{_eegc :=_ffce [0];for _ ,_bfcdf :=range _ffce [1:]{if _bfcdf .Llx <=_eegc .Llx {_eegc =_bfcdf ;};};for _ ,_cegcg :=range _ffce {if _cegcg !=_eegc &&_cegcg .Llx < _eegc .Urx {_eegc =nil ;break ;};};if _eegc !=nil &&_fegb (_gcgea .PdfRectangle ,_eegc .PdfRectangle ){_gcgea ._aca =_eegc ;};};};_fcbae =_eedcb .xNeighbours (_gcab );for _ ,_facfe :=range _eedcb {_bcbfc :=_fcbae [_facfe ];if len (_bcbfc )==0{continue ;};_aegdd ,_gbacg :=_gfbd (_bcbfc ,_facfe );if len (_aegdd )==0&&len (_gbacg )==0{continue ;};if len (_gbacg )> 0{_daad :=_gbacg [0];for _ ,_dgdbcf :=range _gbacg [1:]{if _dgdbcf .Ury >=_daad .Ury {_daad =_dgdbcf ;};};for _ ,_decf :=range _gbacg {if _decf !=_daad &&_decf .Ury > _daad .Lly {_daad =nil ;break ;};};if _daad !=nil &&_abbd (_facfe .PdfRectangle ,_daad .PdfRectangle ){_facfe ._bacad =_daad ;};};if len (_aegdd )> 0{_ddaa :=_aegdd [0];for _ ,_fdeag :=range _aegdd [1:]{if _fdeag .Lly <=_ddaa .Lly {_ddaa =_fdeag ;};};for _ ,_ecfag :=range _aegdd {if _ecfag !=_ddaa &&_ecfag .Lly < _ddaa .Ury {_ddaa =nil ;break ;};};if _ddaa !=nil &&_abbd (_facfe .PdfRectangle ,_ddaa .PdfRectangle ){_facfe ._cbcf =_ddaa ;};};};for _ ,_gfege :=range _eedcb {if _gfege ._cebb !=nil &&_gfege ._cebb ._aca !=_gfege {_gfege ._cebb =nil ;};if _gfege ._cbcf !=nil &&_gfege ._cbcf ._bacad !=_gfege {_gfege ._cbcf =nil ;};if _gfege ._aca !=nil &&_gfege ._aca ._cebb !=_gfege {_gfege ._aca =nil ;};if _gfege ._bacad !=nil &&_gfege ._bacad ._cbcf !=_gfege {_gfege ._bacad =nil ;};};};type textMark struct{_cc .PdfRectangle ;_egab int ;_dab string ;_fceab string ;_fgcg *_cc .PdfFont ;_ebcc float64 ;_ccb float64 ;_abbc _ea .Matrix ;_eebc _ea .Point ;_edbe _cc .PdfRectangle ;_gafb _bd .Color ;_dcdb _bd .Color ;};func (_fcdcb compositeCell )hasLines (_caaag []*textLine )bool {for _dbafd ,_gdd :=range _caaag {_cdc :=_ecbg (_fcdcb .PdfRectangle ,_gdd .PdfRectangle );if _adfa {_be .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u005e\u005e\u005e\u0069\u006e\u0074\u0065\u0072\u0073e\u0063t\u0073\u003d\u0025\u0074\u0020\u0025\u0064\u0020\u006f\u0066\u0020\u0025\u0064\u000a",_cdc ,_dbafd ,len (_caaag ));_be .Printf ("\u0020\u0020\u0020\u0020  \u005e\u005e\u005e\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025s\u000a",_fcdcb );_be .Printf ("\u0020 \u0020 \u0020\u0020\u0020\u006c\u0069\u006e\u0065\u003d\u0025\u0073\u000a",_gdd );};if _cdc {return true ;};};return false ;};const (_gdfc rulingKind =iota ;_acdb ;_eabd ;);type textPara struct{_cc .PdfRectangle ;_cfef _cc .PdfRectangle ;_abbfb []*textLine ;_eeca *textTable ;_dgfa bool ;_gdcb bool ;_cebb *textPara ;_aca *textPara ;_cbcf *textPara ;_bacad *textPara ;};func _gfdd (_cbegb *wordBag ,_fafae *textWord ,_edgc float64 )bool {return _cbegb .Urx <=_fafae .Llx &&_fafae .Llx < _cbegb .Urx +_edgc ;};func (_gccd *wordBag )sort (){for _ ,_bgdb :=range _gccd ._fgdfc {_ee .Slice (_bgdb ,func (_fcga ,_ecac int )bool {return _ddgab (_bgdb [_fcga ],_bgdb [_ecac ])< 0});};};func (_cggg *textObject )getFont (_fdbf string )(*_cc .PdfFont ,error ){if _cggg ._fgg ._eg !=nil {_cggg ._fgg ._gbc ++;_gag ,_eec :=_cggg ._fgg ._eg [_fdbf ];if _eec {_gag ._agcf =_cggg ._fgg ._gbc ;return _gag ._fagg ,nil ;};};_cae ,_bdef :=_cggg .getFontDirect (_fdbf );if _bdef !=nil {return nil ,_bdef ;};if _cggg ._fgg ._eg !=nil {_dgf :=fontEntry {_cae ,_cggg ._fgg ._gbc };if len (_cggg ._fgg ._eg )>=_baff {var _fbec []string ;for _bbbd :=range _cggg ._fgg ._eg {_fbec =append (_fbec ,_bbbd );};_ee .Slice (_fbec ,func (_bagf ,_afcb int )bool {return _cggg ._fgg ._eg [_fbec [_bagf ]]._agcf < _cggg ._fgg ._eg [_fbec [_afcb ]]._agcf ;});delete (_cggg ._fgg ._eg ,_fbec [0]);};_cggg ._fgg ._eg [_fdbf ]=_dgf ;};return _cae ,nil ;};func _dbcf (_egac _ea .Point )_ea .Matrix {return _ea .TranslationMatrix (_egac .X ,_egac .Y )};func (_ffge *textObject )setFont (_abd string ,_cagb float64 )error {if _ffge ==nil {return nil ;};_ffge ._dbf ._ddaf =_cagb ;_baa ,_aebe :=_ffge .getFont (_abd );if _aebe !=nil {return _aebe ;};_ffge ._dbf ._cbcg =_baa ;if _ffge ._edfc .empty (){_ffge ._edfc .push (_ffge ._dbf );}else {_ffge ._edfc .top ()._cbcg =_ffge ._dbf ._cbcg ;};return nil ;};func (_cgge *textTable )get (_fdgcb ,_dcbc int )*textPara {return _cgge ._bbag [_ada (_fdgcb ,_dcbc )]};func (_gggdf rectRuling )checkWidth (_dfeg ,_gfgg float64 )(float64 ,bool ){_faggd :=_gfgg -_dfeg ;_bcba :=_faggd <=_cge ;return _faggd ,_bcba ;};func _ffcb (_ebdc *wordBag ,_ecdd int )*textLine {_aeae :=_ebdc .firstWord (_ecdd );_cagd :=textLine {PdfRectangle :_aeae .PdfRectangle ,_eegf :_aeae ._edecc ,_abe :_aeae ._edgd };_cagd .pullWord (_ebdc ,_aeae ,_ecdd );return &_cagd ;};func (_ccdbf paraList )findTableGrid (_acde gridTiling )(*textTable ,map[*textPara ]struct{}){_gbca :=len (_acde ._cfcc );_fgcf :=len (_acde ._cdeda );_bffd :=textTable {_dfad :true ,_dadf :_gbca ,_bgfb :_fgcf ,_bbag :make (map[uint64 ]*textPara ,_gbca *_fgcf ),_dddbf :make (map[uint64 ]compositeCell ,_gbca *_fgcf )};_babbb :=make (map[*textPara ]struct{});_ffgcc :=int ((1.0-_afgd )*float64 (_gbca *_fgcf ));_eegab :=0;if _aeee {_ca .Log .Info ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0064\u0020\u0078\u0020%\u0064",_gbca ,_fgcf );};for _ebgce ,_ceaf :=range _acde ._cdeda {_bfacb ,_bdge :=_acde ._dgafd [_ceaf ];if !_bdge {continue ;};for _aedge ,_eeeg :=range _acde ._cfcc {_dabc ,_cdae :=_bfacb [_eeeg ];if !_cdae {continue ;};_edde :=_ccdbf .inTile (_dabc );if len (_edde )==0{_eegab ++;if _eegab > _ffgcc {if _aeee {_ca .Log .Info ("\u0021\u006e\u0075m\u0045\u006d\u0070\u0074\u0079\u003d\u0025\u0064",_eegab );};return nil ,nil ;};}else {_bffd .putComposite (_aedge ,_ebgce ,_edde ,_dabc .PdfRectangle );for _ ,_fbecd :=range _edde {_babbb [_fbecd ]=struct{}{};};};};};_gdga :=0;for _cbeca :=0;_cbeca < _gbca ;_cbeca ++{_gbgbf :=_bffd .get (_cbeca ,0);if _gbgbf ==nil ||!_gbgbf ._gdcb {_gdga ++;};};if _gdga ==0{if _aeee {_ca .Log .Info ("\u0021\u006e\u0075m\u0048\u0065\u0061\u0064\u0065\u0072\u003d\u0030");};return nil ,nil ;};_abed :=_bffd .reduceTiling (_acde ,_cefg );_abed =_abed .subdivide ();return _abed ,_babbb ;};func (_fbgg *textObject )newTextMark (_gafbf string ,_gbbb _ea .Matrix ,_dabf _ea .Point ,_gbda float64 ,_afaad *_cc .PdfFont ,_bdac float64 ,_baaa ,_cgee _bd .Color )(textMark ,bool ){_ebeg :=_gbbb .Angle ();_gfgb :=_fecd (_ebeg ,_ddgc );var _geeag float64 ;if _gfgb %180!=90{_geeag =_gbbb .ScalingFactorY ();}else {_geeag =_gbbb .ScalingFactorX ();};_dbbf :=_bbeb (_gbbb );_cddf :=_cc .PdfRectangle {Llx :_dbbf .X ,Lly :_dbbf .Y ,Urx :_dabf .X ,Ury :_dabf .Y };switch _gfgb %360{case 90:_cddf .Urx -=_geeag ;case 180:_cddf .Ury -=_geeag ;case 270:_cddf .Urx +=_geeag ;case 0:_cddf .Ury +=_geeag ;default:_gfgb =0;_cddf .Ury +=_geeag ;};if _cddf .Llx > _cddf .Urx {_cddf .Llx ,_cddf .Urx =_cddf .Urx ,_cddf .Llx ;};if _cddf .Lly > _cddf .Ury {_cddf .Lly ,_cddf .Ury =_cddf .Ury ,_cddf .Lly ;};_afbb ,_dgfb :=_afaa (_cddf ,_fbgg ._fgg ._ge );if !_dgfb {_ca .Log .Debug ("\u0054\u0065\u0078\u0074\u0020m\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069\u0064\u0065\u0020\u0070a\u0067\u0065\u002e\u0020\u0062\u0062\u006f\u0078\u003d\u0025\u0067\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u003d\u0025\u0067\u0020\u0074\u0065\u0078\u0074\u003d\u0025q",_cddf ,_fbgg ._fgg ._ge ,_gafbf );};_cddf =_afbb ;_fabfe :=_cddf ;_cggge :=_fbgg ._fgg ._ge ;switch _gfgb %360{case 90:_cggge .Urx ,_cggge .Ury =_cggge .Ury ,_cggge .Urx ;_fabfe =_cc .PdfRectangle {Llx :_cggge .Urx -_cddf .Ury ,Urx :_cggge .Urx -_cddf .Lly ,Lly :_cddf .Llx ,Ury :_cddf .Urx };case 180:_fabfe =_cc .PdfRectangle {Llx :_cggge .Urx -_cddf .Llx ,Urx :_cggge .Urx -_cddf .Urx ,Lly :_cggge .Ury -_cddf .Lly ,Ury :_cggge .Ury -_cddf .Ury };case 270:_cggge .Urx ,_cggge .Ury =_cggge .Ury ,_cggge .Urx ;_fabfe =_cc .PdfRectangle {Llx :_cddf .Ury ,Urx :_cddf .Lly ,Lly :_cggge .Ury -_cddf .Llx ,Ury :_cggge .Ury -_cddf .Urx };};if _fabfe .Llx > _fabfe .Urx {_fabfe .Llx ,_fabfe .Urx =_fabfe .Urx ,_fabfe .Llx ;};if _fabfe .Lly > _fabfe .Ury {_fabfe .Lly ,_fabfe .Ury =_fabfe .Ury ,_fabfe .Lly ;};_bbgb :=textMark {_dab :_gafbf ,PdfRectangle :_fabfe ,_edbe :_cddf ,_fgcg :_afaad ,_ebcc :_geeag ,_ccb :_bdac ,_abbc :_gbbb ,_eebc :_dabf ,_egab :_gfgb ,_gafb :_baaa ,_dcdb :_cgee };if _bee {_ca .Log .Info ("n\u0065\u0077\u0054\u0065\u0078\u0074M\u0061\u0072\u006b\u003a\u0020\u0073t\u0061\u0072\u0074\u003d\u0025\u002e\u0032f\u0020\u0065\u006e\u0064\u003d\u0025\u002e\u0032\u0066\u0020%\u0073",_dbbf ,_dabf ,_bbgb .String ());};return _bbgb ,_dgfb ;};

// String returns a description of `b`.
func (_cfba *wordBag )String ()string {var _bfb []string ;for _ ,_cgfe :=range _cfba .depthIndexes (){_afe ,_ :=_cfba ._fgdfc [_cgfe ];for _ ,_geae :=range _afe {_bfb =append (_bfb ,_geae ._bgde );};};return _be .Sprintf ("\u0025.\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065=\u0025\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0025\u0071",_cfba .PdfRectangle ,_cfba ._ddfd ,len (_bfb ),_bfb );};func (_fccc *subpath )close (){if !_abfdg (_fccc ._beabg [0],_fccc .last ()){_fccc .add (_fccc ._beabg [0]);};_fccc ._aaf =true ;_fccc .removeDuplicates ();};func (_cfea *textMark )inDiacriticArea (_feed *textMark )bool {_aede :=_cfea .Llx -_feed .Llx ;_dddd :=_cfea .Urx -_feed .Urx ;_bbcc :=_cfea .Lly -_feed .Lly ;return _dc .Abs (_aede +_dddd )< _cfea .Width ()*_bafb &&_dc .Abs (_bbcc )< _cfea .Height ()*_bafb ;};func _gggd (_agea []int )[]int {_gfeg :=make ([]int ,len (_agea ));for _fgaa ,_gaede :=range _agea {_gfeg [len (_agea )-1-_fgaa ]=_gaede ;};return _gfeg ;};func _bdb (_beaa *_ad .ContentStreamOperation )(float64 ,error ){if len (_beaa .Params )!=1{_cdfg :=_c .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_beaa .Operand ,1,len (_beaa .Params ),_beaa .Params );return 0.0,_cdfg ;};return _fd .GetNumberAsFloat (_beaa .Params [0]);};

// PageImages represents extracted images on a PDF page with spatial information:
// display position and size.
type PageImages struct{Images []ImageMark ;};func (_gcge paraList )findTables (_dagd []gridTiling )[]*textTable {_gcge .addNeighbours ();_ee .Slice (_gcge ,func (_bced ,_egcbe int )bool {return _abb (_gcge [_bced ],_gcge [_egcbe ])< 0});var _dfab []*textTable ;if _dfeb {_bbacf :=_gcge .findGridTables (_dagd );_dfab =append (_dfab ,_bbacf ...);};if _bddg {_bbbdd :=_gcge .findTextTables ();_dfab =append (_dfab ,_bbbdd ...);};return _dfab ;};func (_cec *wordBag )getDepthIdx (_bdbfb float64 )int {_agbd :=_cec .depthIndexes ();_fcca :=_fac (_bdbfb );if _fcca < _agbd [0]{return _agbd [0];};if _fcca > _agbd [len (_agbd )-1]{return _agbd [len (_agbd )-1];};return _fcca ;};func (_gcbg *shapesState )devicePoint (_ecge ,_ddee float64 )_ea .Point {_faffe :=_gcbg ._dae .Mult (_gcbg ._bec );_ecge ,_ddee =_faffe .Transform (_ecge ,_ddee );return _ea .NewPoint (_ecge ,_ddee );};type textWord struct{_cc .PdfRectangle ;_edgd float64 ;_bgde string ;_edcac []*textMark ;_edecc float64 ;_eaee bool ;};func (_acdd lineRuling )yMean ()float64 {return 0.5*(_acdd ._gbdbd .Y +_acdd ._gfffb .Y )};func (_febbe *subpath )removeDuplicates (){if len (_febbe ._beabg )==0{return ;};_eadeb :=[]_ea .Point {_febbe ._beabg [0]};for _ ,_afg :=range _febbe ._beabg [1:]{if !_abfdg (_afg ,_eadeb [len (_eadeb )-1]){_eadeb =append (_eadeb ,_afg );};};_febbe ._beabg =_eadeb ;};func _bcce (_dbfbf *wordBag ,_agca float64 ,_fcef ,_cecf rulingList )[]*wordBag {var _bgac []*wordBag ;for _ ,_dced :=range _dbfbf .depthIndexes (){_gfbef :=false ;for !_dbfbf .empty (_dced ){_gecf :=_dbfbf .firstReadingIndex (_dced );_dbab :=_dbfbf .firstWord (_gecf );_gcbc :=_fafa (_dbab ,_agca ,_fcef ,_cecf );_dbfbf .removeWord (_dbab ,_gecf );if _ggfc {_ca .Log .Info ("\u0066\u0069\u0072\u0073\u0074\u0057\u006f\u0072\u0064\u0020\u005e\u005e^\u005e\u0020\u0025\u0073",_dbab .String ());};for _efabc :=true ;_efabc ;_efabc =_gfbef {_gfbef =false ;_agga :=_fbcg *_gcbc ._ddfd ;_gbfda :=_ffgb *_gcbc ._ddfd ;_cgd :=_dbg *_gcbc ._ddfd ;if _ggfc {_ca .Log .Info ("\u0070a\u0072a\u0057\u006f\u0072\u0064\u0073\u0020\u0064\u0065\u0070\u0074\u0068 \u0025\u002e\u0032\u0066 \u002d\u0020\u0025\u002e\u0032f\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061\u0044\u0065\u0070\u0074\u0068\u0047\u0061\u0070\u003d\u0025\u002e\u0032\u0066\u0020\u006d\u0061\u0078\u0049\u006e\u0074\u0072\u0061R\u0065\u0061\u0064\u0069\u006e\u0067\u0047\u0061p\u003d\u0025\u002e\u0032\u0066",_gcbc .minDepth (),_gcbc .maxDepth (),_cgd ,_gbfda );};if _dbfbf .scanBand ("\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c",_gcbc ,_egaf (_bgef ,0),_gcbc .minDepth ()-_cgd ,_gcbc .maxDepth ()+_cgd ,_bdbe ,false ,false )> 0{_gfbef =true ;};if _dbfbf .scanBand ("\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_gcbc ,_egaf (_bgef ,_gbfda ),_gcbc .minDepth (),_gcbc .maxDepth (),_febd ,false ,false )> 0{_gfbef =true ;};if _gfbef {continue ;};_cefe :=_dbfbf .scanBand ("",_gcbc ,_egaf (_gfdd ,_agga ),_gcbc .minDepth (),_gcbc .maxDepth (),_edcc ,true ,false );if _cefe > 0{_facf :=(_gcbc .maxDepth ()-_gcbc .minDepth ())/_gcbc ._ddfd ;if (_cefe > 1&&float64 (_cefe )> 0.3*_facf )||_cefe <=10{if _dbfbf .scanBand ("\u006f\u0074\u0068e\u0072",_gcbc ,_egaf (_gfdd ,_agga ),_gcbc .minDepth (),_gcbc .maxDepth (),_edcc ,false ,true )> 0{_gfbef =true ;};};};};_bgac =append (_bgac ,_gcbc );};};return _bgac ;};func (_dcea rulingList )vertsHorzs ()(rulingList ,rulingList ){var _ecba ,_bebbg rulingList ;for _ ,_agaee :=range _dcea {switch _agaee ._fdebe {case _eabd :_ecba =append (_ecba ,_agaee );case _acdb :_bebbg =append (_bebbg ,_agaee );};};return _ecba ,_bebbg ;};type lineRuling struct{_bbac rulingKind ;_bbcgf markKind ;_bd .Color ;_gbdbd ,_gfffb _ea .Point ;};func (_efbfe *textPara )writeText (_dbcfa _g .Writer ){if _efbfe ._eeca ==nil {_efbfe .writeCellText (_dbcfa );return ;};for _fgafb :=0;_fgafb < _efbfe ._eeca ._bgfb ;_fgafb ++{for _bbbf :=0;_bbbf < _efbfe ._eeca ._dadf ;_bbbf ++{_agfa :=_efbfe ._eeca .get (_bbbf ,_fgafb );if _agfa ==nil {_dbcfa .Write ([]byte ("\u0009"));}else {_agfa .writeCellText (_dbcfa );};_dbcfa .Write ([]byte ("\u0020"));};if _fgafb < _efbfe ._eeca ._bgfb -1{_dbcfa .Write ([]byte ("\u000a"));};};};func _agee (_fgde []*textMark ,_abgga _cc .PdfRectangle )[]*textWord {var _bdda []*textWord ;var _fedg *textWord ;_badcf :=func (){if _fedg !=nil {_agec :=_fedg .computeText ();if !_gafcc (_agec ){_fedg ._bgde =_agec ;_bdda =append (_bdda ,_fedg );if _efd {_ca .Log .Info ("\u0077o\u0072\u0064\u003d\u0025\u0073",_fedg .String ());for _bbcge ,_dacf :=range _fedg ._edcac {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bbcge ,_dacf .String ());};};};_fedg =nil ;};};for _ ,_ddfc :=range _fgde {if _deca &&_fedg !=nil &&len (_fedg ._edcac )> 0{_feba :=_fedg ._edcac [len (_fedg ._edcac )-1];_gdbf ,_gcceb :=_ecfdc (_ddfc ._dab );_fffe ,_aeedd :=_ecfdc (_feba ._dab );if _gcceb &&!_aeedd &&_feba .inDiacriticArea (_ddfc ){_fedg .addDiacritic (_gdbf );continue ;};if _aeedd &&!_gcceb &&_ddfc .inDiacriticArea (_feba ){_fedg ._edcac =_fedg ._edcac [:len (_fedg ._edcac )-1];_fedg .appendMark (_ddfc ,_abgga );_fedg .addDiacritic (_fffe );continue ;};};_dcdfg :=_gafcc (_ddfc ._dab );if _dcdfg {_badcf ();continue ;};if _fedg ==nil &&!_dcdfg {_fedg =_gcfbg ([]*textMark {_ddfc },_abgga );continue ;};_gdbgg :=_fedg ._edecc ;_fgcd :=_dc .Abs (_bdad (_abgga ,_ddfc )-_fedg ._edgd )/_gdbgg ;_ebfe :=_eaaa (_ddfc ,_fedg )/_gdbgg ;if _ebfe >=_cddg ||!(-_fabf <=_ebfe &&_fgcd <=_acb ){_badcf ();_fedg =_gcfbg ([]*textMark {_ddfc },_abgga );continue ;};_fedg .appendMark (_ddfc ,_abgga );};_badcf ();return _bdda ;};

// ExtractTextWithStats works like ExtractText but returns the number of characters in the output
// (`numChars`) and the number of characters that were not decoded (`numMisses`).
func (_bfgc *Extractor )ExtractTextWithStats ()(_eag string ,_ggba int ,_abf int ,_add error ){_gbf ,_ggba ,_abf ,_add :=_bfgc .ExtractPageText ();if _add !=nil {return "",_ggba ,_abf ,_add ;};return _gbf .Text (),_ggba ,_abf ,nil ;};func (_fffg *ruling )encloses (_gged ,_bfafc float64 )bool {return _fffg ._abgg -_afge <=_gged &&_bfafc <=_fffg ._debb +_afge ;};func (_dgcf *wordBag )empty (_gcbaac int )bool {_ ,_gcce :=_dgcf ._fgdfc [_gcbaac ];return !_gcce };func _dfdd (_dgcbf []pathSection )rulingList {_bfbbd (_dgcbf );if _abda {_ca .Log .Info ("\u006d\u0061k\u0065\u0053\u0074\u0072\u006f\u006b\u0065\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0064\u0020\u0073\u0074\u0072ok\u0065\u0073",len (_dgcbf ));};var _cgcb rulingList ;for _ ,_bed :=range _dgcbf {for _ ,_gcbcc :=range _bed ._cgbb {if len (_gcbcc ._beabg )< 2{continue ;};_ggcgd :=_gcbcc ._beabg [0];for _ ,_bfac :=range _gcbcc ._beabg [1:]{if _bdfe ,_cecd :=_ageb (_ggcgd ,_bfac ,_bed .Color );_cecd {_cgcb =append (_cgcb ,_bdfe );};_ggcgd =_bfac ;};};};if _abda {_ca .Log .Info ("m\u0061\u006b\u0065\u0053tr\u006fk\u0065\u0052\u0075\u006c\u0069n\u0067\u0073\u003a\u0020\u0025\u0073",_cgcb );};return _cgcb ;};func (_dgfbg *textTable )computeBbox ()_cc .PdfRectangle {var _fagf _cc .PdfRectangle ;_adbd :=false ;for _gfffe :=0;_gfffe < _dgfbg ._bgfb ;_gfffe ++{for _egdd :=0;_egdd < _dgfbg ._dadf ;_egdd ++{_bfce :=_dgfbg .get (_egdd ,_gfffe );if _bfce ==nil {continue ;};if !_adbd {_fagf =_bfce .PdfRectangle ;_adbd =true ;}else {_fagf =_aed (_fagf ,_bfce .PdfRectangle );};};};return _fagf ;};func (_agde *shapesState )establishSubpath ()*subpath {_dbdb ,_agge :=_agde .lastpointEstablished ();if !_agge {_agde ._dad =append (_agde ._dad ,_gaa (_dbdb ));};if len (_agde ._dad )==0{return nil ;};_agde ._aaad =false ;return _agde ._dad [len (_agde ._dad )-1];};func _ddgf (_bfadb ,_fdebg _ea .Point )rulingKind {_acabf :=_dc .Abs (_bfadb .X -_fdebg .X );_bgfa :=_dc .Abs (_bfadb .Y -_fdebg .Y );return _gefa (_acabf ,_bgfa ,_dgffc );};func (_agf *imageExtractContext )extractFormImages (_dcf *_fd .PdfObjectName ,_dbd _ad .GraphicsState ,_gde *_cc .PdfPageResources )error {_eee ,_bcb :=_gde .GetXObjectFormByName (*_dcf );if _bcb !=nil {return _bcb ;};if _eee ==nil {return nil ;};_dcfe ,_bcb :=_eee .GetContentStream ();if _bcb !=nil {return _bcb ;};_gga :=_eee .Resources ;if _gga ==nil {_gga =_gde ;};_bcb =_agf .extractContentStreamImages (string (_dcfe ),_gga );if _bcb !=nil {return _bcb ;};_agf ._cdd ++;return nil ;};func _afbc (_ageg *PageText )error {_cgbf :=_aa .GetLicenseKey ();if _cgbf !=nil &&_cgbf .IsLicensed ()||_df {return nil ;};_be .Printf ("\u0055\u006e\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0064\u0020c\u006f\u0070\u0079\u0020\u006f\u0066\u0020\u0055\u006e\u0069P\u0044\u0046\u000a");_be .Println ("-\u0020\u0047\u0065\u0074\u0020\u0061\u0020\u0066\u0072e\u0065\u0020\u0074\u0072\u0069\u0061\u006c l\u0069\u0063\u0065\u006es\u0065\u0020\u006f\u006e\u0020\u0068\u0074\u0074\u0070s:\u002f\u002fu\u006e\u0069\u0064\u006f\u0063\u002e\u0069\u006f");return _c .New ("\u0075\u006e\u0069\u0070d\u0066\u0020\u006c\u0069\u0063\u0065\u006e\u0073\u0065\u0020c\u006fd\u0065\u0020\u0072\u0065\u0071\u0075\u0069r\u0065\u0064");};func _acca (_gcag ,_fada bounded )float64 {return _bagfb (_gcag )-_bagfb (_fada )};func _aed (_eedg ,_cfcb _cc .PdfRectangle )_cc .PdfRectangle {return _cc .PdfRectangle {Llx :_dc .Min (_eedg .Llx ,_cfcb .Llx ),Lly :_dc .Min (_eedg .Lly ,_cfcb .Lly ),Urx :_dc .Max (_eedg .Urx ,_cfcb .Urx ),Ury :_dc .Max (_eedg .Ury ,_cfcb .Ury )};};func (_bcbg paraList )llyOrdering ()[]int {_effg :=make ([]int ,len (_bcbg ));for _badc :=range _bcbg {_effg [_badc ]=_badc ;};_ee .SliceStable (_effg ,func (_caaa ,_cddb int )bool {_ffgce ,_befd :=_effg [_caaa ],_effg [_cddb ];return _bcbg [_ffgce ].Lly < _bcbg [_befd ].Lly ;});return _effg ;};

// String returns a description of `k`.
func (_bega rulingKind )String ()string {_dage ,_dfag :=_efee [_bega ];if !_dfag {return _be .Sprintf ("\u004e\u006ft\u0020\u0061\u0020r\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0064",_bega );};return _dage ;};func (_eeea *textPara )writeCellText (_cabb _g .Writer ){for _fcaa ,_fddd :=range _eeea ._abbfb {_cgef :=_fddd .text ();_ffbcd :=_eabb &&_fddd .endsInHyphen ()&&_fcaa !=len (_eeea ._abbfb )-1;if _ffbcd {_cgef =_dcede (_cgef );};_cabb .Write ([]byte (_cgef ));if !(_ffbcd ||_fcaa ==len (_eeea ._abbfb )-1){_cabb .Write ([]byte (_cagg (_fddd ._abe ,_eeea ._abbfb [_fcaa +1]._abe )));};};};func (_ffddc rulingList )bbox ()_cc .PdfRectangle {var _gddc _cc .PdfRectangle ;if len (_ffddc )==0{_ca .Log .Error ("r\u0075\u006c\u0069\u006e\u0067\u004ci\u0073\u0074\u002e\u0062\u0062\u006f\u0078\u003a\u0020n\u006f\u0020\u0072u\u006ci\u006e\u0067\u0073");return _cc .PdfRectangle {};};if _ffddc [0]._fdebe ==_acdb {_gddc .Llx ,_gddc .Urx =_ffddc .secMinMax ();_gddc .Lly ,_gddc .Ury =_ffddc .primMinMax ();}else {_gddc .Llx ,_gddc .Urx =_ffddc .primMinMax ();_gddc .Lly ,_gddc .Ury =_ffddc .secMinMax ();};return _gddc ;};var _ccfgd =map[markKind ]string {_cgabb :"\u0073\u0074\u0072\u006f\u006b\u0065",_eggc :"\u0066\u0069\u006c\u006c",_fbed :"\u0061u\u0067\u006d\u0065\u006e\u0074"};func _agcc (_bfabf map[float64 ]map[float64 ]gridTile )[]float64 {_deac :=make ([]float64 ,0,len (_bfabf ));for _bgda :=range _bfabf {_deac =append (_deac ,_bgda );};_ee .Float64s (_deac );_begd :=len (_deac );for _gbdbda :=0;_gbdbda < _begd /2;_gbdbda ++{_deac [_gbdbda ],_deac [_begd -1-_gbdbda ]=_deac [_begd -1-_gbdbda ],_deac [_gbdbda ];};return _deac ;};func _faac (_ccba []TextMark ,_bgaa *int )[]TextMark {_gbdb :=_ccba [len (_ccba )-1];_daed :=[]rune (_gbdb .Text );if len (_daed )==1{_ccba =_ccba [:len (_ccba )-1];_aab :=_ccba [len (_ccba )-1];*_bgaa =_aab .Offset +len (_aab .Text );}else {_ccfa :=_dcede (_gbdb .Text );*_bgaa +=len (_ccfa )-len (_gbdb .Text );_gbdb .Text =_ccfa ;};return _ccba ;};

// String returns a string describing the current state of the textState stack.
func (_gcbaa *stateStack )String ()string {_abc :=[]string {_be .Sprintf ("\u002d\u002d\u002d\u002d f\u006f\u006e\u0074\u0020\u0073\u0074\u0061\u0063\u006b\u003a\u0020\u0025\u0064",len (*_gcbaa ))};for _bagc ,_cdde :=range *_gcbaa {_befe :="\u003c\u006e\u0069l\u003e";if _cdde !=nil {_befe =_cdde .String ();};_abc =append (_abc ,_be .Sprintf ("\u0009\u0025\u0032\u0064\u003a\u0020\u0025\u0073",_bagc ,_befe ));};return _a .Join (_abc ,"\u000a");};const (_efd =false ;_deaf =false ;_bee =false ;_fge =false ;_degb =false ;_ggfc =false ;_egdf =false ;_efab =false ;_ggdef =_efab &&true ;_cfbad =_ggdef &&false ;_aeed =_efab &&true ;_adfa =false ;_faca =_adfa &&false ;_dcaf =_adfa &&true ;_abda =false ;_eadb =_abda &&false ;_acgg =_abda &&false ;_aeee =_abda &&true ;_abdc =_abda &&false ;_bff =_abda &&false ;);func _bgef (_afadc *wordBag ,_gfff *textWord ,_dacc float64 )bool {return _gfff .Llx < _afadc .Urx +_dacc &&_afadc .Llx -_dacc < _gfff .Urx ;};func (_eacbb rulingList )splitSec ()[]rulingList {_ee .Slice (_eacbb ,func (_dggca ,_gcgd int )bool {_dfccb ,_bfgcf :=_eacbb [_dggca ],_eacbb [_gcgd ];if _dfccb ._abgg !=_bfgcf ._abgg {return _dfccb ._abgg < _bfgcf ._abgg ;};return _dfccb ._debb < _bfgcf ._debb ;});_gbeg :=make (map[*ruling ]struct{},len (_eacbb ));_ebaf :=func (_adbf *ruling )rulingList {_bdeff :=rulingList {_adbf };_gbeg [_adbf ]=struct{}{};for _ ,_dfbbe :=range _eacbb {if _ ,_bafe :=_gbeg [_dfbbe ];_bafe {continue ;};for _ ,_gbegb :=range _bdeff {if _dfbbe .alignsSec (_gbegb ){_bdeff =append (_bdeff ,_dfbbe );_gbeg [_dfbbe ]=struct{}{};break ;};};};return _bdeff ;};_feea :=[]rulingList {_ebaf (_eacbb [0])};for _ ,_gafbc :=range _eacbb [1:]{if _ ,_bbdaf :=_gbeg [_gafbc ];_bbdaf {continue ;};_feea =append (_feea ,_ebaf (_gafbc ));};return _feea ;};

// String returns a description of `w`.
func (_edbc *textWord )String ()string {return _be .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_edbc ._edgd ,_edbc .PdfRectangle ,_edbc ._edecc ,_edbc ._bgde );};func (_ebdg *compositeCell )updateBBox (){for _ ,_cfg :=range _ebdg .paraList {_ebdg .PdfRectangle =_aed (_ebdg .PdfRectangle ,_cfg .PdfRectangle );};};func _gcfbg (_bbffc []*textMark ,_abeb _cc .PdfRectangle )*textWord {_acfdf :=_bbffc [0].PdfRectangle ;_acgc :=_bbffc [0]._ebcc ;for _ ,_cccc :=range _bbffc [1:]{_acfdf =_aed (_acfdf ,_cccc .PdfRectangle );if _cccc ._ebcc > _acgc {_acgc =_cccc ._ebcc ;};};return &textWord {PdfRectangle :_acfdf ,_edcac :_bbffc ,_edgd :_abeb .Ury -_acfdf .Lly ,_edecc :_acgc };};func _dbgg (_egfgd int ,_becga func (int ,int )bool )[]int {_afeg :=make ([]int ,_egfgd );for _cgeb :=range _afeg {_afeg [_cgeb ]=_cgeb ;};_ee .Slice (_afeg ,func (_ebfg ,_bgba int )bool {return _becga (_afeg [_ebfg ],_afeg [_bgba ])});return _afeg ;};func (_beagb *textTable )logComposite (_edged string ){if !_adfa {return ;};_ca .Log .Info ("\u007e~\u007eP\u0061\u0072\u0061\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_beagb ._dadf ,_beagb ._bgfb ,_edged );_be .Printf ("\u0025\u0035\u0073 \u007c","");for _gaggf :=0;_gaggf < _beagb ._dadf ;_gaggf ++{_be .Printf ("\u0025\u0033\u0064 \u007c",_gaggf );};_be .Println ("");_be .Printf ("\u0025\u0035\u0073 \u002b","");for _cdea :=0;_cdea < _beagb ._dadf ;_cdea ++{_be .Printf ("\u0025\u0033\u0073 \u002b","\u002d\u002d\u002d");};_be .Println ("");for _abbg :=0;_abbg < _beagb ._bgfb ;_abbg ++{_be .Printf ("\u0025\u0035\u0064 \u007c",_abbg );for _dcfda :=0;_dcfda < _beagb ._dadf ;_dcfda ++{_eaec ,_ :=_beagb ._dddbf [_ada (_dcfda ,_abbg )].parasBBox ();_be .Printf ("\u0025\u0033\u0064 \u007c",len (_eaec ));};_be .Println ("");};_ca .Log .Info ("\u007e~\u007eT\u0065\u0078\u0074\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0073",_beagb ._dadf ,_beagb ._bgfb ,_edged );_be .Printf ("\u0025\u0035\u0073 \u007c","");for _aabe :=0;_aabe < _beagb ._dadf ;_aabe ++{_be .Printf ("\u0025\u0031\u0032\u0064\u0020\u007c",_aabe );};_be .Println ("");_be .Printf ("\u0025\u0035\u0073 \u002b","");for _becc :=0;_becc < _beagb ._dadf ;_becc ++{_be .Print ("\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d\u002d-\u002d\u002d\u002d\u002b");};_be .Println ("");for _gcaf :=0;_gcaf < _beagb ._bgfb ;_gcaf ++{_be .Printf ("\u0025\u0035\u0064 \u007c",_gcaf );for _eebdcd :=0;_eebdcd < _beagb ._dadf ;_eebdcd ++{_aadd ,_ :=_beagb ._dddbf [_ada (_eebdcd ,_gcaf )].parasBBox ();_aabc :="";_bdaee :=_aadd .merge ();if _bdaee !=nil {_aabc =_bdaee .text ();};_aabc =_be .Sprintf ("\u0025\u0071",_fafd (_aabc ,12));_aabc =_aabc [1:len (_aabc )-1];_be .Printf ("\u0025\u0031\u0032\u0073\u0020\u007c",_aabc );};_be .Println ("");};};type textResult struct{_aba PageText ;_caf int ;_edb int ;};func _ageb (_eacbde ,_dfce _ea .Point ,_abggf _bd .Color )(*ruling ,bool ){_gfea :=lineRuling {_gbdbd :_eacbde ,_gfffb :_dfce ,_bbac :_dgbeb (_eacbde ,_dfce ),Color :_abggf };if _gfea ._bbac ==_gdfc {return nil ,false ;};return _gfea .asRuling ();};func (_efbf paraList )llyRange (_bdbd []int ,_bfaf ,_dbcfd float64 )[]int {_gcaeb :=len (_efbf );if _dbcfd < _efbf [_bdbd [0]].Lly ||_bfaf > _efbf [_bdbd [_gcaeb -1]].Lly {return nil ;};_abcb :=_ee .Search (_gcaeb ,func (_bbfd int )bool {return _efbf [_bdbd [_bbfd ]].Lly >=_bfaf });_bfcd :=_ee .Search (_gcaeb ,func (_ffdg int )bool {return _efbf [_bdbd [_ffdg ]].Lly > _dbcfd });return _bdbd [_abcb :_bfcd ];};func (_decac *ruling )alignsPrimary (_cgcde *ruling )bool {return _decac ._fdebe ==_cgcde ._fdebe &&_dc .Abs (_decac ._cecfa -_cgcde ._cecfa )< _cge *0.5;};func (_ebaa *textPara )toCellTextMarks (_eaga *int )[]TextMark {var _aef []TextMark ;for _eecg ,_cdac :=range _ebaa ._abbfb {_gbdc :=_cdac .toTextMarks (_eaga );_degd :=_eabb &&_cdac .endsInHyphen ()&&_eecg !=len (_ebaa ._abbfb )-1;if _degd {_gbdc =_faac (_gbdc ,_eaga );};_aef =append (_aef ,_gbdc ...);if !(_degd ||_eecg ==len (_ebaa ._abbfb )-1){_aef =_beff (_aef ,_eaga ,_cagg (_cdac ._abe ,_ebaa ._abbfb [_eecg +1]._abe ));};};return _aef ;};type stateStack []*textState ;func _cdcf (_aagg _cc .PdfRectangle ,_fcag ,_becbd ,_bdcd ,_cfgdd *ruling )gridTile {_cdfe :=_aagg .Llx ;_deafe :=_aagg .Urx ;_ebade :=_aagg .Lly ;_fddda :=_aagg .Ury ;return gridTile {PdfRectangle :_aagg ,_fgfcf :_fcag !=nil &&_fcag .encloses (_ebade ,_fddda ),_cbccg :_becbd !=nil &&_becbd .encloses (_ebade ,_fddda ),_bbfec :_bdcd !=nil &&_bdcd .encloses (_cdfe ,_deafe ),_gdeg :_cfgdd !=nil &&_cfgdd .encloses (_cdfe ,_deafe )};};func (_gbgb *wordBag )removeDuplicates (){if _aeed {_ca .Log .Info ("r\u0065m\u006f\u0076\u0065\u0044\u0075\u0070\u006c\u0069c\u0061\u0074\u0065\u0073: \u0025\u0071",_gbgb .text ());};for _ ,_ebda :=range _gbgb .depthIndexes (){if len (_gbgb ._fgdfc [_ebda ])==0{continue ;};_fdcb :=_gbgb ._fgdfc [_ebda ][0];_geg :=_cbea *_fdcb ._edecc ;_fefg :=_fdcb ._edgd ;for _ ,_geed :=range _gbgb .depthBand (_fefg ,_fefg +_geg ){_eecd :=map[*textWord ]struct{}{};_edcfd :=_gbgb ._fgdfc [_geed ];for _ ,_abff :=range _edcfd {if _ ,_bdege :=_eecd [_abff ];_bdege {continue ;};for _ ,_ccfge :=range _edcfd {if _ ,_ggafg :=_eecd [_ccfge ];_ggafg {continue ;};if _ccfge !=_abff &&_ccfge ._bgde ==_abff ._bgde &&_dc .Abs (_ccfge .Llx -_abff .Llx )< _geg &&_dc .Abs (_ccfge .Urx -_abff .Urx )< _geg &&_dc .Abs (_ccfge .Lly -_abff .Lly )< _geg &&_dc .Abs (_ccfge .Ury -_abff .Ury )< _geg {_eecd [_ccfge ]=struct{}{};};};};if len (_eecd )> 0{_gbgf :=0;for _ ,_ccgd :=range _edcfd {if _ ,_befed :=_eecd [_ccgd ];!_befed {_edcfd [_gbgf ]=_ccgd ;_gbgf ++;};};_gbgb ._fgdfc [_geed ]=_edcfd [:len (_edcfd )-len (_eecd )];if len (_gbgb ._fgdfc [_geed ])==0{delete (_gbgb ._fgdfc ,_geed );};};};};};func (_acga rulingList )snapToGroupsDirection ()rulingList {_acga .sortStrict ();_ecbca :=make (map[*ruling ]rulingList ,len (_acga ));_bagd :=_acga [0];_ffba :=func (_ebdca *ruling ){_bagd =_ebdca ;_ecbca [_bagd ]=rulingList {_ebdca }};_ffba (_acga [0]);for _ ,_eccb :=range _acga [1:]{if _eccb ._cecfa < _bagd ._cecfa -_eacc {_ca .Log .Error ("\u0073\u006e\u0061\u0070T\u006f\u0047\u0072\u006f\u0075\u0070\u0073\u0044\u0069r\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0057\u0072\u006f\u006e\u0067\u0020\u0070\u0072\u0069\u006da\u0072\u0079\u0020\u006f\u0072d\u0065\u0072\u002e\u000a\u0009\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0020\u0076\u003d\u0025\u0073",_bagd ,_eccb );};if _eccb ._cecfa > _bagd ._cecfa +_cge {_ffba (_eccb );}else {_ecbca [_bagd ]=append (_ecbca [_bagd ],_eccb );};};_dabfe :=make (map[*ruling ]float64 ,len (_ecbca ));_dcadc :=make (map[*ruling ]*ruling ,len (_acga ));for _gebc ,_eefd :=range _ecbca {_dabfe [_gebc ]=_eefd .mergePrimary ();for _ ,_ecgb :=range _eefd {_dcadc [_ecgb ]=_gebc ;};};for _ ,_fdcge :=range _acga {_fdcge ._cecfa =_dabfe [_dcadc [_fdcge ]];};_eacbda :=make (rulingList ,0,len (_acga ));for _ ,_acdc :=range _ecbca {_aegb :=_acdc .splitSec ();for _baec ,_ffcca :=range _aegb {_dgfdc :=_ffcca .merge ();if len (_eacbda )> 0{_gagg :=_eacbda [len (_eacbda )-1];if _gagg .alignsPrimary (_dgfdc )&&_gagg .alignsSec (_dgfdc ){_ca .Log .Error ("\u0073\u006e\u0061\u0070\u0054\u006fG\u0072\u006f\u0075\u0070\u0073\u0044\u0069\u0072\u0065\u0063\u0074\u0069\u006f\u006e\u003a\u0020\u0044\u0075\u0070\u006ci\u0063\u0061\u0074\u0065\u0020\u0069\u003d\u0025\u0064\u000a\u0009\u0077\u003d\u0025s\u000a\t\u0076\u003d\u0025\u0073",_baec ,_gagg ,_dgfdc );continue ;};};_eacbda =append (_eacbda ,_dgfdc );};};_eacbda .sortStrict ();return _eacbda ;};

// Len returns the number of TextMarks in `ma`.
func (_bcff *TextMarkArray )Len ()int {if _bcff ==nil {return 0;};return len (_bcff ._cgbe );};func _ceed (_dgefd []*textWord ,_gafgb int )[]*textWord {_eeff :=len (_dgefd );copy (_dgefd [_gafgb :],_dgefd [_gafgb +1:]);return _dgefd [:_eeff -1];};func (_dgdae *textWord )toTextMarks (_bcaa *int )[]TextMark {var _gfgbg []TextMark ;for _ ,_agef :=range _dgdae ._edcac {_gfgbg =_fcec (_gfgbg ,_bcaa ,_agef .ToTextMark ());};return _gfgbg ;};func (_baf *textObject )getFillColor ()_bd .Color {return _fgba (_baf ._adg .ColorspaceNonStroking ,_baf ._adg .ColorNonStroking );};

// String returns a human readable description of `s`.
func (_aeea intSet )String ()string {var _bagg []int ;for _gdfd :=range _aeea {if _aeea .has (_gdfd ){_bagg =append (_bagg ,_gdfd );};};_ee .Ints (_bagg );return _be .Sprintf ("\u0025\u002b\u0076",_bagg );};func _dcda (_dbee int ,_agfde map[int ][]float64 )([]int ,int ){_cggf :=make ([]int ,_dbee );_gbff :=0;for _cbgb :=0;_cbgb < _dbee ;_cbgb ++{_cggf [_cbgb ]=_gbff ;_gbff +=len (_agfde [_cbgb ])+1;};return _cggf ,_gbff ;};func _bdee (_affa []*textWord ,_gbga float64 ,_eecc ,_dgbae rulingList )*wordBag {_bbff :=_fafa (_affa [0],_gbga ,_eecc ,_dgbae );for _ ,_dged :=range _affa [1:]{_fcbag :=_fac (_dged ._edgd );_bbff ._fgdfc [_fcbag ]=append (_bbff ._fgdfc [_fcbag ],_dged );_bbff .PdfRectangle =_aed (_bbff .PdfRectangle ,_dged .PdfRectangle );};_bbff .sort ();return _bbff ;};func (_agfab *ruling )intersects (_ffde *ruling )bool {_acag :=(_agfab ._fdebe ==_eabd &&_ffde ._fdebe ==_acdb )||(_ffde ._fdebe ==_eabd &&_agfab ._fdebe ==_acdb );_cbcfb :=func (_gcfb ,_cfgae *ruling )bool {return _gcfb ._abgg -_afge <=_cfgae ._cecfa &&_cfgae ._cecfa <=_gcfb ._debb +_afge ;};_ebdab :=_cbcfb (_agfab ,_ffde );_gbaa :=_cbcfb (_ffde ,_agfab );if _abda {_be .Printf ("\u0020\u0020\u0020\u0020\u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003a\u0020\u0020\u006fr\u0074\u0068\u006f\u0067\u006f\u006e\u0061l\u003d\u0025\u0074\u0020\u006f\u0031\u003d\u0025\u0074\u0020\u006f2\u003d\u0025\u0074\u0020\u2192\u0020\u0025\u0074\u000a"+"\u0020\u0020\u0020 \u0020\u0020\u0020\u0076\u003d\u0025\u0073\u000a"+" \u0020\u0020\u0020\u0020\u0020\u0077\u003d\u0025\u0073\u000a",_acag ,_ebdab ,_gbaa ,_acag &&_ebdab &&_gbaa ,_agfab ,_ffde );};return _acag &&_ebdab &&_gbaa ;};func _gbce (_ddcg []*textMark ,_gdba _cc .PdfRectangle ,_adff rulingList ,_adgf []gridTiling )paraList {_ca .Log .Trace ("\u006d\u0061\u006b\u0065\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065\u003a \u0025\u0064\u0020\u0065\u006c\u0065m\u0065\u006e\u0074\u0073\u0020\u0070\u0061\u0067\u0065\u0053\u0069\u007a\u0065=\u0025\u002e\u0032\u0066",len (_ddcg ),_gdba );if len (_ddcg )==0{return nil ;};_ecfe :=_agee (_ddcg ,_gdba );if len (_ecfe )==0{return nil ;};_adff .log ("\u006d\u0061\u006be\u0054\u0065\u0078\u0074\u0050\u0061\u0067\u0065");_bcbda ,_eacbd :=_adff .vertsHorzs ();_daf :=_bdee (_ecfe ,_gdba .Ury ,_bcbda ,_eacbd );_bcfd :=_bcce (_daf ,_gdba .Ury ,_bcbda ,_eacbd );_bcfd =_ababa (_bcfd );_debf :=make (paraList ,0,len (_bcfd ));for _ ,_fccf :=range _bcfd {_feec :=_fccf .arrangeText ();if _feec !=nil {_debf =append (_debf ,_feec );};};if len (_debf )>=_agdec {_debf =_debf .extractTables (_adgf );};_debf .sortReadingOrder ();_debf .log ("\u0073\u006f\u0072te\u0064\u0020\u0069\u006e\u0020\u0072\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u006f\u0072\u0064\u0065\u0072");return _debf ;};func (_gbde *wordBag )absorb (_cgaa *wordBag ){_dccg :=_cgaa .makeRemovals ();for _eac ,_afcd :=range _cgaa ._fgdfc {for _ ,_cde :=range _afcd {_gbde .pullWord (_cde ,_eac ,_dccg );};};_cgaa .applyRemovals (_dccg );};func (_eabbf gridTile )contains (_afec _cc .PdfRectangle )bool {if _eabbf .numBorders ()< 3{return false ;};if _eabbf ._fgfcf &&_afec .Llx < _eabbf .Llx -_aaag {return false ;};if _eabbf ._cbccg &&_afec .Urx > _eabbf .Urx +_aaag {return false ;};if _eabbf ._bbfec &&_afec .Lly < _eabbf .Lly -_aaag {return false ;};if _eabbf ._gdeg &&_afec .Ury > _eabbf .Ury +_aaag {return false ;};return true ;};func (_fagb *textLine )pullWord (_ebag *wordBag ,_bccf *textWord ,_ebacc int ){_fagb .appendWord (_bccf );_ebag .removeWord (_bccf ,_ebacc );};func _fafd (_ccgg string ,_fbba int )string {if len (_ccgg )< _fbba {return _ccgg ;};return _ccgg [:_fbba ];};func _eadc (_dabb ,_eagae int )int {if _dabb > _eagae {return _dabb ;};return _eagae ;};func (_bbgd *wordBag )depthIndexes ()[]int {if len (_bbgd ._fgdfc )==0{return nil ;};_faga :=make ([]int ,len (_bbgd ._fgdfc ));_bbce :=0;for _ddfa :=range _bbgd ._fgdfc {_faga [_bbce ]=_ddfa ;_bbce ++;};_ee .Ints (_faga );return _faga ;};

// ToText returns the page text as a single string.
// Deprecated: This function is deprecated and will be removed in a future major version. Please use
// Text() instead.
func (_gaed PageText )ToText ()string {return _gaed .Text ()};

// Marks returns the TextMark collection for a page. It represents all the text on the page.
func (_efe PageText )Marks ()*TextMarkArray {return &TextMarkArray {_cgbe :_efe ._dcad }};func _fadg (_efgdb map[int ][]float64 )string {_cdaa :=_gaffe (_efgdb );_ebcd :=make ([]string ,len (_efgdb ));for _accaa ,_fgfd :=range _cdaa {_ebcd [_accaa ]=_be .Sprintf ("\u0025\u0064\u003a\u0020\u0025\u002e\u0032\u0066",_fgfd ,_efgdb [_fgfd ]);};return _be .Sprintf ("\u007b\u0025\u0073\u007d",_a .Join (_ebcd ,"\u002c\u0020"));};func (_ecf *textObject )nextLine (){_ecf .moveLP (0,-_ecf ._dbf ._aag )};func (_gda *textLine )appendWord (_dag *textWord ){_gda ._gbdef =append (_gda ._gbdef ,_dag );_gda .PdfRectangle =_aed (_gda .PdfRectangle ,_dag .PdfRectangle );if _dag ._edecc > _gda ._eegf {_gda ._eegf =_dag ._edecc ;};if _dag ._edgd > _gda ._abe {_gda ._abe =_dag ._edgd ;};};func (_bddf compositeCell )parasBBox ()(paraList ,_cc .PdfRectangle ){return _bddf .paraList ,_bddf .PdfRectangle ;};

// BBox returns the smallest axis-aligned rectangle that encloses all the TextMarks in `ma`.
func (_ggde *TextMarkArray )BBox ()(_cc .PdfRectangle ,bool ){var _fcdb _cc .PdfRectangle ;_ggdf :=false ;for _ ,_ece :=range _ggde ._cgbe {if _ece .Meta ||_gafcc (_ece .Text ){continue ;};if _ggdf {_fcdb =_aed (_fcdb ,_ece .BBox );}else {_fcdb =_ece .BBox ;_ggdf =true ;};};return _fcdb ,_ggdf ;};func (_cgdd paraList )readBefore (_cgcgd []int ,_dggb ,_gefb int )bool {_bfff ,_dedd :=_cgdd [_dggb ],_cgdd [_gefb ];if _dbcfg (_bfff ,_dedd )&&_bfff .Lly > _dedd .Lly {return true ;};if !(_bfff ._cfef .Urx < _dedd ._cfef .Llx ){return false ;};_edgcc ,_dffa :=_bfff .Lly ,_dedd .Lly ;if _edgcc > _dffa {_dffa ,_edgcc =_edgcc ,_dffa ;};_daac :=_dc .Max (_bfff ._cfef .Llx ,_dedd ._cfef .Llx );_gaaa :=_dc .Min (_bfff ._cfef .Urx ,_dedd ._cfef .Urx );_ggfa :=_cgdd .llyRange (_cgcgd ,_edgcc ,_dffa );for _ ,_fbbbf :=range _ggfa {if _fbbbf ==_dggb ||_fbbbf ==_gefb {continue ;};_caef :=_cgdd [_fbbbf ];if _caef ._cfef .Llx <=_gaaa &&_daac <=_caef ._cfef .Urx {return false ;};};return true ;};func (_gfa *wordBag )text ()string {_ggce :=_gfa .allWords ();_caa :=make ([]string ,len (_ggce ));for _dcec ,_dgaa :=range _ggce {_caa [_dcec ]=_dgaa ._bgde ;};return _a .Join (_caa ,"\u0020");};type gridTiling struct{_cc .PdfRectangle ;_cfcc []float64 ;_cdeda []float64 ;_dgafd map[float64 ]map[float64 ]gridTile ;};func _bfab (_gggbb ,_ffgd _ea .Point )bool {_ffcf :=_dc .Abs (_gggbb .X -_ffgd .X );_dfcd :=_dc .Abs (_gggbb .Y -_ffgd .Y );return _dbag (_ffcf ,_dfcd );};func (_cgab *wordBag )firstReadingIndex (_dfe int )int {_eeae :=_cgab .firstWord (_dfe )._edecc ;_ddga :=float64 (_dfe +1)*_efcca ;_ecab :=_ddga +_gdb *_eeae ;_befc :=_dfe ;for _ ,_caff :=range _cgab .depthBand (_ddga ,_ecab ){if _ddgab (_cgab .firstWord (_caff ),_cgab .firstWord (_befc ))< 0{_befc =_caff ;};};return _befc ;};func _cagg (_dedf ,_gaad float64 )string {_cad :=!_efgag (_dedf -_gaad );if _cad {return "\u000a";};return "\u0020";};func (_gadda paraList )computeEBBoxes (){if _efd {_ca .Log .Info ("\u0063o\u006dp\u0075\u0074\u0065\u0045\u0042\u0042\u006f\u0078\u0065\u0073\u003a");};for _ ,_bcd :=range _gadda {_bcd ._cfef =_bcd .PdfRectangle ;};_fcfb :=_gadda .yNeighbours (0);for _dcbd ,_dbcfc :=range _gadda {_ebgf :=_dbcfc ._cfef ;_bcgg ,_gfaa :=-1.0e9,+1.0e9;for _ ,_fbad :=range _fcfb [_dbcfc ]{_cbgf :=_gadda [_fbad ]._cfef ;if _cbgf .Urx < _ebgf .Llx {_bcgg =_dc .Max (_bcgg ,_cbgf .Urx );}else if _ebgf .Urx < _cbgf .Llx {_gfaa =_dc .Min (_gfaa ,_cbgf .Llx );};};for _geef ,_cfde :=range _gadda {_aeag :=_cfde ._cfef ;if _dcbd ==_geef ||_aeag .Ury > _ebgf .Lly {continue ;};if _bcgg <=_aeag .Llx &&_aeag .Llx < _ebgf .Llx {_ebgf .Llx =_aeag .Llx ;}else if _aeag .Urx <=_gfaa &&_ebgf .Urx < _aeag .Urx {_ebgf .Urx =_aeag .Urx ;};};if _efd {_be .Printf ("\u0025\u0034\u0064\u003a %\u0036\u002e\u0032\u0066\u2192\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0071\u000a",_dcbd ,_dbcfc ._cfef ,_ebgf ,_fafd (_dbcfc .text (),50));};_dbcfc ._cfef =_ebgf ;};if _geaa {for _ ,_bfffg :=range _gadda {_bfffg .PdfRectangle =_bfffg ._cfef ;};};};func (_cbc *textObject )checkOp (_gge *_ad .ContentStreamOperation ,_cgg int ,_eba bool )(_cfd bool ,_bdbb error ){if _cbc ==nil {var _edcad []_fd .PdfObject ;if _cgg > 0{_edcad =_gge .Params ;if len (_edcad )> _cgg {_edcad =_edcad [:_cgg ];};};_ca .Log .Debug ("\u0025\u0023q \u006f\u0070\u0065r\u0061\u006e\u0064\u0020out\u0073id\u0065\u0020\u0074\u0065\u0078\u0074\u002e p\u0061\u0072\u0061\u006d\u0073\u003d\u0025+\u0076",_gge .Operand ,_edcad );};if _cgg >=0{if len (_gge .Params )!=_cgg {if _eba {_bdbb =_c .New ("\u0069n\u0063\u006f\u0072\u0072e\u0063\u0074\u0020\u0070\u0061r\u0061m\u0065t\u0065\u0072\u0020\u0063\u006f\u0075\u006et");};_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0025\u0023\u0071\u0020\u0073\u0068\u006f\u0075\u006c\u0064\u0020h\u0061\u0076\u0065\u0020\u0025\u0064\u0020i\u006e\u0070\u0075\u0074\u0020\u0070\u0061\u0072\u0061\u006d\u0073,\u0020\u0067\u006f\u0074\u0020\u0025\u0064\u0020\u0025\u002b\u0076",_gge .Operand ,_cgg ,len (_gge .Params ),_gge .Params );return false ,_bdbb ;};};return true ,nil ;};func (_eff *imageExtractContext )extractXObjectImage (_fgfc *_fd .PdfObjectName ,_bb _ad .GraphicsState ,_fgfb *_cc .PdfPageResources )error {_fce ,_ :=_fgfb .GetXObjectByName (*_fgfc );if _fce ==nil {return nil ;};_ag ,_ggd :=_eff ._ggb [_fce ];if !_ggd {_dd ,_bg :=_fgfb .GetXObjectImageByName (*_fgfc );if _bg !=nil {return _bg ;};if _dd ==nil {return nil ;};_aga ,_bg :=_dd .ToImage ();if _bg !=nil {return _bg ;};_ag =&cachedImage {_bfg :_aga ,_ef :_dd .ColorSpace };_eff ._ggb [_fce ]=_ag ;};_fa :=_ag ._bfg ;_dfd :=_ag ._ef ;_gbb ,_ab :=_dfd .ImageToRGB (*_fa );if _ab !=nil {return _ab ;};_ca .Log .Debug ("@\u0044\u006f\u0020\u0043\u0054\u004d\u003a\u0020\u0025\u0073",_bb .CTM .String ());_gd :=ImageMark {Image :&_gbb ,Width :_bb .CTM .ScalingFactorX (),Height :_bb .CTM .ScalingFactorY (),Angle :_bb .CTM .Angle ()};_gd .X ,_gd .Y =_bb .CTM .Translation ();_eff ._gfd =append (_eff ._gfd ,_gd );_eff ._ebf ++;return nil ;};func (_faba paraList )merge ()*textPara {_ca .Log .Trace ("\u006d\u0065\u0072\u0067\u0065:\u0020\u0070\u0061\u0072\u0061\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_faba ));if len (_faba )==0{return nil ;};_faba .sortReadingOrder ();_gcdb :=_faba [0].PdfRectangle ;_acgf :=_faba [0]._abbfb ;for _ ,_edgab :=range _faba [1:]{_gcdb =_aed (_gcdb ,_edgab .PdfRectangle );_acgf =append (_acgf ,_edgab ._abbfb ...);};return _bbcee (_gcdb ,_acgf );};func (_eaff paraList )findTextTables ()[]*textTable {var _aace []*textTable ;for _ ,_dcbee :=range _eaff {if _dcbee .taken ()||_dcbee .Width ()==0{continue ;};_afgb :=_dcbee .isAtom ();if _afgb ==nil {continue ;};_afgb .growTable ();if _afgb ._dadf *_afgb ._bgfb < _agdec {continue ;};_afgb .markCells ();_afgb .log ("\u0067\u0072\u006fw\u006e");_aace =append (_aace ,_afgb );};return _aace ;};func _bbcee (_fagc _cc .PdfRectangle ,_feeg []*textLine )*textPara {return &textPara {PdfRectangle :_fagc ,_abbfb :_feeg };};func (_gadbb *textTable )subdivide ()*textTable {_gadbb .logComposite ("\u0073u\u0062\u0064\u0069\u0076\u0069\u0064e");_fdfe :=_gadbb .compositeRowCorridors ();_fbfc :=_gadbb .compositeColCorridors ();if _adfa {_ca .Log .Info ("\u0073u\u0062\u0064i\u0076\u0069\u0064\u0065:\u000a\u0009\u0072o\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s=\u0025\u0073\u000a\t\u0063\u006fl\u0043\u006f\u0072\u0072\u0069\u0064o\u0072\u0073=\u0025\u0073",_fadg (_fdfe ),_fadg (_fbfc ));};if len (_fdfe )==0||len (_fbfc )==0{return _gadbb ;};_efcb (_fdfe );_efcb (_fbfc );if _adfa {_ca .Log .Info ("\u0073\u0075\u0062\u0064\u0069\u0076\u0069\u0064\u0065\u0020\u0066\u0069\u0078\u0065\u0064\u003a\u000a\u0009r\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073\u003d\u0025\u0073\u000a\u0009\u0063\u006f\u006cC\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d\u0025\u0073",_fadg (_fdfe ),_fadg (_fbfc ));};_eadfg ,_faafg :=_dcda (_gadbb ._bgfb ,_fdfe );_caebc ,_befdf :=_dcda (_gadbb ._dadf ,_fbfc );_cdggc :=make (map[uint64 ]*textPara ,_befdf *_faafg );_agbdc :=&textTable {PdfRectangle :_gadbb .PdfRectangle ,_dfad :_gadbb ._dfad ,_bgfb :_faafg ,_dadf :_befdf ,_bbag :_cdggc };if _adfa {_ca .Log .Info ("\u0073\u0075b\u0064\u0069\u0076\u0069\u0064\u0065\u003a\u0020\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0020\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0063\u0065\u006c\u006c\u0073\u003d\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072s\u003d\u0025\u0073\u000a"+"\u0009\u0079\u004f\u0066\u0066\u0073\u0065\u0074\u0073=\u0025\u002b\u0076\u000a"+"\u0009\u0078\u004f\u0066\u0066\u0073\u0065\u0074\u0073\u003d\u0025\u002b\u0076",_gadbb ._dadf ,_gadbb ._bgfb ,_befdf ,_faafg ,_fadg (_fdfe ),_fadg (_fbfc ),_eadfg ,_caebc );};for _ecbb :=0;_ecbb < _gadbb ._bgfb ;_ecbb ++{_addab :=_eadfg [_ecbb ];for _dfaab :=0;_dfaab < _gadbb ._dadf ;_dfaab ++{_bded :=_caebc [_dfaab ];if _adfa {_be .Printf ("\u0025\u0036\u0064\u002c %\u0032\u0064\u003a\u0020\u0078\u0030\u003d\u0025\u0064\u0020\u0079\u0030\u003d\u0025d\u000a",_dfaab ,_ecbb ,_bded ,_addab );};_cabaf ,_edbf :=_gadbb ._dddbf [_ada (_dfaab ,_ecbb )];if !_edbf {continue ;};_fggc :=_cabaf .split (_fdfe [_ecbb ],_fbfc [_dfaab ]);for _ggcge :=0;_ggcge < _fggc ._bgfb ;_ggcge ++{for _fcff :=0;_fcff < _fggc ._dadf ;_fcff ++{_gbbd :=_fggc .get (_fcff ,_ggcge );_agbdc .put (_bded +_fcff ,_addab +_ggcge ,_gbbd );if _adfa {_be .Printf ("\u0025\u0038\u0064\u002c\u0020\u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_bded +_fcff ,_addab +_ggcge ,_gbbd );};};};};};return _agbdc ;};func (_ebea *wordBag )arrangeText ()*textPara {_ebea .sort ();if _gaff {_ebea .removeDuplicates ();};var _aaca []*textLine ;for _ ,_defd :=range _ebea .depthIndexes (){for !_ebea .empty (_defd ){_decc :=_ebea .firstReadingIndex (_defd );_cddeb :=_ebea .firstWord (_decc );_bgebd :=_ffcb (_ebea ,_decc );_fgac :=_cddeb ._edecc ;_geaf :=_cddeb ._edgd -_ggdfc *_fgac ;_gdcf :=_cddeb ._edgd +_ggdfc *_fgac ;_ecabg :=_ecabc *_fgac ;_fcbf :=_eebe *_fgac ;_cbdb :for {var _bcad *textWord ;_bbdb :=0;for _ ,_ggfd :=range _ebea .depthBand (_geaf ,_gdcf ){_dgbdb :=_ebea .highestWord (_ggfd ,_geaf ,_gdcf );if _dgbdb ==nil {continue ;};_eeaee :=_eaaa (_dgbdb ,_bgebd ._gbdef [len (_bgebd ._gbdef )-1]);if _eeaee < -_fcbf {break _cbdb ;};if _eeaee > _ecabg {continue ;};if _bcad !=nil &&_ddgab (_dgbdb ,_bcad )>=0{continue ;};_bcad =_dgbdb ;_bbdb =_ggfd ;};if _bcad ==nil {break ;};_bgebd .pullWord (_ebea ,_bcad ,_bbdb );};_bgebd .markWordBoundaries ();_aaca =append (_aaca ,_bgebd );};};if len (_aaca )==0{return nil ;};_ee .Slice (_aaca ,func (_bebb ,_ebae int )bool {return _adfe (_aaca [_bebb ],_aaca [_ebae ])< 0});_eggb :=_bbcee (_ebea .PdfRectangle ,_aaca );if _efab {_ca .Log .Info ("\u0061\u0072\u0072an\u0067\u0065\u0054\u0065\u0078\u0074\u0020\u0021\u0021\u0021\u0020\u0070\u0061\u0072\u0061\u003d\u0025\u0073",_eggb .String ());if _ggdef {for _ebfb ,_aacaa :=range _eggb ._abbfb {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ebfb ,_aacaa .String ());if _cfbad {for _fffdd ,_acab :=range _aacaa ._gbdef {_be .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_fffdd ,_acab .String ());for _dbdg ,_bgefg :=range _acab ._edcac {_be .Printf ("\u00251\u0032\u0064\u003a\u0020\u0025\u0073\n",_dbdg ,_bgefg .String ());};};};};};};return _eggb ;};func _bfbbd (_fdcfc []pathSection ){if _ccg < 0.0{return ;};if _abda {_ca .Log .Info ("\u0067\u0072\u0061\u006e\u0075\u006c\u0061\u0072\u0069\u007a\u0065\u003a\u0020\u0025\u0064 \u0073u\u0062\u0070\u0061\u0074\u0068\u0020\u0073\u0065\u0063\u0074\u0069\u006f\u006e\u0073",len (_fdcfc ));};for _abacb ,_fcfba :=range _fdcfc {for _gece ,_bgbbb :=range _fcfba ._cgbb {for _fbece ,_abgaa :=range _bgbbb ._beabg {_bgbbb ._beabg [_fbece ]=_ea .Point {X :_ggcgf (_abgaa .X ),Y :_ggcgf (_abgaa .Y )};if _abda {_cfdb :=_bgbbb ._beabg [_fbece ];if !_abfdg (_abgaa ,_cfdb ){_cagbe :=_ea .Point {X :_cfdb .X -_abgaa .X ,Y :_cfdb .Y -_abgaa .Y };_be .Printf ("\u0025\u0034d \u002d\u0020\u00254\u0064\u0020\u002d\u0020%4d\u003a %\u002e\u0032\u0066\u0020\u2192\u0020\u0025.2\u0066\u0020\u0028\u0025\u0067\u0029\u000a",_abacb ,_gece ,_fbece ,_abgaa ,_cfdb ,_cagbe );};};};};};};func (_dgdd paraList )findGridTables (_gebdd []gridTiling )[]*textTable {if _adfa {_ca .Log .Info ("\u0066i\u006e\u0064\u0047\u0072\u0069\u0064\u0054\u0061\u0062\u006c\u0065s\u003a\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073",len (_dgdd ));for _dcge ,_eged :=range _dgdd {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dcge ,_eged );};};var _adddb []*textTable ;for _gffgf ,_dgdb :=range _gebdd {_fadf ,_gdegd :=_dgdd .findTableGrid (_dgdb );if _fadf !=nil {_fadf .log (_be .Sprintf ("\u0066\u0069\u006e\u0064Ta\u0062\u006c\u0065\u0057\u0069\u0074\u0068\u0047\u0072\u0069\u0064\u0073\u003a\u0020%\u0064",_gffgf ));_adddb =append (_adddb ,_fadf );_fadf .markCells ();};if _gdegd !=nil {for _dbbd :=range _gdegd {_dbbd ._dgfa =true ;};};};if _adfa {_ca .Log .Info ("\u0066i\u006e\u0064\u0047\u0072i\u0064\u0054\u0061\u0062\u006ce\u0073:\u0020%\u0064\u0020\u0074\u0061\u0062\u006c\u0065s",len (_adddb ));};return _adddb ;};func (_ebad rulingList )augmentGrid ()(rulingList ,rulingList ){_gacg ,_efaff :=_ebad .vertsHorzs ();if len (_gacg )==0||len (_efaff )==0{return _gacg ,_efaff ;};_cbce ,_cgec :=_gacg ,_efaff ;_efdc :=_gacg .bbox ();_affc :=_efaff .bbox ();if _abda {_ca .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0056\u003d\u0025\u0036\u002e\u0032\u0066",_efdc );_ca .Log .Info ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0047\u0072\u0069\u0064\u003a\u0020b\u0062\u006f\u0078\u0048\u003d\u0025\u0036\u002e\u0032\u0066",_affc );};var _efga ,_ggca ,_bcdf ,_gdcfdd *ruling ;if _affc .Llx < _efdc .Llx -_afge {_efga =&ruling {_adce :_fbed ,_fdebe :_eabd ,_cecfa :_affc .Llx ,_abgg :_efdc .Lly ,_debb :_efdc .Ury };_gacg =append (rulingList {_efga },_gacg ...);};if _affc .Urx > _efdc .Urx +_afge {_ggca =&ruling {_adce :_fbed ,_fdebe :_eabd ,_cecfa :_affc .Urx ,_abgg :_efdc .Lly ,_debb :_efdc .Ury };_gacg =append (_gacg ,_ggca );};if _efdc .Lly < _affc .Lly -_afge {_bcdf =&ruling {_adce :_fbed ,_fdebe :_acdb ,_cecfa :_efdc .Lly ,_abgg :_affc .Llx ,_debb :_affc .Urx };_efaff =append (rulingList {_bcdf },_efaff ...);};if _efdc .Ury > _affc .Ury +_afge {_gdcfdd =&ruling {_adce :_fbed ,_fdebe :_acdb ,_cecfa :_efdc .Ury ,_abgg :_affc .Llx ,_debb :_affc .Urx };_efaff =append (_efaff ,_gdcfdd );};if len (_gacg )+len (_efaff )==len (_ebad ){return _cbce ,_cgec ;};_dadc :=append (_gacg ,_efaff ...);_ebad .log ("u\u006e\u0061\u0075\u0067\u006d\u0065\u006e\u0074\u0065\u0064");_dadc .log ("\u0061u\u0067\u006d\u0065\u006e\u0074\u0065d");return _gacg ,_efaff ;};const (_eacc =1.0e-6;_ccg =1.0e-4;_ddgc =10;_efcca =6;_ggdfc =0.5;_cddg =0.11;_fabf =0.19;_acb =0.04;_faad =0.04;_dbg =1.0;_bdbe =0.04;_ffgb =0.4;_febd =0.7;_fbcg =1.0;_edcc =0.1;_ecabc =1.4;_eebe =0.46;_defc =0.02;_cbea =0.2;_bafb =0.5;_bcgb =4;_gdb =4.0;_agdec =6;_afgd =0.3;_gcab =0.01;_gecc =0.02;_cbd =2;_fcad =2;_dccdc =500;_bcbf =4.0;_gcagg =4.0;_dgffc =0.05;_aeg =0.1;_afge =2.0;_cge =2.0;_aaag =1.5;_cefg =3.0;_ebcf =0.25;);

// String returns a description of `t`.
func (_agbdf *textTable )String ()string {return _be .Sprintf ("\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u0020\u0025\u0074",_agbdf ._dadf ,_agbdf ._bgfb ,_agbdf ._dfad );};func (_dbfbb *textTable )compositeRowCorridors ()map[int ][]float64 {_ededg :=make (map[int ][]float64 ,_dbfbb ._bgfb );if _adfa {_ca .Log .Info ("c\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0052\u006f\u0077\u0043\u006f\u0072\u0072\u0069d\u006f\u0072\u0073:\u0020h\u003d\u0025\u0064",_dbfbb ._bgfb );};for _ceae :=1;_ceae < _dbfbb ._bgfb ;_ceae ++{var _ebagc []compositeCell ;for _gbgg :=0;_gbgg < _dbfbb ._dadf ;_gbgg ++{if _cbdd ,_acead :=_dbfbb ._dddbf [_ada (_gbgg ,_ceae )];_acead {_ebagc =append (_ebagc ,_cbdd );};};if len (_ebagc )==0{continue ;};_acfd :=_aggf (_ebagc );_ededg [_ceae ]=_acfd ;if _adfa {_be .Printf ("\u0020\u0020\u0020\u0025\u0032\u0064\u003a\u0020\u00256\u002e\u0032\u0066\u000a",_ceae ,_acfd );};};return _ededg ;};type pathSection struct{_cgbb []*subpath ;_bd .Color ;};func (_afdg *textTable )compositeColCorridors ()map[int ][]float64 {_dbdbe :=make (map[int ][]float64 ,_afdg ._dadf );if _adfa {_ca .Log .Info ("\u0063\u006f\u006d\u0070o\u0073\u0069\u0074\u0065\u0043\u006f\u006c\u0043\u006f\u0072r\u0069d\u006f\u0072\u0073\u003a\u0020\u0077\u003d%\u0064\u0020",_afdg ._dadf );};for _faec :=0;_faec < _afdg ._dadf ;_faec ++{_dbdbe [_faec ]=nil ;};return _dbdbe ;};

// NewFromContents creates a new extractor from contents and page resources.
func NewFromContents (contents string ,resources *_cc .PdfPageResources )(*Extractor ,error ){_gfe :=&Extractor {_cd :contents ,_gc :resources ,_eg :map[string ]fontEntry {},_gf :map[string ]textResult {}};return _gfe ,nil ;};func (_bga *textObject )showTextAdjusted (_acc *_fd .PdfObjectArray )error {_fdcg :=false ;for _ ,_febb :=range _acc .Elements (){switch _febb .(type ){case *_fd .PdfObjectFloat ,*_fd .PdfObjectInteger :_bgdc ,_dfcc :=_fd .GetNumberAsFloat (_febb );if _dfcc !=nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004fR\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078t\u0041\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0042\u0061\u0064\u0020\u006e\u0075\u006d\u0065r\u0069\u0063\u0061\u006c\u0020a\u0072\u0067\u002e\u0020\u006f\u003d\u0025\u0073\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_febb ,_acc );return _dfcc ;};_gdeb ,_ffbb :=-_bgdc *0.001*_bga ._dbf ._ddaf ,0.0;if _fdcg {_ffbb ,_gdeb =_gdeb ,_ffbb ;};_fcg :=_dbcf (_ea .Point {X :_gdeb ,Y :_ffbb });_bga ._bdc .Concat (_fcg );case *_fd .PdfObjectString :_acg ,_ccd :=_fd .GetStringBytes (_febb );if !_ccd {_ca .Log .Trace ("s\u0068\u006f\u0077\u0054\u0065\u0078\u0074\u0041\u0064j\u0075\u0073\u0074\u0065\u0064\u003a\u0020Ba\u0064\u0020\u0073\u0074r\u0069\u006e\u0067\u0020\u0061\u0072\u0067\u002e\u0020o=\u0025\u0073 \u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_febb ,_acc );return _fd .ErrTypeError ;};_bga .renderText (_acg );default:_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0073\u0068\u006f\u0077\u0054\u0065\u0078\u0074A\u0064\u006a\u0075\u0073\u0074\u0065\u0064\u002e\u0020\u0055\u006e\u0065\u0078p\u0065\u0063\u0074\u0065\u0064\u0020\u0074\u0079\u0070\u0065\u0020\u0028%T\u0029\u0020\u0061\u0072\u0067\u0073\u003d\u0025\u002b\u0076",_febb ,_acc );return _fd .ErrTypeError ;};};return nil ;};func (_cddgd *textTable )growTable (){_geag :=func (_ebgg paraList ){_cddgd ._bgfb ++;for _cega :=0;_cega < _cddgd ._dadf ;_cega ++{_ddbae :=_ebgg [_cega ];_cddgd .put (_cega ,_cddgd ._bgfb -1,_ddbae );};};_efef :=func (_ggdc paraList ){_cddgd ._dadf ++;for _eacf :=0;_eacf < _cddgd ._bgfb ;_eacf ++{_ffdc :=_ggdc [_eacf ];_cddgd .put (_cddgd ._dadf -1,_eacf ,_ffdc );};};if _faca {_cddgd .log ("\u0067r\u006f\u0077\u0054\u0061\u0062\u006ce");};for _dgfag :=0;;_dgfag ++{_ddfda :=false ;_efdab :=_cddgd .getDown ();_fdfab :=_cddgd .getRight ();if _faca {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dgfag ,_cddgd );_be .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0020\u0064\u006f\u0077\u006e\u003d\u0025\u0073\u000a",_efdab );_be .Printf ("\u0020\u0020 \u0020\u0020\u0020 \u0072\u0069\u0067\u0068\u0074\u003d\u0025\u0073\u000a",_fdfab );};if _efdab !=nil &&_fdfab !=nil {_gfebge :=_efdab [len (_efdab )-1];if _gfebge !=nil &&!_gfebge ._dgfa &&_gfebge ==_fdfab [len (_fdfab )-1]{_geag (_efdab );if _fdfab =_cddgd .getRight ();_fdfab !=nil {_efef (_fdfab );_cddgd .put (_cddgd ._dadf -1,_cddgd ._bgfb -1,_gfebge );};_ddfda =true ;};};if !_ddfda &&_efdab !=nil {_geag (_efdab );_ddfda =true ;};if !_ddfda &&_fdfab !=nil {_efef (_fdfab );_ddfda =true ;};if !_ddfda {break ;};};};func _bbbe (_gceeb string )bool {if _ga .RuneCountInString (_gceeb )< _bcgb {return false ;};_bdfgd ,_gaab :=_ga .DecodeLastRuneInString (_gceeb );if _gaab <=0||!_e .Is (_e .Hyphen ,_bdfgd ){return false ;};_bdfgd ,_gaab =_ga .DecodeLastRuneInString (_gceeb [:len (_gceeb )-_gaab ]);return _gaab > 0&&!_e .IsSpace (_bdfgd );};func _ada (_debfe ,_cafg int )uint64 {return uint64 (_debfe )*0x1000000+uint64 (_cafg )};func (_febg *wordBag )maxDepth ()float64 {return _febg ._fceaf -_febg .Lly };func (_eadba rulingList )intersections ()map[int ]intSet {var _dgef ,_fbcbe []int ;for _ddba ,_afgea :=range _eadba {switch _afgea ._fdebe {case _eabd :_dgef =append (_dgef ,_ddba );case _acdb :_fbcbe =append (_fbcbe ,_ddba );};};if len (_dgef )< _cbd +1||len (_fbcbe )< _fcad +1{return nil ;};if len (_dgef )+len (_fbcbe )> _dccdc {_ca .Log .Debug ("\u0069\u006e\u0074\u0065\u0072\u0073e\u0063\u0074\u0069\u006f\u006e\u0073\u003a\u0020\u0054\u004f\u004f\u0020\u004d\u0041\u004e\u0059\u0020\u0072\u0075\u006ci\u006e\u0067\u0073\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u003d\u0020%\u0064 \u0078\u0020\u0025\u0064",len (_eadba ),len (_dgef ),len (_fbcbe ));return nil ;};_dcdd :=make (map[int ]intSet ,len (_dgef )+len (_fbcbe ));for _ ,_cbed :=range _dgef {for _ ,_cdedd :=range _fbcbe {if _eadba [_cbed ].intersects (_eadba [_cdedd ]){if _ ,_dcgd :=_dcdd [_cbed ];!_dcgd {_dcdd [_cbed ]=make (intSet );};if _ ,_ddfab :=_dcdd [_cdedd ];!_ddfab {_dcdd [_cdedd ]=make (intSet );};_dcdd [_cbed ].add (_cdedd );_dcdd [_cdedd ].add (_cbed );};};};return _dcdd ;};func (_ec *imageExtractContext )processOperand (_ffa *_ad .ContentStreamOperation ,_cdf _ad .GraphicsState ,_gca *_cc .PdfPageResources )error {if _ffa .Operand =="\u0042\u0049"&&len (_ffa .Params )==1{_eed ,_dg :=_ffa .Params [0].(*_ad .ContentStreamInlineImage );if !_dg {return nil ;};if _dgb ,_bcg :=_fd .GetBoolVal (_eed .ImageMask );_bcg {if _dgb &&!_ec ._ff .IncludeInlineStencilMasks {return nil ;};};return _ec .extractInlineImage (_eed ,_cdf ,_gca );}else if _ffa .Operand =="\u0044\u006f"&&len (_ffa .Params )==1{_bde ,_db :=_fd .GetName (_ffa .Params [0]);if !_db {_ca .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020\u0054\u0079\u0070\u0065");return _bag ;};_ ,_ebe :=_gca .GetXObjectByName (*_bde );switch _ebe {case _cc .XObjectTypeImage :return _ec .extractXObjectImage (_bde ,_cdf ,_gca );case _cc .XObjectTypeForm :return _ec .extractFormImages (_bde ,_cdf ,_gca );};};return nil ;};func (_cccg *textTable )emptyColumn (_ggfcf int )bool {for _dddg :=0;_dddg < _cccg ._bgfb ;_dddg ++{_aage :=_cccg .get (_ggfcf ,_dddg );if _aage !=nil &&_aage .text ()!=""{return false ;};};return true ;};func _fegb (_cfbgb ,_gagb _cc .PdfRectangle )bool {return _cfbgb .Lly <=_gagb .Ury &&_gagb .Lly <=_cfbgb .Ury ;};func (_ecgc *subpath )makeRectRuling (_ffdd _bd .Color )(*ruling ,bool ){if _abdc {_ca .Log .Info ("\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0070\u0061\u0074\u0068\u003d\u0025\u0076",_ecgc );};_abgc :=_ecgc ._beabg [:4];_ggfe :=make (map[int ]rulingKind ,len (_abgc ));for _afadcg ,_ccdb :=range _abgc {_fged :=_ecgc ._beabg [(_afadcg +1)%4];_ggfe [_afadcg ]=_ddgf (_ccdb ,_fged );if _abdc {_be .Printf ("\u0025\u0034\u0064: \u0025\u0073\u0020\u003d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066",_afadcg ,_ggfe [_afadcg ],_ccdb ,_fged );};};if _abdc {_be .Printf ("\u0020\u0020\u0020\u006b\u0069\u006e\u0064\u0073\u003d\u0025\u002b\u0076\u000a",_ggfe );};var _egda ,_efcd []int ;for _bfad ,_bdefc :=range _ggfe {switch _bdefc {case _acdb :_efcd =append (_efcd ,_bfad );case _eabd :_egda =append (_egda ,_bfad );};};if _abdc {_be .Printf ("\u0020\u0020 \u0068\u006f\u0072z\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_efcd ),_efcd );_be .Printf ("\u0020\u0020 \u0076\u0065\u0072t\u0073\u003d\u0025\u0064\u0020\u0025\u002b\u0076\u000a",len (_egda ),_egda );};_edgce :=(len (_efcd )==2&&len (_egda )==2)||(len (_efcd )==2&&len (_egda )==0&&_gdcd (_abgc [_efcd [0]],_abgc [_efcd [1]]))||(len (_egda )==2&&len (_efcd )==0&&_bfab (_abgc [_egda [0]],_abgc [_egda [1]]));if _abdc {_be .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_efcd ),len (_egda ),_edgce );};if !_edgce {if _abdc {_ca .Log .Error ("\u0021!\u006d\u0061\u006b\u0065R\u0065\u0063\u0074\u0052\u0075l\u0069n\u0067:\u0020\u0070\u0061\u0074\u0068\u003d\u0025v",_ecgc );_be .Printf (" \u0020\u0020\u0068\u006f\u0072\u007as\u003d\u0025\u0064\u0020\u0076\u0065\u0072\u0074\u0073=\u0025\u0064\u0020o\u006b=\u0025\u0074\u000a",len (_efcd ),len (_egda ),_edgce );};return &ruling {},false ;};if len (_egda )==0{for _ccc ,_baba :=range _ggfe {if _baba !=_acdb {_egda =append (_egda ,_ccc );};};};if len (_efcd )==0{for _eebdb ,_ebba :=range _ggfe {if _ebba !=_eabd {_efcd =append (_efcd ,_eebdb );};};};if _abdc {_ca .Log .Info ("\u006da\u006b\u0065R\u0065\u0063\u0074\u0052u\u006c\u0069\u006eg\u003a\u0020\u0068\u006f\u0072\u007a\u0073\u003d\u0025d \u0076\u0065\u0072t\u0073\u003d%\u0064\u0020\u0070\u006f\u0069\u006et\u0073\u003d%\u0064\u000a"+"\u0009\u0020\u0068o\u0072\u007a\u0073\u003d\u0025\u002b\u0076\u000a"+"\u0009\u0020\u0076e\u0072\u0074\u0073\u003d\u0025\u002b\u0076\u000a"+"\t\u0070\u006f\u0069\u006e\u0074\u0073\u003d\u0025\u002b\u0076",len (_efcd ),len (_egda ),len (_abgc ),_efcd ,_egda ,_abgc );};var _afbg ,_efebf ,_ceeg ,_fdad _ea .Point ;if _abgc [_efcd [0]].Y > _abgc [_efcd [1]].Y {_ceeg ,_fdad =_abgc [_efcd [0]],_abgc [_efcd [1]];}else {_ceeg ,_fdad =_abgc [_efcd [1]],_abgc [_efcd [0]];};if _abgc [_egda [0]].X > _abgc [_egda [1]].X {_afbg ,_efebf =_abgc [_egda [0]],_abgc [_egda [1]];}else {_afbg ,_efebf =_abgc [_egda [1]],_abgc [_egda [0]];};_bbgdd :=_cc .PdfRectangle {Llx :_afbg .X ,Urx :_efebf .X ,Lly :_fdad .Y ,Ury :_ceeg .Y };if _bbgdd .Llx > _bbgdd .Urx {_bbgdd .Llx ,_bbgdd .Urx =_bbgdd .Urx ,_bbgdd .Llx ;};if _bbgdd .Lly > _bbgdd .Ury {_bbgdd .Lly ,_bbgdd .Ury =_bbgdd .Ury ,_bbgdd .Lly ;};_cfffa :=rectRuling {PdfRectangle :_bbgdd ,_badf :_bgcaf (_bbgdd ),Color :_ffdd };if _cfffa ._badf ==_gdfc {if _abdc {_ca .Log .Error ("\u006da\u006b\u0065\u0052\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006eg\u003a\u0020\u006b\u0069\u006e\u0064\u003d\u006e\u0069\u006c");};return nil ,false ;};_efgc ,_gfge :=_cfffa .asRuling ();if !_gfge {if _abdc {_ca .Log .Error ("\u006da\u006b\u0065\u0052\u0065c\u0074\u0052\u0075\u006c\u0069n\u0067:\u0020!\u0069\u0073\u0052\u0075\u006c\u0069\u006eg");};return nil ,false ;};if _abda {_be .Printf ("\u0020\u0020\u0020\u0072\u003d\u0025\u0073\u000a",_efgc .String ());};return _efgc ,true ;};func (_fade gridTile )numBorders ()int {_dcbe :=0;if _fade ._fgfcf {_dcbe ++;};if _fade ._cbccg {_dcbe ++;};if _fade ._bbfec {_dcbe ++;};if _fade ._gdeg {_dcbe ++;};return _dcbe ;};const (_eabb =true ;_gaff =true ;_deca =true ;_geaa =false ;_aeeg =false ;_fdbb =6;_cece =3.0;_edga =200;_dfeb =true ;_bddg =true ;_dgfg =true ;_aafg =true ;_faa =false ;);func (_gcee *subpath )add (_gfde ..._ea .Point ){_gcee ._beabg =append (_gcee ._beabg ,_gfde ...)};func (_bebf rulingList )snapToGroups ()rulingList {_fbda ,_cfbc :=_bebf .vertsHorzs ();if len (_fbda )> 0{_fbda =_fbda .snapToGroupsDirection ();};if len (_cfbc )> 0{_cfbc =_cfbc .snapToGroupsDirection ();};_bgbc :=append (_fbda ,_cfbc ...);_bgbc .log ("\u0073\u006e\u0061p\u0054\u006f\u0047\u0072\u006f\u0075\u0070\u0073");return _bgbc ;};func (_bcbdf *shapesState )stroke (_edfbg *[]pathSection ){_cbg :=pathSection {_cgbb :_bcbdf ._dad ,Color :_bcbdf ._ffc .getStrokeColor ()};*_edfbg =append (*_edfbg ,_cbg );if _abda {_be .Printf ("\u0020 \u0020\u0020S\u0054\u0052\u004fK\u0045\u003a\u0020\u0025\u0064\u0020\u0073t\u0072\u006f\u006b\u0065\u0073\u0020s\u0073\u003d\u0025\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d%\u002b\u0076\u0020\u0025\u0036\u002e\u0032\u0066\u000a",len (*_edfbg ),_bcbdf ,_bcbdf ._ffc .getStrokeColor (),_cbg .bbox ());if _eadb {for _dbcb ,_beab :=range _bcbdf ._dad {_be .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_dbcb ,_beab );if _dbcb ==10{break ;};};};};};

// New returns an Extractor instance for extracting content from the input PDF page.
func New (page *_cc .PdfPage )(*Extractor ,error ){_bc ,_cf :=page .GetAllContentStreams ();if _cf !=nil {return nil ,_cf ;};_bf ,_cf :=page .GetMediaBox ();if _cf !=nil {return nil ,_be .Errorf ("\u0065\u0078\u0074r\u0061\u0063\u0074\u006fr\u0020\u0072\u0065\u0071\u0075\u0069\u0072e\u0073\u0020\u006d\u0065\u0064\u0069\u0061\u0042\u006f\u0078\u002e\u0020\u0025\u0076",_cf );};_gg :=&Extractor {_cd :_bc ,_gc :page .Resources ,_ge :*_bf ,_eg :map[string ]fontEntry {},_gf :map[string ]textResult {}};if _gg ._ge .Llx > _gg ._ge .Urx {_ca .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0058\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_gg ._ge );_gg ._ge .Llx ,_gg ._ge .Urx =_gg ._ge .Urx ,_gg ._ge .Llx ;};if _gg ._ge .Lly > _gg ._ge .Ury {_ca .Log .Info ("\u004d\u0065\u0064\u0069\u0061\u0042o\u0078\u0020\u0068\u0061\u0073\u0020\u0059\u0020\u0063\u006f\u006f\u0072\u0064\u0069\u006e\u0061\u0074\u0065\u0073\u0020r\u0065\u0076\u0065\u0072\u0073\u0065\u0064\u002e\u0020\u0025\u002e\u0032\u0066\u0020F\u0069x\u0069\u006e\u0067\u002e",_gg ._ge );_gg ._ge .Lly ,_gg ._ge .Ury =_gg ._ge .Ury ,_gg ._ge .Lly ;};return _gg ,nil ;};func (_bacg *ruling )gridIntersecting (_afef *ruling )bool {return _ggbcd (_bacg ._abgg ,_afef ._abgg )&&_ggbcd (_bacg ._debb ,_afef ._debb );};func _eaaa (_fbeb ,_ffga bounded )float64 {return _fbeb .bbox ().Llx -_ffga .bbox ().Urx };func _ebgd (_gcfg ,_fgab _cc .PdfRectangle )bool {return _gcfg .Llx <=_fgab .Llx &&_fgab .Urx <=_gcfg .Urx &&_gcfg .Lly <=_fgab .Lly &&_fgab .Ury <=_gcfg .Ury ;};func _dbag (_efdae ,_cfeaa float64 )bool {return _efdae /_dc .Max (_aeg ,_cfeaa )< _dgffc };const _bbf =20;func (_ggabg compositeCell )String ()string {_fcda :="";if len (_ggabg .paraList )> 0{_fcda =_fafd (_ggabg .paraList .merge ().text (),50);};return _be .Sprintf ("\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0064\u0020\u0070\u0061\u0072a\u0073\u0020\u0025\u0071",_ggabg .PdfRectangle ,len (_ggabg .paraList ),_fcda );};func (_bdaf *textWord )addDiacritic (_ebcfb string ){_egcba :=_bdaf ._edcac [len (_bdaf ._edcac )-1];_egcba ._dab +=_ebcfb ;_egcba ._dab =_f .NFKC .String (_egcba ._dab );};func (_cdcfd *textTable )reduceTiling (_gaec gridTiling ,_ebbbb float64 )*textTable {_bgbcc :=make ([]int ,0,_cdcfd ._bgfb );_eecb :=make ([]int ,0,_cdcfd ._dadf );_abfd :=_gaec ._cfcc ;_edge :=_gaec ._cdeda ;for _edeg :=0;_edeg < _cdcfd ._bgfb ;_edeg ++{_gfebb :=_edeg > 0&&_dc .Abs (_edge [_edeg -1]-_edge [_edeg ])< _ebbbb &&_cdcfd .emptyRow (_edeg );if !_gfebb {_bgbcc =append (_bgbcc ,_edeg );};};for _geca :=0;_geca < _cdcfd ._dadf ;_geca ++{_egbd :=_geca < _cdcfd ._dadf -1&&_dc .Abs (_abfd [_geca +1]-_abfd [_geca ])< _ebbbb &&_cdcfd .emptyColumn (_geca );if !_egbd {_eecb =append (_eecb ,_geca );};};if len (_bgbcc )==_cdcfd ._bgfb &&len (_eecb )==_cdcfd ._dadf {return _cdcfd ;};_bafbg :=textTable {_dfad :_cdcfd ._dfad ,_dadf :len (_eecb ),_bgfb :len (_bgbcc ),_dddbf :make (map[uint64 ]compositeCell ,len (_eecb )*len (_bgbcc ))};if _adfa {_ca .Log .Info ("\u0072\u0065\u0064\u0075c\u0065\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0025d\u0078%\u0064\u0020\u002d\u003e\u0020\u0025\u0064x\u0025\u0064",_cdcfd ._dadf ,_cdcfd ._bgfb ,len (_eecb ),len (_bgbcc ));_ca .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_eecb );_ca .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_bgbcc );};for _ccab ,_cecc :=range _bgbcc {for _gcdgb ,_cecb :=range _eecb {_geac ,_afgeg :=_cdcfd .getComposite (_cecb ,_cecc );if len (_geac )==0{continue ;};if _adfa {_be .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_gcdgb ,_ccab ,_cecb ,_cecc ,_fafd (_geac .merge ().text (),50));};_bafbg .putComposite (_gcdgb ,_ccab ,_geac ,_afgeg );};};return &_bafbg ;};

// String returns a string descibing `i`.
func (_gabg gridTile )String ()string {_adcdg :=func (_begb bool ,_deafd string )string {if _begb {return _deafd ;};return "\u005f";};return _be .Sprintf ("\u00256\u002e2\u0066\u0020\u0025\u0031\u0073%\u0031\u0073%\u0031\u0073\u0025\u0031\u0073",_gabg .PdfRectangle ,_adcdg (_gabg ._fgfcf ,"\u004c"),_adcdg (_gabg ._cbccg ,"\u0052"),_adcdg (_gabg ._bbfec ,"\u0042"),_adcdg (_gabg ._gdeg ,"\u0054"));};func (_bdfc paraList )reorder (_ccfc []int ){_dfb :=make (paraList ,len (_bdfc ));for _fbbc ,_bfd :=range _ccfc {_dfb [_fbbc ]=_bdfc [_bfd ];};copy (_bdfc ,_dfb );};func _adfe (_abbe ,_cfc bounded )float64 {_fef :=_acca (_abbe ,_cfc );if !_efgag (_fef ){return _fef ;};return _ddgab (_abbe ,_cfc );};func (_fcfbg rulingList )blocks (_cbcc ,_abbfg *ruling )bool {if _cbcc ._abgg > _abbfg ._debb ||_abbfg ._abgg > _cbcc ._debb {return false ;};_bdfga :=_dc .Max (_cbcc ._abgg ,_abbfg ._abgg );_eaed :=_dc .Min (_cbcc ._debb ,_abbfg ._debb );if _cbcc ._cecfa > _abbfg ._cecfa {_cbcc ,_abbfg =_abbfg ,_cbcc ;};for _ ,_dgec :=range _fcfbg {if _cbcc ._cecfa <=_dgec ._cecfa +_cge &&_dgec ._cecfa <=_abbfg ._cecfa +_cge &&_dgec ._abgg <=_eaed &&_bdfga <=_dgec ._debb {return true ;};};return false ;};func (_cffa *textObject )setTextRise (_gbg float64 ){if _cffa ==nil {return ;};_cffa ._dbf ._agff =_gbg ;};

// String returns a description of `l`.
func (_ggdec *textLine )String ()string {return _be .Sprintf ("\u0025\u002e2\u0066\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\"%\u0073\u0022",_ggdec ._abe ,_ggdec .PdfRectangle ,_ggdec ._eegf ,_ggdec .text ());};var _cbeg =TextMark {Text :"\u005b\u0058\u005d",Original :"\u0020",Meta :true ,FillColor :_bd .White ,StrokeColor :_bd .White };

// PageText represents the layout of text on a device page.
type PageText struct{_gcae []*textMark ;_cabf string ;_dcad []TextMark ;_fgb []TextTable ;_ggad _cc .PdfRectangle ;_cbf []pathSection ;_bad []pathSection ;};func (_gad *shapesState )cubicTo (_ffbe ,_gage ,_ggc ,_babe ,_ffbbb ,_gcbag float64 ){if _fge {_ca .Log .Info ("\u0063\u0075\u0062\u0069\u0063\u0054\u006f\u003a");};_gad .addPoint (_ffbbb ,_gcbag );};func (_dcde *textTable )getRight ()paraList {_cgddc :=make (paraList ,_dcde ._bgfb );for _cfgab :=0;_cfgab < _dcde ._bgfb ;_cfgab ++{_gbaag :=_dcde .get (_dcde ._dadf -1,_cfgab )._aca ;if _gbaag ==nil ||_gbaag ._dgfa {return nil ;};_cgddc [_cfgab ]=_gbaag ;};for _baab :=0;_baab < _dcde ._bgfb -1;_baab ++{if _cgddc [_baab ]._bacad !=_cgddc [_baab +1]{return nil ;};};return _cgddc ;};func (_gfg *textObject )renderText (_gceb []byte )error {if _gfg ._dbfd {_ca .Log .Debug ("\u0072\u0065\u006e\u0064\u0065r\u0054\u0065\u0078\u0074\u003a\u0020\u0049\u006e\u0076\u0061\u006c\u0069\u0064 \u0066\u006f\u006e\u0074\u002e\u0020\u004e\u006f\u0074\u0020\u0070\u0072\u006f\u0063\u0065\u0073\u0073\u0069\u006e\u0067\u002e");return nil ;};_gfeb :=_gfg .getCurrentFont ();_fbf :=_gfeb .BytesToCharcodes (_gceb );_gdc ,_agae ,_cgfg :=_gfeb .CharcodesToStrings (_fbf );if _cgfg > 0{_ca .Log .Debug ("\u0072\u0065nd\u0065\u0072\u0054e\u0078\u0074\u003a\u0020num\u0043ha\u0072\u0073\u003d\u0025\u0064\u0020\u006eum\u004d\u0069\u0073\u0073\u0065\u0073\u003d%\u0064",_agae ,_cgfg );};_gfg ._dbf ._ebd +=_agae ;_gfg ._dbf ._eaea +=_cgfg ;_beaad :=_gfg ._dbf ;_bgbe :=_beaad ._ddaf ;_egd :=_beaad ._gcfa /100.0;_aeba ,_gba :=_gfeb .GetRuneMetrics (' ');if !_gba {_aeba ,_gba =_gfeb .GetCharMetrics (32);};if !_gba {_aeba ,_ =_cc .DefaultFont ().GetRuneMetrics (' ');};_ebac :=_aeba .Wx *_gff ;_ca .Log .Trace ("\u0073p\u0061\u0063e\u0057\u0069\u0064t\u0068\u003d\u0025\u002e\u0032\u0066\u0020t\u0065\u0078\u0074\u003d\u0025\u0071 \u0066\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0066\u006f\u006et\u0053\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066",_ebac ,_gdc ,_gfeb ,_bgbe );_agg :=_ea .NewMatrix (_bgbe *_egd ,0,0,_bgbe ,0,_beaad ._agff );if _degb {_ca .Log .Info ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0074\u0065\u0078t\u0073\u003d\u0025\u0071",len (_fbf ),_fbf ,_gdc );};_ca .Log .Trace ("\u0072\u0065\u006e\u0064\u0065\u0072T\u0065\u0078\u0074\u003a\u0020\u0025\u0064\u0020\u0063\u006f\u0064\u0065\u0073=\u0025\u002b\u0076\u0020\u0072\u0075\u006ee\u0073\u003d\u0025\u0071",len (_fbf ),_fbf ,len (_gdc ));_ccac :=_gfg .getFillColor ();_effc :=_gfg .getStrokeColor ();for _eaba ,_bbb :=range _gdc {_fcfd :=[]rune (_bbb );if len (_fcfd )==1&&_fcfd [0]=='\x00'{continue ;};_bgfd :=_fbf [_eaba ];_cbcge :=_gfg ._adg .CTM .Mult (_gfg ._bdc ).Mult (_agg );_abab :=0.0;if len (_fcfd )==1&&_fcfd [0]==32{_abab =_beaad ._ddab ;};_eebd ,_fdgc :=_gfeb .GetCharMetrics (_bgfd );if !_fdgc {_ca .Log .Debug ("\u0045R\u0052\u004fR\u003a\u0020\u004e\u006f \u006d\u0065\u0074r\u0069\u0063\u0020\u0066\u006f\u0072\u0020\u0063\u006fde\u003d\u0025\u0064 \u0072\u003d0\u0078\u0025\u0030\u0034\u0078\u003d%\u002b\u0071 \u0025\u0073",_bgfd ,_fcfd ,_fcfd ,_gfeb );return _be .Errorf ("\u006e\u006f\u0020\u0063\u0068\u0061\u0072\u0020\u006d\u0065\u0074\u0072\u0069\u0063\u0073:\u0020f\u006f\u006e\u0074\u003d\u0025\u0073\u0020\u0063\u006f\u0064\u0065\u003d\u0025\u0064",_gfeb .String (),_bgfd );};_befee :=_ea .Point {X :_eebd .Wx *_gff ,Y :_eebd .Wy *_gff };_fbg :=_ea .Point {X :(_befee .X *_bgbe +_abab )*_egd };_dcee :=_ea .Point {X :(_befee .X *_bgbe +_beaad ._bbg +_abab )*_egd };if _degb {_ca .Log .Info ("\u0074\u0066\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0063\u003d\u0025\u002e\u0032f\u0020t\u0077\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_bgbe ,_beaad ._bbg ,_beaad ._ddab ,_egd );_ca .Log .Info ("\u0064x\u002c\u0064\u0079\u003d%\u002e\u0033\u0066\u0020\u00740\u003d%\u002e3\u0066\u0020\u0074\u003d\u0025\u002e\u0033f",_befee ,_fbg ,_dcee );};_eccc :=_dbcf (_fbg );_efag :=_dbcf (_dcee );_edg :=_gfg ._adg .CTM .Mult (_gfg ._bdc ).Mult (_eccc );if _bee {_ca .Log .Info ("e\u006e\u0064\u003a\u000a\tC\u0054M\u003d\u0025\u0073\u000a\u0009 \u0074\u006d\u003d\u0025\u0073\u000a"+"\u0009\u0020t\u0064\u003d\u0025s\u0020\u0078\u006c\u0061\u0074\u003d\u0025\u0073\u000a"+"\u0009t\u0064\u0030\u003d\u0025s\u000a\u0009\u0020\u0020\u2192 \u0025s\u0020x\u006c\u0061\u0074\u003d\u0025\u0073",_gfg ._adg .CTM ,_gfg ._bdc ,_efag ,_bbeb (_gfg ._adg .CTM .Mult (_gfg ._bdc ).Mult (_efag )),_eccc ,_edg ,_bbeb (_edg ));};_dde ,_bbfb :=_gfg .newTextMark (_ba .ExpandLigatures (_fcfd ),_cbcge ,_bbeb (_edg ),_dc .Abs (_ebac *_cbcge .ScalingFactorX ()),_gfeb ,_gfg ._dbf ._bbg ,_ccac ,_effc );if !_bbfb {_ca .Log .Debug ("\u0054\u0065\u0078\u0074\u0020\u006d\u0061\u0072\u006b\u0020\u006f\u0075\u0074\u0073\u0069d\u0065 \u0070\u0061\u0067\u0065\u002e\u0020\u0053\u006b\u0069\u0070\u0070\u0069\u006e\u0067");continue ;};if _gfeb ==nil {_ca .Log .Debug ("\u0045R\u0052O\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u002e");}else if _gfeb .Encoder ()==nil {_ca .Log .Debug ("E\u0052\u0052\u004f\u0052\u003a\u0020N\u006f\u0020\u0065\u006e\u0063\u006f\u0064\u0069\u006eg\u002e\u0020\u0066o\u006et\u003d\u0025\u0073",_gfeb );}else {if _agfc ,_fcbc :=_gfeb .Encoder ().CharcodeToRune (_bgfd );_fcbc {_dde ._fceab =string (_agfc );};};_ca .Log .Trace ("i\u003d\u0025\u0064\u0020\u0063\u006fd\u0065\u003d\u0025\u0064\u0020\u006d\u0061\u0072\u006b=\u0025\u0073\u0020t\u0072m\u003d\u0025\u0073",_eaba ,_bgfd ,_dde ,_cbcge );_gfg ._dgcb =append (_gfg ._dgcb ,&_dde );_gfg ._bdc .Concat (_efag );};return nil ;};func (_abag *shapesState )closePath (){if _abag ._aaad {_abag ._dad =append (_abag ._dad ,_gaa (_abag ._dac ));_abag ._aaad =false ;}else if len (_abag ._dad )==0{if _fge {_ca .Log .Debug ("\u0063\u006c\u006f\u0073eP\u0061\u0074\u0068\u0020\u0077\u0069\u0074\u0068\u0020\u006e\u006f\u0020\u0070\u0061t\u0068");};_abag ._aaad =false ;return ;};_abag ._dad [len (_abag ._dad )-1].close ();if _fge {_ca .Log .Info ("\u0063\u006c\u006f\u0073\u0065\u0050\u0061\u0074\u0068\u003a\u0020\u0025\u0073",_abag );};};func (_agfd paraList )topoOrder ()[]int {if _egdf {_ca .Log .Info ("\u0074\u006f\u0070\u006f\u004f\u0072\u0064\u0065\u0072\u003a");};_abbf :=len (_agfd );_gffg :=make ([]bool ,_abbf );_cfaa :=make ([]int ,0,_abbf );_agbc :=_agfd .llyOrdering ();var _caba func (_dafa int );_caba =func (_caeb int ){_gffg [_caeb ]=true ;for _ebfd :=0;_ebfd < _abbf ;_ebfd ++{if !_gffg [_ebfd ]{if _agfd .readBefore (_agbc ,_caeb ,_ebfd ){_caba (_ebfd );};};};_cfaa =append (_cfaa ,_caeb );};for _ecfb :=0;_ecfb < _abbf ;_ecfb ++{if !_gffg [_ecfb ]{_caba (_ecfb );};};return _gggd (_cfaa );};func (_fcee rulingList )tidied (_ggcb string )rulingList {_gfcf :=_fcee .removeDuplicates ();_gfcf .log ("\u0075n\u0069\u0071\u0075\u0065\u0073");_aeadd :=_gfcf .snapToGroups ();if _aeadd ==nil {return nil ;};_aeadd .sort ();if _abda {_ca .Log .Info ("\u0074\u0069\u0064i\u0065\u0064\u003a\u0020\u0025\u0071\u0020\u0076\u0065\u0063\u0073\u003d\u0025\u0064\u0020\u0075\u006e\u0069\u0071\u0075\u0065\u0073\u003d\u0025\u0064\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0064\u003d\u0025\u0064",_ggcb ,len (_fcee ),len (_gfcf ),len (_aeadd ));};_aeadd .log ("\u0063o\u0061\u006c\u0065\u0073\u0063\u0065d");return _aeadd ;};func _abb (_dgce ,_egcc bounded )float64 {_accd :=_ddgab (_dgce ,_egcc );if !_efgag (_accd ){return _accd ;};return _acca (_dgce ,_egcc );};func (_facfc *textPara )taken ()bool {return _facfc ==nil ||_facfc ._dgfa };const _baff =10;func (_bfdb compositeCell )split (_acaa ,_cbec []float64 )*textTable {_ffbcdf :=len (_acaa )+1;_bgca :=len (_cbec )+1;if _adfa {_ca .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069t\u0065\u0043\u0065l\u006c\u002e\u0073\u0070l\u0069\u0074\u003a\u0020\u0025\u0064\u0020\u0078\u0020\u0025\u0064\u000a\u0009\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u003d\u0025\u0073\u000a"+"\u0009\u0072\u006f\u0077\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073=\u0025\u0036\u002e\u0032\u0066\u000a\t\u0063\u006f\u006c\u0043\u006f\u0072\u0072\u0069\u0064\u006f\u0072\u0073\u003d%\u0036\u002e\u0032\u0066",_bgca ,_ffbcdf ,_bfdb ,_acaa ,_cbec );_be .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u0070\u0061\u0072\u0061\u0073\u000a",len (_bfdb .paraList ));for _fddf ,_gdaa :=range _bfdb .paraList {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fddf ,_gdaa .String ());};_be .Printf ("\u0020\u0020\u0020\u0020\u0025\u0064\u0020\u006c\u0069\u006e\u0065\u0073\u000a",len (_bfdb .lines ()));for _dgaf ,_gfbc :=range _bfdb .lines (){_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_dgaf ,_gfbc );};};_acaa =_dedfb (_acaa ,_bfdb .Ury ,_bfdb .Lly );_cbec =_dedfb (_cbec ,_bfdb .Llx ,_bfdb .Urx );_faae :=make (map[uint64 ]*textPara ,_bgca *_ffbcdf );_dcfb :=textTable {_dadf :_bgca ,_bgfb :_ffbcdf ,_bbag :_faae };_egfc :=_bfdb .paraList ;_ee .Slice (_egfc ,func (_cfaga ,_beg int )bool {_ddadb ,_fdbc :=_egfc [_cfaga ],_egfc [_beg ];_fdfa ,_cdef :=_ddadb .Lly ,_fdbc .Lly ;if _fdfa !=_cdef {return _fdfa < _cdef ;};return _ddadb .Llx < _fdbc .Llx ;});_dbfdf :=make (map[uint64 ]_cc .PdfRectangle ,_bgca *_ffbcdf );for _cbdc ,_eega :=range _acaa [1:]{_efeb :=_acaa [_cbdc ];for _fgdge ,_accdf :=range _cbec [1:]{_bcbc :=_cbec [_fgdge ];_dbfdf [_ada (_fgdge ,_cbdc )]=_cc .PdfRectangle {Llx :_bcbc ,Urx :_accdf ,Lly :_eega ,Ury :_efeb };};};if _adfa {_ca .Log .Info ("\u0063\u006f\u006d\u0070\u006f\u0073\u0069\u0074\u0065\u0043\u0065l\u006c\u002e\u0073\u0070\u006c\u0069\u0074\u003a\u0020\u0072e\u0063\u0074\u0073");_be .Printf ("\u0020\u0020\u0020\u0020");for _ffaa :=0;_ffaa < _bgca ;_ffaa ++{_be .Printf ("\u0025\u0033\u0030\u0064\u002c\u0020",_ffaa );};_be .Println ();for _gdcba :=0;_gdcba < _ffbcdf ;_gdcba ++{_be .Printf ("\u0020\u0020\u0025\u0032\u0064\u003a",_gdcba );for _ccfb :=0;_ccfb < _bgca ;_ccfb ++{_be .Printf ("\u00256\u002e\u0032\u0066\u002c\u0020",_dbfdf [_ada (_ccfb ,_gdcba )]);};_be .Println ();};};_bccfg :=func (_fbgeb *textLine )(int ,int ){for _bfafd :=0;_bfafd < _ffbcdf ;_bfafd ++{for _acbe :=0;_acbe < _bgca ;_acbe ++{if _ebgd (_dbfdf [_ada (_acbe ,_bfafd )],_fbgeb .PdfRectangle ){return _acbe ,_bfafd ;};};};return -1,-1;};_dgbe :=make (map[uint64 ][]*textLine ,_bgca *_ffbcdf );for _ ,_eggd :=range _egfc .lines (){_gbgab ,_aaec :=_bccfg (_eggd );if _gbgab < 0{continue ;};_dgbe [_ada (_gbgab ,_aaec )]=append (_dgbe [_ada (_gbgab ,_aaec )],_eggd );};for _baaag :=0;_baaag < len (_acaa )-1;_baaag ++{_dfaa :=_acaa [_baaag ];_ffcd :=_acaa [_baaag +1];for _bggd :=0;_bggd < len (_cbec )-1;_bggd ++{_gbdaa :=_cbec [_bggd ];_cddc :=_cbec [_bggd +1];_abec :=_cc .PdfRectangle {Llx :_gbdaa ,Urx :_cddc ,Lly :_ffcd ,Ury :_dfaa };_ecgg :=_dgbe [_ada (_bggd ,_baaag )];if len (_ecgg )==0{continue ;};_geccb :=_bbcee (_abec ,_ecgg );_dcfb .put (_bggd ,_baaag ,_geccb );};};return &_dcfb ;};func (_gcdc rulingList )findPrimSec (_ebgc ,_afca float64 )*ruling {for _ ,_eggbf :=range _gcdc {if _efgag (_eggbf ._cecfa -_ebgc )&&_eggbf ._abgg -_afge <=_afca &&_afca <=_eggbf ._debb +_afge {return _eggbf ;};};return nil ;};func _bgcaf (_gdcfd _cc .PdfRectangle )rulingKind {_gggab :=_gdcfd .Width ();_bbca :=_gdcfd .Height ();if _gggab > _bbca {if _gggab >=_bcbf {return _acdb ;};}else {if _bbca >=_bcbf {return _eabd ;};};return _gdfc ;};func (_ded paraList )tables ()[]TextTable {var _cdgg []TextTable ;if _adfa {_ca .Log .Info ("\u0070\u0061\u0072\u0061\u0073\u002e\u0074\u0061\u0062\u006c\u0065\u0073\u003a");};for _ ,_fgfce :=range _ded {_ceee :=_fgfce ._eeca ;if _ceee !=nil &&_ceee .isExportable (){_cdgg =append (_cdgg ,_ceee .toTextTable ());};};return _cdgg ;};

// String returns a description of `tm`.
func (_bbec *textMark )String ()string {return _be .Sprintf ("\u0025\u002e\u0032f \u0066\u006f\u006e\u0074\u0073\u0069\u007a\u0065\u003d\u0025\u002e\u0032\u0066\u0020\u0022\u0025\u0073\u0022",_bbec .PdfRectangle ,_bbec ._ebcc ,_bbec ._dab );};

// Extractor stores and offers functionality for extracting content from PDF pages.
type Extractor struct{_cd string ;_gc *_cc .PdfPageResources ;_ge _cc .PdfRectangle ;_eg map[string ]fontEntry ;_gf map[string ]textResult ;_gbc int64 ;_de int ;};func (_fcbda paraList )writeText (_gdec _g .Writer ){for _gbfg ,_ecca :=range _fcbda {if _ecca ._gdcb {continue ;};_ecca .writeText (_gdec );if _gbfg !=len (_fcbda )-1{if _dbaa (_ecca ,_fcbda [_gbfg +1]){_gdec .Write ([]byte ("\u0020"));}else {_gdec .Write ([]byte ("\u000a"));_gdec .Write ([]byte ("\u000a"));};};};_gdec .Write ([]byte ("\u000a"));_gdec .Write ([]byte ("\u000a"));};func (_gdca paraList )extractTables (_dfef []gridTiling )paraList {if _adfa {_ca .Log .Debug ("\u0065\u0078\u0074r\u0061\u0063\u0074\u0054\u0061\u0062\u006c\u0065\u0073\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u0078\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d",len (_gdca ));};if len (_gdca )< _agdec {return _gdca ;};_efed :=_gdca .findTables (_dfef );if _adfa {_ca .Log .Info ("c\u006f\u006d\u0062\u0069\u006e\u0065d\u0020\u0074\u0061\u0062\u006c\u0065s\u0020\u0025\u0064\u0020\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_efed ));for _eagd ,_ffeb :=range _efed {_ffeb .log (_be .Sprintf ("c\u006f\u006d\u0062\u0069\u006e\u0065\u0064\u0020\u0025\u0064",_eagd ));};};return _gdca .applyTables (_efed );};func (_beac *shapesState )clearPath (){_beac ._dad =nil ;_beac ._aaad =false ;if _fge {_ca .Log .Info ("\u0043\u004c\u0045A\u0052\u003a\u0020\u0073\u0073\u003d\u0025\u0073",_beac );};};var _abbad =_b .MustCompile ("\u005e\u005c\u0073\u002a\u0028\u005c\u0064\u002b\u005c\u002e\u003f|\u005b\u0049\u0069\u0076\u005d\u002b\u0029\u005c\u0073\u002a\\\u0029\u003f\u0024");const (RenderModeStroke RenderMode =1<<iota ;RenderModeFill ;RenderModeClip ;);func (_dcff *subpath )isQuadrilateral ()bool {if len (_dcff ._beabg )< 4||len (_dcff ._beabg )> 5{return false ;};if len (_dcff ._beabg )==5{_acea :=_dcff ._beabg [0];_dfgf :=_dcff ._beabg [4];if _acea .X !=_dfgf .X ||_acea .Y !=_dfgf .Y {return false ;};};return true ;};func (_effca rulingList )primMinMax ()(float64 ,float64 ){_gfga ,_abga :=_effca [0]._cecfa ,_effca [0]._cecfa ;for _ ,_gdef :=range _effca [1:]{if _gdef ._cecfa < _gfga {_gfga =_gdef ._cecfa ;}else if _gdef ._cecfa > _abga {_abga =_gdef ._cecfa ;};};return _gfga ,_abga ;};func (_ebaec *textTable )reduce ()*textTable {_ccfba :=make ([]int ,0,_ebaec ._bgfb );_cabcc :=make ([]int ,0,_ebaec ._dadf );for _dcdg :=0;_dcdg < _ebaec ._bgfb ;_dcdg ++{if !_ebaec .emptyRow (_dcdg ){_ccfba =append (_ccfba ,_dcdg );};};for _aafff :=0;_aafff < _ebaec ._dadf ;_aafff ++{if !_ebaec .emptyColumn (_aafff ){_cabcc =append (_cabcc ,_aafff );};};if len (_ccfba )==_ebaec ._bgfb &&len (_cabcc )==_ebaec ._dadf {return _ebaec ;};_bffg :=textTable {_dfad :_ebaec ._dfad ,_dadf :len (_cabcc ),_bgfb :len (_ccfba ),_bbag :make (map[uint64 ]*textPara ,len (_cabcc )*len (_ccfba ))};if _adfa {_ca .Log .Info ("\u0072\u0065\u0064\u0075ce\u003a\u0020\u0025\u0064\u0078\u0025\u0064\u0020\u002d\u003e\u0020\u0025\u0064\u0078%\u0064",_ebaec ._dadf ,_ebaec ._bgfb ,len (_cabcc ),len (_ccfba ));_ca .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0043\u006f\u006c\u0073\u003a\u0020\u0025\u002b\u0076",_cabcc );_ca .Log .Info ("\u0072\u0065d\u0075\u0063\u0065d\u0052\u006f\u0077\u0073\u003a\u0020\u0025\u002b\u0076",_ccfba );};for _caafg ,_beea :=range _ccfba {for _dfgfg ,_cade :=range _cabcc {_dfaac :=_ebaec .get (_cade ,_beea );if _dfaac ==nil {continue ;};if _adfa {_be .Printf ("\u0020 \u0025\u0032\u0064\u002c \u0025\u0032\u0064\u0020\u0028%\u0032d\u002c \u0025\u0032\u0064\u0029\u0020\u0025\u0071\n",_dfgfg ,_caafg ,_cade ,_beea ,_fafd (_dfaac .text (),50));};_bffg .put (_dfgfg ,_caafg ,_dfaac );};};return &_bffg ;};func (_bcffg pathSection )bbox ()_cc .PdfRectangle {_dcade :=_bcffg ._cgbb [0]._beabg [0];_gffa :=_cc .PdfRectangle {Llx :_dcade .X ,Urx :_dcade .X ,Lly :_dcade .Y ,Ury :_dcade .Y };_eedc :=func (_gbgc _ea .Point ){if _gbgc .X < _gffa .Llx {_gffa .Llx =_gbgc .X ;}else if _gbgc .X > _gffa .Urx {_gffa .Urx =_gbgc .X ;};if _gbgc .Y < _gffa .Lly {_gffa .Lly =_gbgc .Y ;}else if _gbgc .Y > _gffa .Ury {_gffa .Ury =_gbgc .Y ;};};for _ ,_ced :=range _bcffg ._cgbb [0]._beabg [1:]{_eedc (_ced );};for _ ,_eeac :=range _bcffg ._cgbb [1:]{for _ ,_eebg :=range _eeac ._beabg {_eedc (_eebg );};};return _gffa ;};func _fecd (_aagc float64 ,_afcf int )int {if _afcf ==0{_afcf =1;};_cabc :=float64 (_afcf );return int (_dc .Round (_aagc /_cabc )*_cabc );};

// ExtractText processes and extracts all text data in content streams and returns as a string.
// It takes into account character encodings in the PDF file, which are decoded by
// CharcodeBytesToUnicode.
// Characters that can't be decoded are replaced with MissingCodeRune ('\ufffd' = ï¿½).
func (_ddc *Extractor )ExtractText ()(string ,error ){_bbe ,_ ,_ ,_ce :=_ddc .ExtractTextWithStats ();return _bbe ,_ce ;};type textTable struct{_cc .PdfRectangle ;_dadf ,_bgfb int ;_dfad bool ;_bbag map[uint64 ]*textPara ;_dddbf map[uint64 ]compositeCell ;};func _beff (_cgfee []TextMark ,_eccd *int ,_eeef string )[]TextMark {_afaac :=_cbeg ;_afaac .Text =_eeef ;return _fcec (_cgfee ,_eccd ,_afaac );};func _ggda (_agfce _cc .PdfRectangle )*ruling {return &ruling {_fdebe :_eabd ,_cecfa :_agfce .Llx ,_abgg :_agfce .Lly ,_debb :_agfce .Ury };};

// String returns a string describing `tm`.
func (_eade TextMark )String ()string {_dccd :=_eade .BBox ;var _bdeg string ;if _eade .Font !=nil {_bdeg =_eade .Font .String ();if len (_bdeg )> 50{_bdeg =_bdeg [:50]+"\u002e\u002e\u002e";};};var _ecda string ;if _eade .Meta {_ecda ="\u0020\u002a\u004d\u002a";};return _be .Sprintf ("\u007b\u0054\u0065\u0078t\u004d\u0061\u0072\u006b\u003a\u0020\u0025\u0064\u0020%\u0071\u003d\u0025\u0030\u0032\u0078\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e2\u0066\u0029\u0020\u0028\u00256\u002e\u0032\u0066\u002c\u0020\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0025\u0073\u007d",_eade .Offset ,_eade .Text ,[]rune (_eade .Text ),_dccd .Llx ,_dccd .Lly ,_dccd .Urx ,_dccd .Ury ,_bdeg ,_ecda );};func (_febf *textObject )getCurrentFont ()*_cc .PdfFont {var _bdg *_cc .PdfFont ;if !_febf ._edfc .empty (){_bdg =_febf ._edfc .top ()._cbcg ;};if _bdg ==nil {_ca .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u004e\u006f\u0020\u0066\u006f\u006e\u0074\u0020\u0064\u0065\u0066\u0069\u006e\u0065\u0064\u002e\u0020U\u0073\u0069\u006e\u0067\u0020d\u0065\u0066a\u0075\u006c\u0074\u002e");return _cc .DefaultFont ();};return _bdg ;};func (_adec *shapesState )drawRectangle (_fcea ,_ddf ,_dgfc ,_ebb float64 ){if _fge {_gecg :=_adec .devicePoint (_fcea ,_ddf );_eca :=_adec .devicePoint (_fcea +_dgfc ,_ddf +_ebb );_fbb :=_cc .PdfRectangle {Llx :_gecg .X ,Lly :_gecg .Y ,Urx :_eca .X ,Ury :_eca .Y };_ca .Log .Info ("d\u0072a\u0077\u0052\u0065\u0063\u0074\u0061\u006e\u0067l\u0065\u003a\u0020\u00256.\u0032\u0066",_fbb );};_adec .newSubPath ();_adec .moveTo (_fcea ,_ddf );_adec .lineTo (_fcea +_dgfc ,_ddf );_adec .lineTo (_fcea +_dgfc ,_ddf +_ebb );_adec .lineTo (_fcea ,_ddf +_ebb );_adec .closePath ();};func _gaffe (_gfgaf map[int ][]float64 )[]int {_dbacd :=make ([]int ,len (_gfgaf ));_bbgg :=0;for _aacf :=range _gfgaf {_dbacd [_bbgg ]=_aacf ;_bbgg ++;};_ee .Ints (_dbacd );return _dbacd ;};func (_bbfbc *wordBag )makeRemovals ()map[int ]map[*textWord ]struct{}{_eaa :=make (map[int ]map[*textWord ]struct{},len (_bbfbc ._fgdfc ));for _ggg :=range _bbfbc ._fgdfc {_eaa [_ggg ]=make (map[*textWord ]struct{});};return _eaa ;};func _gddb (_cebd string ,_abaga []rulingList ){_ca .Log .Info ("\u0024\u0024 \u0025\u0064\u0020g\u0072\u0069\u0064\u0073\u0020\u002d\u0020\u0025\u0073",len (_abaga ),_cebd );for _cagac ,_cbcb :=range _abaga {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_cagac ,_cbcb .String ());};};func (_ecbce rulingList )aligned ()bool {if len (_ecbce )< 2{return false ;};_gagee :=make (map[*ruling ]int );_gagee [_ecbce [0]]=0;for _ ,_bgdf :=range _ecbce [1:]{_bgcd :=false ;for _ccdf :=range _gagee {if _bgdf .gridIntersecting (_ccdf ){_gagee [_ccdf ]++;_bgcd =true ;break ;};};if !_bgcd {_gagee [_bgdf ]=0;};};_cfgg :=0;for _ ,_gdefe :=range _gagee {if _gdefe ==0{_cfgg ++;};};_ccedf :=float64 (_cfgg )/float64 (len (_ecbce ));_cadb :=_ccedf <=1.0-_ebcf ;if _abda {_ca .Log .Info ("\u0061\u006c\u0069\u0067\u006e\u0065\u0064\u003d\u0025\u0074\u0020\u0075\u006em\u0061\u0074\u0063\u0068\u0065\u0064=\u0025\u002e\u0032\u0066\u003d\u0025\u0064\u002f\u0025\u0064\u0020\u0076\u0065c\u0073\u003d\u0025\u0073",_cadb ,_ccedf ,_cfgg ,len (_ecbce ),_ecbce .String ());};return _cadb ;};type event struct{_beabd float64 ;_dbbb bool ;_eeaf int ;};type gridTile struct{_cc .PdfRectangle ;_gdeg ,_fgfcf ,_bbfec ,_cbccg bool ;};func (_cggc *textTable )getDown ()paraList {_fdgfd :=make (paraList ,_cggc ._dadf );for _dbbdb :=0;_dbbdb < _cggc ._dadf ;_dbbdb ++{_bdbfc :=_cggc .get (_dbbdb ,_cggc ._bgfb -1)._bacad ;if _bdbfc ==nil ||_bdbfc ._dgfa {return nil ;};_fdgfd [_dbbdb ]=_bdbfc ;};for _fae :=0;_fae < _cggc ._dadf -1;_fae ++{if _fdgfd [_fae ]._aca !=_fdgfd [_fae +1]{return nil ;};};return _fdgfd ;};func (_bbeg rulingList )toTilings ()(rulingList ,[]gridTiling ){_bbeg .log ("\u0074o\u0054\u0069\u006c\u0069\u006e\u0067s");if len (_bbeg )==0{return nil ,nil ;};_bbeg =_bbeg .tidied ("\u0061\u006c\u006c");_bbeg .log ("\u0074\u0069\u0064\u0069\u0065\u0064");_fbcf :=_bbeg .toGrids ();_bdaa :=make ([]gridTiling ,len (_fbcf ));for _gdeeb ,_fbbf :=range _fbcf {_bdaa [_gdeeb ]=_fbbf .asTiling ();};return _bbeg ,_bdaa ;};func (_bdd *subpath )last ()_ea .Point {return _bdd ._beabg [len (_bdd ._beabg )-1]};func (_aegg *textPara )isAtom ()*textTable {_gdcg :=_aegg ;_defb :=_aegg ._aca ;_eece :=_aegg ._bacad ;if !(_defb !=nil &&!_defb ._dgfa &&_eece !=nil &&!_eece ._dgfa ){return nil ;};_aegdf :=_defb ._bacad ;if !(_aegdf !=nil &&!_aegdf ._dgfa &&_aegdf ==_eece ._aca ){return nil ;};return _afbga (_gdcg ,_defb ,_eece ,_aegdf );};func (_ffbgd rulingList )sortStrict (){_ee .Slice (_ffbgd ,func (_cdga ,_cbbf int )bool {_fbgf ,_agdag :=_ffbgd [_cdga ],_ffbgd [_cbbf ];_ggbad ,_cfgf :=_fbgf ._fdebe ,_agdag ._fdebe ;if _ggbad !=_cfgf {return _ggbad > _cfgf ;};_bdab ,_egde :=_fbgf ._cecfa ,_agdag ._cecfa ;if !_efgag (_bdab -_egde ){return _bdab < _egde ;};_bdab ,_egde =_fbgf ._abgg ,_agdag ._abgg ;if _bdab !=_egde {return _bdab < _egde ;};return _fbgf ._debb < _agdag ._debb ;});};func _bagfb (_bbcg bounded )float64 {return -_bbcg .bbox ().Lly };

// ExtractPageText returns the text contents of `e` (an Extractor for a page) as a PageText.
// TODO(peterwilliams97): The stats complicate this function signature and aren't very useful.
//                        Replace with a function like Extract() (*PageText, error)
func (_fffd *Extractor )ExtractPageText ()(*PageText ,int ,int ,error ){_cb ,_ead ,_eagg ,_edc :=_fffd .extractPageText (_fffd ._cd ,_fffd ._gc ,_ea .IdentityMatrix (),0);if _edc !=nil {return nil ,0,0,_edc ;};_cb .computeViews ();_edc =_afbc (_cb );if _edc !=nil {return nil ,0,0,_edc ;};return _cb ,_ead ,_eagg ,nil ;};

// String returns a description of `state`.
func (_fbca *textState )String ()string {_efff :="\u005bN\u004f\u0054\u0020\u0053\u0045\u0054]";if _fbca ._cbcg !=nil {_efff =_fbca ._cbcg .BaseFont ();};return _be .Sprintf ("\u0074\u0063\u003d\u0025\u002e\u0032\u0066\u0020\u0074\u0077\u003d\u0025\u002e\u0032\u0066 \u0074f\u0073\u003d\u0025\u002e\u0032\u0066\u0020\u0066\u006f\u006e\u0074\u003d\u0025\u0071",_fbca ._bbg ,_fbca ._ddab ,_fbca ._ddaf ,_efff );};func (_gcf *textObject )showText (_edda []byte )error {return _gcf .renderText (_edda )};

// ExtractPageImages returns the image contents of the page extractor, including data
// and position, size information for each image.
// A set of options to control page image extraction can be passed in. The options
// parameter can be nil for the default options. By default, inline stencil masks
// are not extracted.
func (_fg *Extractor )ExtractPageImages (options *ImageExtractOptions )(*PageImages ,error ){_fgd :=&imageExtractContext {_ff :options };_fb :=_fgd .extractContentStreamImages (_fg ._cd ,_fg ._gc );if _fb !=nil {return nil ,_fb ;};return &PageImages {Images :_fgd ._gfd },nil ;};func (_gbdca rulingList )comp (_agag ,_eagga int )bool {_ggfac ,_gecb :=_gbdca [_agag ],_gbdca [_eagga ];_bcdb ,_ffab :=_ggfac ._fdebe ,_gecb ._fdebe ;if _bcdb !=_ffab {return _bcdb > _ffab ;};if _bcdb ==_gdfc {return false ;};_bacf :=func (_bbccc bool )bool {if _bcdb ==_acdb {return _bbccc ;};return !_bbccc ;};_dgfe ,_cgbd :=_ggfac ._cecfa ,_gecb ._cecfa ;if _dgfe !=_cgbd {return _bacf (_dgfe > _cgbd );};_dgfe ,_cgbd =_ggfac ._abgg ,_gecb ._abgg ;if _dgfe !=_cgbd {return _bacf (_dgfe < _cgbd );};return _bacf (_ggfac ._debb < _gecb ._debb );};

// String returns a human readable description of `path`.
func (_dbeb *subpath )String ()string {_fagd :=_dbeb ._beabg ;_cbee :=len (_fagd );if _cbee <=5{return _be .Sprintf ("\u0025d\u003a\u0020\u0025\u0036\u002e\u0032f",_cbee ,_fagd );};return _be .Sprintf ("\u0025d\u003a\u0020\u0025\u0036.\u0032\u0066\u0020\u0025\u0036.\u0032f\u0020.\u002e\u002e\u0020\u0025\u0036\u002e\u0032f",_cbee ,_fagd [0],_fagd [1],_fagd [_cbee -1]);};func (_fggg intSet )add (_ecdbb int ){_fggg [_ecdbb ]=struct{}{}};func (_gadd *wordBag )applyRemovals (_egcb map[int ]map[*textWord ]struct{}){for _dbaf ,_eeed :=range _egcb {if len (_eeed )==0{continue ;};_adb :=_gadd ._fgdfc [_dbaf ];_cea :=len (_adb )-len (_eeed );if _cea ==0{delete (_gadd ._fgdfc ,_dbaf );continue ;};_egg :=make ([]*textWord ,_cea );_cdab :=0;for _ ,_bccbd :=range _adb {if _ ,_eebdc :=_eeed [_bccbd ];!_eebdc {_egg [_cdab ]=_bccbd ;_cdab ++;};};_gadd ._fgdfc [_dbaf ]=_egg ;};};func (_agdd rulingList )connections (_dacce map[int ]intSet ,_egacf int )intSet {_aaff :=make (intSet );_gggbg :=make (intSet );var _cfefb func (int );_cfefb =func (_egacb int ){if !_gggbg .has (_egacb ){_gggbg .add (_egacb );for _cgdf :=range _agdd {if _dacce [_cgdf ].has (_egacb ){_aaff .add (_cgdf );};};for _fedcd :=range _agdd {if _aaff .has (_fedcd ){_cfefb (_fedcd );};};};};_cfefb (_egacf );return _aaff ;};func (_caggd *textTable )depth ()float64 {_dgdaa :=1e10;for _eacd :=0;_eacd < _caggd ._dadf ;_eacd ++{_aagge :=_caggd .get (_eacd ,0);if _aagge ==nil ||_aagge ._gdcb {continue ;};_dgdaa =_dc .Min (_dgdaa ,_aagge .depth ());};return _dgdaa ;};func _gdcd (_bfdf ,_acfc _ea .Point )bool {_gggf :=_dc .Abs (_bfdf .X -_acfc .X );_ebdf :=_dc .Abs (_bfdf .Y -_acfc .Y );return _dbag (_ebdf ,_gggf );};func (_baac paraList )yNeighbours (_cggef float64 )map[*textPara ][]int {_bbeab :=make ([]event ,2*len (_baac ));if _cggef ==0{for _edede ,_bebc :=range _baac {_bbeab [2*_edede ]=event {_bebc .Lly ,true ,_edede };_bbeab [2*_edede +1]=event {_bebc .Ury ,false ,_edede };};}else {for _dagc ,_cdgac :=range _baac {_bbeab [2*_dagc ]=event {_cdgac .Lly -_cggef *_cdgac .fontsize (),true ,_dagc };_bbeab [2*_dagc +1]=event {_cdgac .Ury +_cggef *_cdgac .fontsize (),false ,_dagc };};};return _baac .eventNeighbours (_bbeab );};func _afbga (_ecfd ,_abfga ,_bfbb ,_cggd *textPara )*textTable {_ggeb :=&textTable {_dadf :2,_bgfb :2,_bbag :make (map[uint64 ]*textPara ,4)};_ggeb .put (0,0,_ecfd );_ggeb .put (1,0,_abfga );_ggeb .put (0,1,_bfbb );_ggeb .put (1,1,_cggd );return _ggeb ;};func (_fcgd *textObject )setCharSpacing (_ddd float64 ){if _fcgd ==nil {return ;};_fcgd ._dbf ._bbg =_ddd ;if _degb {_ca .Log .Info ("\u0073\u0065t\u0043\u0068\u0061\u0072\u0053\u0070\u0061\u0063\u0069\u006e\u0067\u003a\u0020\u0025\u002e\u0032\u0066\u0020\u0073\u0074\u0061\u0074e=\u0025\u0073",_ddd ,_fcgd ._dbf .String ());};};func (_cbbg rulingList )sort (){_ee .Slice (_cbbg ,_cbbg .comp )};func (_gfgge paraList )inTile (_gaee gridTile )paraList {var _geda paraList ;for _ ,_adgg :=range _gfgge {if _gaee .contains (_adgg .PdfRectangle ){_geda =append (_geda ,_adgg );};};if _adfa {_be .Printf ("\u0020 \u0020\u0069\u006e\u0054i\u006c\u0065\u003a\u0020\u0020%\u0073 \u0069n\u0073\u0069\u0064\u0065\u003d\u0025\u0064\n",_gaee ,len (_geda ));for _ddcb ,_fccfc :=range _geda {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_ddcb ,_fccfc );};_be .Println ("");};return _geda ;};func (_gea *shapesState )lineTo (_dec ,_aff float64 ){if _fge {_ca .Log .Info ("\u006c\u0069\u006eeT\u006f\u0028\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0070\u003d\u0025\u002e\u0032\u0066",_dec ,_aff ,_gea .devicePoint (_dec ,_aff ));};_gea .addPoint (_dec ,_aff );};func (_bebe *shapesState )moveTo (_cfed ,_afad float64 ){_bebe ._aaad =true ;_bebe ._dac =_bebe .devicePoint (_cfed ,_afad );if _fge {_ca .Log .Info ("\u006d\u006fv\u0065\u0054\u006f\u003a\u0020\u0025\u002e\u0032\u0066\u002c\u0025\u002e\u0032\u0066\u0020\u0064\u0065\u0076\u0069\u0063\u0065\u003d%.\u0032\u0066",_cfed ,_afad ,_bebe ._dac );};};func _bbeb (_aea _ea .Matrix )_ea .Point {_dcfea ,_ega :=_aea .Translation ();return _ea .Point {X :_dcfea ,Y :_ega };};func (_fcbd *wordBag )depthRange (_edbd ,_fed int )[]int {var _dggd []int ;for _bfbg :=range _fcbd ._fgdfc {if _edbd <=_bfbg &&_bfbg <=_fed {_dggd =append (_dggd ,_bfbg );};};if len (_dggd )==0{return nil ;};_ee .Ints (_dggd );return _dggd ;};

// String returns a string describing `ma`.
func (_cabg TextMarkArray )String ()string {_daa :=len (_cabg ._cgbe );if _daa ==0{return "\u0045\u004d\u0050T\u0059";};_faf :=_cabg ._cgbe [0];_fcbaf :=_cabg ._cgbe [_daa -1];return _be .Sprintf ("\u007b\u0054\u0045\u0058\u0054\u004d\u0041\u0052K\u0041\u0052\u0052AY\u003a\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073\u000a\u0009\u0066\u0069\u0072\u0073\u0074\u003d\u0025s\u000a\u0009\u0020\u006c\u0061\u0073\u0074\u003d%\u0073\u007d",_daa ,_faf ,_fcbaf );};func (_baae *textObject )moveLP (_cab ,_addd float64 ){_baae ._fcc .Concat (_ea .NewMatrix (1,0,0,1,_cab ,_addd ));_baae ._bdc =_baae ._fcc ;};func (_gfebg *textPara )bbox ()_cc .PdfRectangle {return _gfebg .PdfRectangle };

// ApplyArea processes the page text only within the specified area `bbox`.
// Each time ApplyArea is called, it updates the result set in `pt`.
// Can be called multiple times in a row with different bounding boxes.
func (_ebg *PageText )ApplyArea (bbox _cc .PdfRectangle ){_fffb :=make ([]*textMark ,0,len (_ebg ._gcae ));for _ ,_cdfc :=range _ebg ._gcae {if _ecbg (_cdfc .bbox (),bbox ){_fffb =append (_fffb ,_cdfc );};};var _cgaf paraList ;_fgbb :=len (_fffb );for _gedb :=0;_gedb < 360&&_fgbb > 0;_gedb +=90{_agc :=make ([]*textMark ,0,len (_fffb )-_fgbb );for _ ,_ecfa :=range _fffb {if _ecfa ._egab ==_gedb {_agc =append (_agc ,_ecfa );};};if len (_agc )> 0{_gbee :=_gbce (_agc ,_ebg ._ggad ,nil ,nil );_cgaf =append (_cgaf ,_gbee ...);_fgbb -=len (_agc );};};_fag :=new (_eb .Buffer );_cgaf .writeText (_fag );_ebg ._cabf =_fag .String ();_ebg ._dcad =_cgaf .toTextMarks ();_ebg ._fgb =_cgaf .tables ();};func _bccef (_babg _cc .PdfRectangle )*ruling {return &ruling {_fdebe :_acdb ,_cecfa :_babg .Lly ,_abgg :_babg .Llx ,_debb :_babg .Urx };};func _efcb (_dbcg map[int ][]float64 ){if len (_dbcg )<=1{return ;};_fffbc :=_gaffe (_dbcg );if _adfa {_ca .Log .Info ("\u0066i\u0078C\u0065\u006c\u006c\u0073\u003a \u006b\u0065y\u0073\u003d\u0025\u002b\u0076",_fffbc );};var _eadd ,_geaff int ;for _eadd ,_geaff =range _fffbc {if _dbcg [_geaff ]!=nil {break ;};};for _ecdb ,_eacdf :=range _fffbc [_eadd :]{_eafb :=_dbcg [_eacdf ];if _eafb ==nil {continue ;};if _adfa {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u006b\u0030\u003d\u0025\u0064\u0020\u006b1\u003d\u0025\u0064\u000a",_eadd +_ecdb ,_geaff ,_eacdf );};_gddg :=_dbcg [_eacdf ];if _gddg [len (_gddg )-1]> _eafb [0]{_gddg [len (_gddg )-1]=_eafb [0];_dbcg [_geaff ]=_gddg ;};_geaff =_eacdf ;};};func _bdad (_agda _cc .PdfRectangle ,_fcdc bounded )float64 {return _agda .Ury -_fcdc .bbox ().Lly };func (_adecg rulingList )mergePrimary ()float64 {_fgdb :=_adecg [0]._cecfa ;for _ ,_ebgdg :=range _adecg [1:]{_fgdb +=_ebgdg ._cecfa ;};return _fgdb /float64 (len (_adecg ));};func (_cbede *textTable )log (_abaf string ){if !_adfa {return ;};_ca .Log .Info ("~\u007e\u007e\u0020\u0025\u0073\u003a \u0025\u0064\u0020\u0078\u0020\u0025d\u0020\u0067\u0072\u0069\u0064\u003d\u0025t\u000a\u0020\u0020\u0020\u0020\u0020\u0020\u0025\u0036\u002e2\u0066",_abaf ,_cbede ._dadf ,_cbede ._bgfb ,_cbede ._dfad ,_cbede .PdfRectangle );for _dadce :=0;_dadce < _cbede ._bgfb ;_dadce ++{for _gafg :=0;_gafg < _cbede ._dadf ;_gafg ++{_adfec :=_cbede .get (_gafg ,_dadce );if _adfec ==nil {continue ;};_be .Printf ("%\u0034\u0064\u0020\u00252d\u003a \u0025\u0036\u002e\u0032\u0066 \u0025\u0071\u0020\u0025\u0064\u000a",_gafg ,_dadce ,_adfec .PdfRectangle ,_fafd (_adfec .text (),50),_ga .RuneCountInString (_adfec .text ()));};};};func (_eddf *textTable )markCells (){for _bgea :=0;_bgea < _eddf ._bgfb ;_bgea ++{for _gfebc :=0;_gfebc < _eddf ._dadf ;_gfebc ++{_gedbg :=_eddf .get (_gfebc ,_bgea );if _gedbg !=nil {_gedbg ._dgfa =true ;};};};};func _efgag (_bcffgc float64 )bool {return _dc .Abs (_bcffgc )< _eacc };func (_dgd *textPara )text ()string {_bcde :=new (_eb .Buffer );_dgd .writeText (_bcde );return _bcde .String ();};func (_feac *stateStack )top ()*textState {if _feac .empty (){return nil ;};return (*_feac )[_feac .size ()-1];};type wordBag struct{_cc .PdfRectangle ;_ddfd float64 ;_fbbb ,_fbdd rulingList ;_fceaf float64 ;_fgdfc map[int ][]*textWord ;};

// ToTextMark returns the public view of `tm`.
func (_egfg *textMark )ToTextMark ()TextMark {return TextMark {Text :_egfg ._dab ,Original :_egfg ._fceab ,BBox :_egfg ._edbe ,Font :_egfg ._fgcg ,FontSize :_egfg ._ebcc ,FillColor :_egfg ._gafb ,StrokeColor :_egfg ._dcdb };};func (_dbdf *textWord )absorb (_bcaea *textWord ){_dbdf .PdfRectangle =_aed (_dbdf .PdfRectangle ,_bcaea .PdfRectangle );_dbdf ._edcac =append (_dbdf ._edcac ,_bcaea ._edcac ...);};

// Elements returns the TextMarks in `ma`.
func (_bac *TextMarkArray )Elements ()[]TextMark {return _bac ._cgbe };func (_dadfc *textWord )bbox ()_cc .PdfRectangle {return _dadfc .PdfRectangle };func (_gggbgf gridTiling )log (_cbgg string ){if !_aeee {return ;};_ca .Log .Info ("\u0074i\u006ci\u006e\u0067\u003a\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u0025\u0071",len (_gggbgf ._cfcc ),len (_gggbgf ._cdeda ),_cbgg );_be .Printf ("\u0020\u0020\u0020l\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a",_gggbgf ._cfcc );_be .Printf ("\u0020\u0020\u0020l\u006c\u0079\u003d\u0025\u002e\u0032\u0066\u000a",_gggbgf ._cdeda );for _ffgdc ,_gbagg :=range _gggbgf ._cdeda {_bbda ,_cfdce :=_gggbgf ._dgafd [_gbagg ];if !_cfdce {continue ;};_be .Printf ("%\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_ffgdc ,_gbagg );for _effd ,_dddb :=range _gggbgf ._cfcc {_daafd ,_ccbag :=_bbda [_dddb ];if !_ccbag {continue ;};_be .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_effd ,_daafd .String ());};};};func (_bcdd *textTable )toTextTable ()TextTable {if _adfa {_ca .Log .Info ("t\u006fT\u0065\u0078\u0074\u0054\u0061\u0062\u006c\u0065:\u0020\u0025\u0064\u0020x \u0025\u0064",_bcdd ._dadf ,_bcdd ._bgfb );};_gagga :=make ([][]TableCell ,_bcdd ._bgfb );for _eefc :=0;_eefc < _bcdd ._bgfb ;_eefc ++{_gagga [_eefc ]=make ([]TableCell ,_bcdd ._dadf );for _gbba :=0;_gbba < _bcdd ._dadf ;_gbba ++{_edgg :=_bcdd .get (_gbba ,_eefc );if _edgg ==nil {continue ;};if _adfa {_be .Printf ("\u0025\u0034\u0064 \u0025\u0032\u0064\u003a\u0020\u0025\u0073\u000a",_gbba ,_eefc ,_edgg );};_gagga [_eefc ][_gbba ].Text =_edgg .text ();_gcddc :=0;_gagga [_eefc ][_gbba ].Marks ._cgbe =_edgg .toTextMarks (&_gcddc );};};return TextTable {W :_bcdd ._dadf ,H :_bcdd ._bgfb ,Cells :_gagga };};func (_bbfe *wordBag )minDepth ()float64 {return _bbfe ._fceaf -(_bbfe .Ury -_bbfe ._ddfd )};func (_dfbb *textPara )toTextMarks (_ggae *int )[]TextMark {if _dfbb ._eeca ==nil {return _dfbb .toCellTextMarks (_ggae );};var _ggaff []TextMark ;for _geeb :=0;_geeb < _dfbb ._eeca ._bgfb ;_geeb ++{for _cafa :=0;_cafa < _dfbb ._eeca ._dadf ;_cafa ++{_gagag :=_dfbb ._eeca .get (_cafa ,_geeb );if _gagag ==nil {_ggaff =_beff (_ggaff ,_ggae ,"\u0009");}else {_daae :=_gagag .toCellTextMarks (_ggae );_ggaff =append (_ggaff ,_daae ...);};_ggaff =_beff (_ggaff ,_ggae ,"\u0020");};if _geeb < _dfbb ._eeca ._bgfb -1{_ggaff =_beff (_ggaff ,_ggae ,"\u000a");};};return _ggaff ;};func (_bdf *textObject )getFontDirect (_faff string )(*_cc .PdfFont ,error ){_ecdec ,_gcdd :=_bdf .getFontDict (_faff );if _gcdd !=nil {return nil ,_gcdd ;};_gedf ,_gcdd :=_cc .NewPdfFontFromPdfObject (_ecdec );if _gcdd !=nil {_ca .Log .Debug ("\u0067\u0065\u0074\u0046\u006f\u006e\u0074\u0044\u0069\u0072\u0065\u0063\u0074\u003a\u0020\u004e\u0065\u0077Pd\u0066F\u006f\u006e\u0074\u0046\u0072\u006f\u006d\u0050\u0064\u0066\u004f\u0062j\u0065\u0063\u0074\u0020\u0066\u0061\u0069\u006c\u0065\u0064\u002e\u0020\u006e\u0061\u006d\u0065\u003d%\u0023\u0071\u0020\u0065\u0072\u0072\u003d\u0025\u0076",_faff ,_gcdd );};return _gedf ,_gcdd ;};var _efee =map[rulingKind ]string {_gdfc :"\u006e\u006f\u006e\u0065",_acdb :"\u0068\u006f\u0072\u0069\u007a\u006f\u006e\u0074\u0061\u006c",_eabd :"\u0076\u0065\u0072\u0074\u0069\u0063\u0061\u006c"};func (_fdfag rectRuling )asRuling ()(*ruling ,bool ){_abcbg :=ruling {_fdebe :_fdfag ._badf ,Color :_fdfag .Color ,_adce :_eggc };switch _fdfag ._badf {case _eabd :_abcbg ._cecfa =0.5*(_fdfag .Llx +_fdfag .Urx );_abcbg ._abgg =_fdfag .Lly ;_abcbg ._debb =_fdfag .Ury ;_ddb ,_edcca :=_fdfag .checkWidth (_fdfag .Llx ,_fdfag .Urx );if !_edcca {if _abdc {_ca .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067V\u0065\u0072\u0074\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_fdfag );};return nil ,false ;};_abcbg ._ggcg =_ddb ;case _acdb :_abcbg ._cecfa =0.5*(_fdfag .Lly +_fdfag .Ury );_abcbg ._abgg =_fdfag .Llx ;_abcbg ._debb =_fdfag .Urx ;_gfbea ,_bcae :=_fdfag .checkWidth (_fdfag .Lly ,_fdfag .Ury );if !_bcae {if _abdc {_ca .Log .Error ("\u0072\u0065\u0063\u0074\u0052\u0075l\u0069\u006e\u0067\u002e\u0061\u0073\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0072\u0075\u006c\u0069\u006e\u0067H\u006f\u0072\u007a\u0020\u0021\u0063\u0068\u0065\u0063\u006b\u0057\u0069\u0064\u0074h\u0020v\u003d\u0025\u002b\u0076",_fdfag );};return nil ,false ;};_abcbg ._ggcg =_gfbea ;default:_ca .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_fdfag ._badf );return nil ,false ;};return &_abcbg ,true ;};func _dbaa (_egfa ,_bcec *textPara )bool {if _egfa ._gdcb ||_bcec ._gdcb {return true ;};return _efgag (_egfa .depth ()-_bcec .depth ());};func (_gcbaf rulingList )asTiling ()gridTiling {if _aeee {_ca .Log .Info ("r\u0075\u006ci\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0063s\u003d\u0025\u0064\u0020\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u002b\u002b\u002b\u0020\u003d\u003d\u003d\u003d=\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d=\u003d",len (_gcbaf ));};for _ggcf ,_dagg :=range _gcbaf [1:]{_bbfg :=_gcbaf [_ggcf ];if _bbfg .alignsPrimary (_dagg )&&_bbfg .alignsSec (_dagg ){_ca .Log .Error ("a\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0044\u0075\u0070\u006c\u0069\u0063\u0061\u0074\u0065 \u0072\u0075\u006c\u0069\u006e\u0067\u0073\u002e\u000a\u0009v=\u0025\u0073\u000a\t\u0077=\u0025\u0073",_dagg ,_bbfg );};};_gcbaf .sortStrict ();_gcbaf .log ("\u0073n\u0061\u0070\u0070\u0065\u0064");_gdgd ,_gdfbe :=_gcbaf .vertsHorzs ();_acfg :=_gdgd .primaries ();_dgeda :=_gdfbe .primaries ();_dbga :=len (_acfg )-1;_efdb :=len (_dgeda )-1;if _dbga ==0||_efdb ==0{return gridTiling {};};_aeac :=_cc .PdfRectangle {Llx :_acfg [0],Urx :_acfg [_dbga ],Lly :_dgeda [0],Ury :_dgeda [_efdb ]};if _aeee {_ca .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0076\u0065\u0072\u0074s=\u0025\u0064",len (_gdgd ));for _bggc ,_ddca :=range _gdgd {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_bggc ,_ddca );};_ca .Log .Info ("\u0072\u0075l\u0069\u006e\u0067\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067\u003a\u0020\u0068\u006f\u0072\u007as=\u0025\u0064",len (_gdfbe ));for _fdaf ,_efbd :=range _gdfbe {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_fdaf ,_efbd );};_ca .Log .Info ("\u0072\u0075\u006c\u0069\u006eg\u004c\u0069\u0073\u0074\u002e\u0061\u0073\u0054\u0069\u006c\u0069\u006e\u0067:\u0020\u0020\u0077\u0078\u0068\u003d\u0025\u0064\u0078\u0025\u0064\u000a\u0009\u006c\u006c\u0078\u003d\u0025\u002e\u0032\u0066\u000a\u0009\u006c\u006c\u0079\u003d\u0025\u002e\u0032f",_dbga ,_efdb ,_acfg ,_dgeda );};_abaa :=make ([]gridTile ,_dbga *_efdb );for _fdded :=_efdb -1;_fdded >=0;_fdded --{_affd :=_dgeda [_fdded ];_eabc :=_dgeda [_fdded +1];for _afbd :=0;_afbd < _dbga ;_afbd ++{_fcdg :=_acfg [_afbd ];_cfdc :=_acfg [_afbd +1];_cgcfd :=_gdgd .findPrimSec (_fcdg ,_affd );_acgd :=_gdgd .findPrimSec (_cfdc ,_affd );_fcdbe :=_gdfbe .findPrimSec (_affd ,_fcdg );_edad :=_gdfbe .findPrimSec (_eabc ,_fcdg );_bfadc :=_cc .PdfRectangle {Llx :_fcdg ,Urx :_cfdc ,Lly :_affd ,Ury :_eabc };_dffe :=_cdcf (_bfadc ,_cgcfd ,_acgd ,_fcdbe ,_edad );_abaa [_fdded *_dbga +_afbd ]=_dffe ;if _aeee {_be .Printf ("\u0020\u0020\u0078\u003d\u0025\u0032\u0064\u0020\u0079\u003d\u0025\u0032\u0064\u003a\u0020%\u0073 \u0025\u0036\u002e\u0032\u0066\u0020\u0078\u0020\u0025\u0036\u002e\u0032\u0066\u000a",_afbd ,_fdded ,_dffe .String (),_dffe .Width (),_dffe .Height ());};};};if _aeee {_ca .Log .Info ("r\u0075\u006c\u0069\u006e\u0067\u004c\u0069\u0073\u0074.\u0061\u0073\u0054\u0069\u006c\u0069\u006eg:\u0020\u0063\u006f\u0061l\u0065\u0073\u0063\u0065\u0020\u0068\u006f\u0072\u0069zo\u006e\u0074a\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_aeac );};_gafc :=make ([]map[float64 ]gridTile ,_efdb );for _dgedc :=_efdb -1;_dgedc >=0;_dgedc --{if _aeee {_be .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_dgedc );};_gafc [_dgedc ]=make (map[float64 ]gridTile ,_dbga );for _eafa :=0;_eafa < _dbga ;_eafa ++{_abbfd :=_abaa [_dgedc *_dbga +_eafa ];if _aeee {_be .Printf ("\u0020\u0020\u0025\u0034\u0064\u003a\u0020\u0025\u0073\u000a",_eafa ,_abbfd );};if !_abbfd ._fgfcf {continue ;};_dgaag :=_eafa ;for _aebd :=_eafa +1;!_abbfd ._cbccg &&_aebd < _dbga ;_aebd ++{_gbacf :=_abaa [_dgedc *_dbga +_aebd ];_abbfd .Urx =_gbacf .Urx ;_abbfd ._gdeg =_abbfd ._gdeg ||_gbacf ._gdeg ;_abbfd ._bbfec =_abbfd ._bbfec ||_gbacf ._bbfec ;_abbfd ._cbccg =_gbacf ._cbccg ;if _aeee {_be .Printf ("\u0020 \u0020%\u0034\u0064\u003a\u0020\u0025s\u0020\u2192 \u0025\u0073\u000a",_aebd ,_gbacf ,_abbfd );};_dgaag =_aebd ;};if _aeee {_be .Printf (" \u0020 \u0025\u0032\u0064\u0020\u002d\u0020\u0025\u0032d\u0020\u2192\u0020\u0025s\n",_eafa ,_dgaag ,_abbfd );};_eafa =_dgaag ;_gafc [_dgedc ][_abbfd .Llx ]=_abbfd ;};};_gbdce :=make (map[float64 ]map[float64 ]gridTile ,_efdb );_cafad :=make (map[float64 ]map[float64 ]struct{},_efdb );for _bfafda :=_efdb -1;_bfafda >=0;_bfafda --{_afcbc :=_abaa [_bfafda *_dbga ].Lly ;_gbdce [_afcbc ]=make (map[float64 ]gridTile ,_dbga );_cafad [_afcbc ]=make (map[float64 ]struct{},_dbga );};if _aeee {_ca .Log .Info ("\u0072u\u006c\u0069n\u0067\u004c\u0069s\u0074\u002e\u0061\u0073\u0054\u0069\u006ci\u006e\u0067\u003a\u0020\u0063\u006fa\u006c\u0065\u0073\u0063\u0065\u0020\u0076\u0065\u0072\u0074\u0069c\u0061\u006c\u002e\u0020\u0025\u0036\u002e\u0032\u0066",_aeac );};for _aggb :=_efdb -1;_aggb >=0;_aggb --{_fgdfa :=_abaa [_aggb *_dbga ].Lly ;_afd :=_gafc [_aggb ];if _aeee {_be .Printf ("\u0020\u0020\u0079\u003d\u0025\u0032\u0064\u000a",_aggb );};for _ ,_ebbg :=range _daef (_afd ){if _ ,_edfce :=_cafad [_fgdfa ][_ebbg ];_edfce {continue ;};_dega :=_afd [_ebbg ];if _aeee {_be .Printf (" \u0020\u0020\u0020\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_dega .String ());};for _egdb :=_aggb -1;_egdb >=0;_egdb --{if _dega ._bbfec {break ;};_cgfa :=_gafc [_egdb ];_agba ,_cfeb :=_cgfa [_ebbg ];if !_cfeb {break ;};if _agba .Urx !=_dega .Urx {break ;};_dega ._bbfec =_agba ._bbfec ;_dega .Lly =_agba .Lly ;if _aeee {_be .Printf ("\u0020\u0020\u0020\u0020  \u0020\u0020\u0076\u003d\u0025\u0073\u0020\u0076\u0030\u003d\u0025\u0073\u000a",_agba .String (),_dega .String ());};_cafad [_agba .Lly ][_agba .Llx ]=struct{}{};};if _aggb ==0{_dega ._bbfec =true ;};if _dega .complete (){_gbdce [_fgdfa ][_ebbg ]=_dega ;};};};_dacd :=gridTiling {PdfRectangle :_aeac ,_cfcc :_ffged (_gbdce ),_cdeda :_agcc (_gbdce ),_dgafd :_gbdce };_dacd .log ("\u0043r\u0065\u0061\u0074\u0065\u0064");return _dacd ;};func _fcec (_fcge []TextMark ,_gagd *int ,_acdf TextMark )[]TextMark {_acdf .Offset =*_gagd ;_fcge =append (_fcge ,_acdf );*_gagd +=len (_acdf .Text );return _fcge ;};func (_daaf *textMark )bbox ()_cc .PdfRectangle {return _daaf .PdfRectangle };func (_agdb *shapesState )fill (_aaac *[]pathSection ){_eadf :=pathSection {_cgbb :_agdb ._dad ,Color :_agdb ._ffc .getFillColor ()};*_aaac =append (*_aaac ,_eadf );if _abda {_fgae :=_eadf .bbox ();_be .Printf ("\u0020 \u0020\u0020\u0046\u0049\u004c\u004c\u003a %\u0032\u0064\u0020\u0066\u0069\u006c\u006c\u0073\u0020\u0028\u0025\u0064\u0020\u006ee\u0077\u0029 \u0073\u0073\u003d%\u0073\u0020\u0063\u006f\u006c\u006f\u0072\u003d\u0025\u0033\u0076\u0020\u0025\u0036\u002e\u0032f\u003d\u00256.\u0032\u0066\u0078%\u0036\u002e\u0032\u0066\u000a",len (*_aaac ),len (_eadf ._cgbb ),_agdb ,_eadf .Color ,_fgae ,_fgae .Width (),_fgae .Height ());if _eadb {for _baag ,_baffc :=range _eadf ._cgbb {_be .Printf ("\u0025\u0038\u0064\u003a\u0020\u0025\u0073\u000a",_baag ,_baffc );if _baag ==10{break ;};};};};};func (_baeg rulingList )isActualGrid ()(rulingList ,bool ){_agedc ,_ddbaf :=_baeg .augmentGrid ();if !(len (_agedc )>=_cbd +1&&len (_ddbaf )>=_fcad +1){if _abda {_ca .Log .Info ("\u0069s\u0041\u0063t\u0075\u0061\u006c\u0047r\u0069\u0064\u003a \u004e\u006f\u0074\u0020\u0061\u006c\u0069\u0067\u006eed\u002e\u0020\u0025d\u0020\u0078 \u0025\u0064\u0020\u003c\u0020\u0025d\u0020\u0078 \u0025\u0064",len (_agedc ),len (_ddbaf ),_cbd +1,_fcad +1);};return nil ,false ;};if _abda {_ca .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075a\u006c\u0047\u0072\u0069\u0064\u003a\u0020\u0025\u0073\u0020\u003a\u0020\u0025t\u0020\u0026\u0020\u0025\u0074\u0020\u2192 \u0025\u0074",_baeg ,len (_agedc )>=2,len (_ddbaf )>=2,len (_agedc )>=2&&len (_ddbaf )>=2);for _cdda ,_faaf :=range _baeg {_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0076\u000a",_cdda ,_faaf );};};if _faa {_dgcbc ,_caffa :=_agedc [0],_agedc [len (_agedc )-1];_bbgbe ,_bdefcd :=_ddbaf [0],_ddbaf [len (_ddbaf )-1];if !(_cbdg (_dgcbc ._cecfa -_bbgbe ._abgg )&&_cbdg (_caffa ._cecfa -_bbgbe ._debb )&&_cbdg (_bbgbe ._cecfa -_dgcbc ._debb )&&_cbdg (_bdefcd ._cecfa -_dgcbc ._abgg )){if _abda {_ca .Log .Info ("\u0069\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069d\u003a\u0020\u0020N\u006f\u0074 \u0061\u006c\u0069\u0067\u006e\u0065d\u002e\n\t\u0076\u0030\u003d\u0025\u0073\u000a\u0009\u0076\u0031\u003d\u0025\u0073\u000a\u0009\u0068\u0030\u003d\u0025\u0073\u000a\u0009\u0068\u0031\u003d\u0025\u0073",_dgcbc ,_caffa ,_bbgbe ,_bdefcd );};return nil ,false ;};}else {if !_agedc .aligned (){if _acgg {_ca .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0076\u0065\u0072\u0074\u0073\u002e\u0020%\u0064",len (_agedc ));};return nil ,false ;};if !_ddbaf .aligned (){if _abda {_ca .Log .Info ("i\u0073\u0041\u0063\u0074\u0075\u0061l\u0047\u0072\u0069\u0064\u003a\u0020N\u006f\u0074\u0020\u0061\u006c\u0069\u0067n\u0065\u0064\u0020\u0068\u006f\u0072\u007a\u0073\u002e\u0020%\u0064",len (_ddbaf ));};return nil ,false ;};};_caga :=append (_agedc ,_ddbaf ...);return _caga ,true ;};

// Append appends `mark` to the mark array.
func (_gabc *TextMarkArray )Append (mark TextMark ){_gabc ._cgbe =append (_gabc ._cgbe ,mark )};func (_ceceg paraList )xNeighbours (_eceg float64 )map[*textPara ][]int {_eaeaf :=make ([]event ,2*len (_ceceg ));if _eceg ==0{for _bccad ,_gaedc :=range _ceceg {_eaeaf [2*_bccad ]=event {_gaedc .Llx ,true ,_bccad };_eaeaf [2*_bccad +1]=event {_gaedc .Urx ,false ,_bccad };};}else {for _dcae ,_fcdac :=range _ceceg {_eaeaf [2*_dcae ]=event {_fcdac .Llx -_eceg *_fcdac .fontsize (),true ,_dcae };_eaeaf [2*_dcae +1]=event {_fcdac .Urx +_eceg *_fcdac .fontsize (),false ,_dcae };};};return _ceceg .eventNeighbours (_eaeaf );};func _cegc (_ggfcg []rulingList )(rulingList ,rulingList ){var _cdca rulingList ;for _ ,_bfcc :=range _ggfcg {_cdca =append (_cdca ,_bfcc ...);};return _cdca .vertsHorzs ();};func (_agdg *textTable )getComposite (_addb ,_bfacd int )(paraList ,_cc .PdfRectangle ){_cegd ,_aaee :=_agdg ._dddbf [_ada (_addb ,_bfacd )];if _adfa {_be .Printf ("\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0020\u0067\u0065\u0074\u0043\u006f\u006d\u0070o\u0073i\u0074\u0065\u0028\u0025\u0064\u002c\u0025\u0064\u0029\u002d\u003e\u0025\u0073\u000a",_addb ,_bfacd ,_cegd .String ());};if !_aaee {return nil ,_cc .PdfRectangle {};};return _cegd .parasBBox ();};func _dedfb (_fdea []float64 ,_edac ,_fefa float64 )[]float64 {_fbef ,_fgce :=_edac ,_fefa ;if _fgce < _fbef {_fbef ,_fgce =_fgce ,_fbef ;};_afddd :=make ([]float64 ,0,len (_fdea )+2);_afddd =append (_afddd ,_edac );for _ ,_fdcfa :=range _fdea {if _fdcfa <=_fbef {continue ;}else if _fdcfa >=_fgce {break ;};_afddd =append (_afddd ,_fdcfa );};_afddd =append (_afddd ,_fefa );return _afddd ;};

// String returns a description of `k`.
func (_ggga markKind )String ()string {_fgef ,_fdec :=_ccfgd [_ggga ];if !_fdec {return _be .Sprintf ("\u004e\u006f\u0074\u0020\u0061\u0020\u006d\u0061\u0072k\u003a\u0020\u0025\u0064",_ggga );};return _fgef ;};

// RenderMode specifies the text rendering mode (Tmode), which determines whether showing text shall cause
// glyph outlines to be  stroked, filled, used as a clipping boundary, or some combination of the three.
// Stroking, filling, and clipping shall have the same effects for a text object as they do for a path object
// (see 8.5.3, "Path-Painting Operators" and 8.5.4, "Clipping Path Operators").
type RenderMode int ;func (_egad *wordBag )allWords ()[]*textWord {var _afbf []*textWord ;for _ ,_fgdg :=range _egad ._fgdfc {_afbf =append (_afbf ,_fgdg ...);};return _afbf ;};func (_dggf gridTiling )complete ()bool {for _ ,_gebff :=range _dggf ._dgafd {for _ ,_ffbga :=range _gebff {if !_ffbga .complete (){return false ;};};};return true ;};func _fafa (_dgbac *textWord ,_cfag float64 ,_gdce ,_gbea rulingList )*wordBag {_eccg :=_fac (_dgbac ._edgd );_bdbf :=[]*textWord {_dgbac };_ccfg :=wordBag {_fgdfc :map[int ][]*textWord {_eccg :_bdbf },PdfRectangle :_dgbac .PdfRectangle ,_ddfd :_dgbac ._edecc ,_fceaf :_cfag ,_fbbb :_gdce ,_fbdd :_gbea };return &_ccfg ;};func _dbcfg (_efgd ,_bdfgb *textPara )bool {return _abbd (_efgd ._cfef ,_bdfgb ._cfef )};func _abdec (_baea []_fd .PdfObject )(_bceee ,_egee float64 ,_ddfb error ){if len (_baea )!=2{return 0,0,_be .Errorf ("\u0069\u006e\u0076\u0061l\u0069\u0064\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020o\u0066 \u0070\u0061\u0072\u0061\u006d\u0073\u003a \u0025\u0064",len (_baea ));};_aagb ,_ddfb :=_fd .GetNumbersAsFloat (_baea );if _ddfb !=nil {return 0,0,_ddfb ;};return _aagb [0],_aagb [1],nil ;};func (_fccd *textPara )fontsize ()float64 {return _fccd ._abbfb [0]._eegf };func (_baca *shapesState )newSubPath (){_baca .clearPath ();if _fge {_ca .Log .Info ("\u006e\u0065\u0077\u0053\u0075\u0062\u0050\u0061\u0074h\u003a\u0020\u0025\u0073",_baca );};};func (_bffe rulingList )secMinMax ()(float64 ,float64 ){_eggcg ,_ccfga :=_bffe [0]._abgg ,_bffe [0]._debb ;for _ ,_ffe :=range _bffe [1:]{if _ffe ._abgg < _eggcg {_eggcg =_ffe ._abgg ;};if _ffe ._debb > _ccfga {_ccfga =_ffe ._debb ;};};return _eggcg ,_ccfga ;};func _efda (_ccef []pathSection )rulingList {_bfbbd (_ccef );if _abda {_ca .Log .Info ("\u006da\u006b\u0065\u0046\u0069l\u006c\u0052\u0075\u006c\u0069n\u0067s\u003a \u0025\u0064\u0020\u0066\u0069\u006c\u006cs",len (_ccef ));};var _egfe rulingList ;for _ ,_ecffc :=range _ccef {for _ ,_dfge :=range _ecffc ._cgbb {if !_dfge .isQuadrilateral (){if _abda {_ca .Log .Error ("!\u0069s\u0051\u0075\u0061\u0064\u0072\u0069\u006c\u0061t\u0065\u0072\u0061\u006c: \u0025\u0073",_dfge );};continue ;};if _facg ,_bfde :=_dfge .makeRectRuling (_ecffc .Color );_bfde {_egfe =append (_egfe ,_facg );}else {if _abdc {_ca .Log .Error ("\u0021\u006d\u0061\u006beR\u0065\u0063\u0074\u0052\u0075\u006c\u0069\u006e\u0067\u003a\u0020\u0025\u0073",_dfge );};};};};if _abda {_ca .Log .Info ("\u006d\u0061\u006b\u0065Fi\u006c\u006c\u0052\u0075\u006c\u0069\u006e\u0067\u0073\u003a\u0020\u0025\u0073",_egfe .String ());};return _egfe ;};func _abfdg (_cdgf ,_cbceb _ea .Point )bool {return _cdgf .X ==_cbceb .X &&_cdgf .Y ==_cbceb .Y };func (_gfbcg *textWord )appendMark (_ecaa *textMark ,_cfee _cc .PdfRectangle ){_gfbcg ._edcac =append (_gfbcg ._edcac ,_ecaa );_gfbcg .PdfRectangle =_aed (_gfbcg .PdfRectangle ,_ecaa .PdfRectangle );if _ecaa ._ebcc > _gfbcg ._edecc {_gfbcg ._edecc =_ecaa ._ebcc ;};_gfbcg ._edgd =_cfee .Ury -_gfbcg .PdfRectangle .Lly ;};func (_abg *textObject )setTextRenderMode (_eabf int ){if _abg ==nil {return ;};_abg ._dbf ._gfbe =RenderMode (_eabf );};func (_gccf *textObject )reset (){_gccf ._bdc =_ea .IdentityMatrix ();_gccf ._fcc =_ea .IdentityMatrix ();_gccf ._dgcb =nil ;};func _ecbg (_eeg ,_fdeb _cc .PdfRectangle )bool {return _abbd (_eeg ,_fdeb )&&_fegb (_eeg ,_fdeb )};func (_beed *textWord )computeText ()string {_cgbc :=make ([]string ,len (_beed ._edcac ));for _cddae ,_dcaa :=range _beed ._edcac {_cgbc [_cddae ]=_dcaa ._dab ;};return _a .Join (_cgbc ,"");};func (_fab *textObject )setTextMatrix (_cga []float64 ){if len (_cga )!=6{_ca .Log .Debug ("\u0045\u0052\u0052OR\u003a\u0020\u006c\u0065\u006e\u0028\u0066\u0029\u0020\u0021\u003d\u0020\u0036\u0020\u0028\u0025\u0064\u0029",len (_cga ));return ;};_agd ,_abfa ,_bba ,_fcd ,_dgba ,_deg :=_cga [0],_cga [1],_cga [2],_cga [3],_cga [4],_cga [5];_fab ._bdc =_ea .NewMatrix (_agd ,_abfa ,_bba ,_fcd ,_dgba ,_deg );_fab ._fcc =_fab ._bdc ;};func (_afcab intSet )has (_cbecg int )bool {_ ,_fcgdf :=_afcab [_cbecg ];return _fcgdf };func _fgba (_bdfgg _cc .PdfColorspace ,_eeec _cc .PdfColor )_bd .Color {if _bdfgg ==nil ||_eeec ==nil {return _bd .Black ;};_bfgg ,_fbdae :=_bdfgg .ColorToRGB (_eeec );if _fbdae !=nil {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006fu\u006c\u0064\u0020no\u0074\u0020\u0063\u006f\u006e\u0076e\u0072\u0074\u0020\u0063\u006f\u006c\u006f\u0072\u0020\u0025\u0076\u0020\u0028\u0025\u0076)\u0020\u0074\u006f\u0020\u0052\u0047\u0042\u003a \u0025\u0073",_eeec ,_bdfgg ,_fbdae );return _bd .Black ;};_edcag ,_cbcd :=_bfgg .(*_cc .PdfColorDeviceRGB );if !_cbcd {_ca .Log .Debug ("\u0057\u0041\u0052\u004e\u003a\u0020\u0063\u006f\u006e\u0076\u0065\u0072\u0074\u0065\u0064 \u0063\u006f\u006c\u006f\u0072\u0020\u0069\u0073\u0020\u006e\u006f\u0074\u0020i\u006e\u0020\u0074\u0068\u0065\u0020\u0052\u0047\u0042\u0020\u0063\u006flo\u0072\u0073\u0070\u0061\u0063\u0065\u003a\u0020\u0025\u0076",_bfgg );return _bd .Black ;};return _bd .NRGBA {R :uint8 (_edcag .R ()*255),G :uint8 (_edcag .G ()*255),B :uint8 (_edcag .B ()*255),A :uint8 (255)};};func (_gcb *imageExtractContext )extractContentStreamImages (_fc string ,_fbd *_cc .PdfPageResources )error {_cdb :=_ad .NewContentStreamParser (_fc );_aeb ,_ed :=_cdb .Parse ();if _ed !=nil {return _ed ;};if _gcb ._ggb ==nil {_gcb ._ggb =map[*_fd .PdfObjectStream ]*cachedImage {};};if _gcb ._ff ==nil {_gcb ._ff =&ImageExtractOptions {};};_fff :=_ad .NewContentStreamProcessor (*_aeb );_fff .AddHandler (_ad .HandlerConditionEnumAllOperands ,"",_gcb .processOperand );return _fff .Process (_fbd );};func (_eagac lineRuling )asRuling ()(*ruling ,bool ){_dgda :=ruling {_fdebe :_eagac ._bbac ,Color :_eagac .Color ,_adce :_cgabb };switch _eagac ._bbac {case _eabd :_dgda ._cecfa =_eagac .xMean ();_dgda ._abgg =_dc .Min (_eagac ._gbdbd .Y ,_eagac ._gfffb .Y );_dgda ._debb =_dc .Max (_eagac ._gbdbd .Y ,_eagac ._gfffb .Y );case _acdb :_dgda ._cecfa =_eagac .yMean ();_dgda ._abgg =_dc .Min (_eagac ._gbdbd .X ,_eagac ._gfffb .X );_dgda ._debb =_dc .Max (_eagac ._gbdbd .X ,_eagac ._gfffb .X );default:_ca .Log .Error ("\u0062\u0061\u0064\u0020pr\u0069\u006d\u0061\u0072\u0079\u0020\u006b\u0069\u006e\u0064\u003d\u0025\u0064",_eagac ._bbac );return nil ,false ;};return &_dgda ,true ;};func _ebecg (_cfgd _cc .PdfRectangle )*ruling {return &ruling {_fdebe :_eabd ,_cecfa :_cfgd .Urx ,_abgg :_cfgd .Lly ,_debb :_cfgd .Ury };};func _daef (_cbbgb map[float64 ]gridTile )[]float64 {_gcbe :=make ([]float64 ,0,len (_cbbgb ));for _ggceb :=range _cbbgb {_gcbe =append (_gcbe ,_ggceb );};_ee .Float64s (_gcbe );return _gcbe ;};func _cbdg (_egcd float64 )bool {return _dc .Abs (_egcd )< _cge };func (_babb lineRuling )xMean ()float64 {return 0.5*(_babb ._gbdbd .X +_babb ._gfffb .X )};func _gafcc (_ceca string )bool {for _ ,_dfbe :=range _ceca {if !_e .IsSpace (_dfbe ){return false ;};};return true ;};func (_adbb *ruling )equals (_aead *ruling )bool {return _adbb ._fdebe ==_aead ._fdebe &&_ggbcd (_adbb ._cecfa ,_aead ._cecfa )&&_ggbcd (_adbb ._abgg ,_aead ._abgg )&&_ggbcd (_adbb ._debb ,_aead ._debb );};func (_dgg *shapesState )quadraticTo (_ceg ,_cdgd ,_aceg ,_bbbg float64 ){if _fge {_ca .Log .Info ("\u0071\u0075\u0061d\u0072\u0061\u0074\u0069\u0063\u0054\u006f\u003a");};_dgg .addPoint (_aceg ,_bbbg );};func (_efeec rulingList )removeDuplicates ()rulingList {if len (_efeec )==0{return nil ;};_efeec .sort ();_dgdf :=rulingList {_efeec [0]};for _ ,_gacf :=range _efeec [1:]{if _gacf .equals (_dgdf [len (_dgdf )-1]){continue ;};_dgdf =append (_dgdf ,_gacf );};return _dgdf ;};func (_cbad paraList )log (_acbg string ){if !_egdf {return ;};_ca .Log .Info ("%\u0038\u0073\u003a\u0020\u0025\u0064 \u0070\u0061\u0072\u0061\u0073\u0020=\u003d\u003d\u003d\u003d\u003d\u003d\u002d-\u002d\u002d\u002d\u002d\u002d\u003d\u003d\u003d\u003d\u003d=\u003d",_acbg ,len (_cbad ));for _dbdgb ,_abffg :=range _cbad {if _abffg ==nil {continue ;};_aae :=_abffg .text ();_afba :="\u0020\u0020";if _abffg ._eeca !=nil {_afba =_be .Sprintf ("\u005b%\u0064\u0078\u0025\u0064\u005d",_abffg ._eeca ._dadf ,_abffg ._eeca ._bgfb );};_be .Printf ("\u0025\u0034\u0064\u003a\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0025s\u0020\u0025\u0071\u000a",_dbdgb ,_abffg .PdfRectangle ,_afba ,_fafd (_aae ,50));};};const (_ecaea markKind =iota ;_cgabb ;_eggc ;_fbed ;);

// ImageExtractOptions contains options for controlling image extraction from
// PDF pages.
type ImageExtractOptions struct{IncludeInlineStencilMasks bool ;};func (_feg *textObject )getStrokeColor ()_bd .Color {return _fgba (_feg ._adg .ColorspaceStroking ,_feg ._adg .ColorStroking );};func (_dbbg *stateStack )empty ()bool {return len (*_dbbg )==0};func (_fbbcg *textPara )depth ()float64 {if _fbbcg ._gdcb {return -1.0;};if len (_fbbcg ._abbfb )> 0{return _fbbcg ._abbfb [0]._abe ;};return _fbbcg ._eeca .depth ();};func (_abge *textTable )bbox ()_cc .PdfRectangle {return _abge .PdfRectangle };var (_cbef =map[rune ]string {0x0060:"\u0300",0x02CB:"\u0300",0x0027:"\u0301",0x00B4:"\u0301",0x02B9:"\u0301",0x02CA:"\u0301",0x005E:"\u0302",0x02C6:"\u0302",0x007E:"\u0303",0x02DC:"\u0303",0x00AF:"\u0304",0x02C9:"\u0304",0x02D8:"\u0306",0x02D9:"\u0307",0x00A8:"\u0308",0x00B0:"\u030a",0x02DA:"\u030a",0x02BA:"\u030b",0x02DD:"\u030b",0x02C7:"\u030c",0x02C8:"\u030d",0x0022:"\u030e",0x02BB:"\u0312",0x02BC:"\u0313",0x0486:"\u0313",0x055A:"\u0313",0x02BD:"\u0314",0x0485:"\u0314",0x0559:"\u0314",0x02D4:"\u031d",0x02D5:"\u031e",0x02D6:"\u031f",0x02D7:"\u0320",0x02B2:"\u0321",0x00B8:"\u0327",0x02CC:"\u0329",0x02B7:"\u032b",0x02CD:"\u0331",0x005F:"\u0332",0x204E:"\u0359"};);func _dfda (_dcadf _cc .PdfRectangle )*ruling {return &ruling {_fdebe :_acdb ,_cecfa :_dcadf .Ury ,_abgg :_dcadf .Llx ,_debb :_dcadf .Urx };};func _ddgab (_dcecf ,_fbcd bounded )float64 {return _dcecf .bbox ().Llx -_fbcd .bbox ().Llx };const _gff =1.0/1000.0;func (_dcfd *textLine )text ()string {var _edgad []string ;for _ ,_abeg :=range _dcfd ._gbdef {if _abeg ._eaee {_edgad =append (_edgad ,"\u0020");};_edgad =append (_edgad ,_abeg ._bgde );};return _a .Join (_edgad ,"");};func _ababa (_gfdf []*wordBag )[]*wordBag {if len (_gfdf )<=1{return _gfdf ;};if _efab {_ca .Log .Info ("\u006d\u0065\u0072\u0067\u0065\u0057\u006f\u0072\u0064B\u0061\u0067\u0073\u003a");};_ee .Slice (_gfdf ,func (_ecae ,_cfeg int )bool {_gace ,_dgfd :=_gfdf [_ecae ],_gfdf [_cfeg ];_acfb :=_gace .Width ()*_gace .Height ();_adfc :=_dgfd .Width ()*_dgfd .Height ();if _acfb !=_adfc {return _acfb > _adfc ;};if _gace .Height ()!=_dgfd .Height (){return _gace .Height ()> _dgfd .Height ();};return _ecae < _cfeg ;});var _ccad []*wordBag ;_beae :=make (intSet );for _fcde :=0;_fcde < len (_gfdf );_fcde ++{if _beae .has (_fcde ){continue ;};_dgbd :=_gfdf [_fcde ];for _gcdg :=_fcde +1;_gcdg < len (_gfdf );_gcdg ++{if _beae .has (_fcde ){continue ;};_ddce :=_gfdf [_gcdg ];_ffcc :=_dgbd .PdfRectangle ;_ffcc .Llx -=_dgbd ._ddfd ;if _ebgd (_ffcc ,_ddce .PdfRectangle ){_dgbd .absorb (_ddce );_beae .add (_gcdg );};};_ccad =append (_ccad ,_dgbd );};if len (_gfdf )!=len (_ccad )+len (_beae ){_ca .Log .Error ("\u006d\u0065\u0072ge\u0057\u006f\u0072\u0064\u0042\u0061\u0067\u0073\u003a \u0025d\u2192%\u0064 \u0061\u0062\u0073\u006f\u0072\u0062\u0065\u0064\u003d\u0025\u0064",len (_gfdf ),len (_ccad ),len (_beae ));};return _ccad ;};

// String returns a description of `v`.
func (_fcbcc *ruling )String ()string {if _fcbcc ._fdebe ==_gdfc {return "\u004e\u004f\u0054\u0020\u0052\u0055\u004c\u0049\u004e\u0047";};_cgde ,_beca :="\u0078","\u0079";if _fcbcc ._fdebe ==_acdb {_cgde ,_beca ="\u0079","\u0078";};_fdbbe :="";if _fcbcc ._ggcg !=0.0{_fdbbe =_be .Sprintf (" \u0077\u0069\u0064\u0074\u0068\u003d\u0025\u002e\u0032\u0066",_fcbcc ._ggcg );};return _be .Sprintf ("\u0025\u00310\u0073\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u0025\u0073\u003d\u0025\u0036\u002e\u0032\u0066\u0020\u002d\u0020\u0025\u0036\u002e\u0032\u0066\u0020\u0028\u0025\u0036\u002e\u0032\u0066\u0029\u0020\u0025\u0073\u0020\u0025\u0076\u0025\u0073",_fcbcc ._fdebe ,_cgde ,_fcbcc ._cecfa ,_beca ,_fcbcc ._abgg ,_fcbcc ._debb ,_fcbcc ._debb -_fcbcc ._abgg ,_fcbcc ._adce ,_fcbcc .Color ,_fdbbe );};func _gefa (_gecfc ,_dfgd ,_eaad float64 )rulingKind {if _gecfc >=_eaad &&_dbag (_dfgd ,_gecfc ){return _acdb ;};if _dfgd >=_eaad &&_dbag (_gecfc ,_dfgd ){return _eabd ;};return _gdfc ;};func (_bab *textObject )setHorizScaling (_edce float64 ){if _bab ==nil {return ;};_bab ._dbf ._gcfa =_edce ;};func (_ebca paraList )applyTables (_bfgd []*textTable )paraList {_egbe :=make (map[*textPara ]struct{});var _ebbb paraList ;for _ ,_adcdc :=range _bfgd {for _ ,_decg :=range _adcdc ._bbag {_egbe [_decg ]=struct{}{};};_ebbb =append (_ebbb ,_adcdc .newTablePara ());};for _ ,_dccdb :=range _ebca {if _ ,_gcga :=_egbe [_dccdb ];!_gcga {_ebbb =append (_ebbb ,_dccdb );};};return _ebbb ;};func _gcgf (_efccg []*textWord ,_ebgb *textWord )[]*textWord {for _cdeag ,_eccce :=range _efccg {if _eccce ==_ebgb {return _ceed (_efccg ,_cdeag );};};_ca .Log .Error ("\u0072\u0065\u006d\u006f\u0076e\u0057\u006f\u0072\u0064\u003a\u0020\u0077\u006f\u0072\u0064\u0073\u0020\u0064o\u0065\u0073\u006e\u0027\u0074\u0020\u0063\u006f\u006e\u0074\u0061\u0069\u006e\u0020\u0077\u006f\u0072\u0064\u003d\u0025\u0073",_ebgb );return nil ;};func (_gcg *textObject )setWordSpacing (_edca float64 ){if _gcg ==nil {return ;};_gcg ._dbf ._ddab =_edca ;};func _afaa (_bgcc ,_bdae _cc .PdfRectangle )(_cc .PdfRectangle ,bool ){if !_ecbg (_bgcc ,_bdae ){return _cc .PdfRectangle {},false ;};return _cc .PdfRectangle {Llx :_dc .Max (_bgcc .Llx ,_bdae .Llx ),Urx :_dc .Min (_bgcc .Urx ,_bdae .Urx ),Lly :_dc .Max (_bgcc .Lly ,_bdae .Lly ),Ury :_dc .Min (_bgcc .Ury ,_bdae .Ury )},true ;};type textObject struct{_fgg *Extractor ;_abdg *_cc .PdfPageResources ;_adg _ad .GraphicsState ;_dbf *textState ;_edfc *stateStack ;_bdc _ea .Matrix ;_fcc _ea .Matrix ;_dgcb []*textMark ;_dbfd bool ;};

// ImageMark represents an image drawn on a page and its position in device coordinates.
// All coordinates are in device coordinates.
type ImageMark struct{Image *_cc .Image ;

// Dimensions of the image as displayed in the PDF.
Width float64 ;Height float64 ;

// Position of the image in PDF coordinates (lower left corner).
X float64 ;Y float64 ;

// Angle in degrees, if rotated.
Angle float64 ;};

// String returns a string describing `pt`.
func (_cbb PageText )String ()string {_dbac :=_be .Sprintf ("P\u0061\u0067\u0065\u0054ex\u0074:\u0020\u0025\u0064\u0020\u0065l\u0065\u006d\u0065\u006e\u0074\u0073",len (_cbb ._gcae ));_bcca :=[]string {"\u002d"+_dbac };for _ ,_cgcd :=range _cbb ._gcae {_bcca =append (_bcca ,_cgcd .String ());};_bcca =append (_bcca ,"\u002b"+_dbac );return _a .Join (_bcca ,"\u000a");};type imageExtractContext struct{_gfd []ImageMark ;_bce int ;_ebf int ;_cdd int ;_ggb map[*_fd .PdfObjectStream ]*cachedImage ;_ff *ImageExtractOptions ;};func (_fgaf *wordBag )blocked (_gcgb *textWord )bool {if _gcgb .Urx < _fgaf .Llx {_dff :=_ebecg (_gcgb .PdfRectangle );_fad :=_ggda (_fgaf .PdfRectangle );if _fgaf ._fbbb .blocks (_dff ,_fad ){if _bff {_ca .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0078\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_gcgb ,_fgaf );};return true ;};}else if _fgaf .Urx < _gcgb .Llx {_ggbb :=_ebecg (_fgaf .PdfRectangle );_dbcc :=_ggda (_gcgb .PdfRectangle );if _fgaf ._fbbb .blocks (_ggbb ,_dbcc ){if _bff {_ca .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0078\u2192\u0020:\u0020\u0025\u0073\u0020%s",_gcgb ,_fgaf );};return true ;};};if _gcgb .Ury < _fgaf .Lly {_bbebd :=_dfda (_gcgb .PdfRectangle );_fgc :=_bccef (_fgaf .PdfRectangle );if _fgaf ._fbdd .blocks (_bbebd ,_fgc ){if _bff {_ca .Log .Info ("\u0062\u006c\u006f\u0063ke\u0064\u0020\u2190\u0079\u003a\u0020\u0025\u0073\u0020\u0025\u0073",_gcgb ,_fgaf );};return true ;};}else if _fgaf .Ury < _gcgb .Lly {_fccb :=_dfda (_fgaf .PdfRectangle );_ddeea :=_bccef (_gcgb .PdfRectangle );if _fgaf ._fbdd .blocks (_fccb ,_ddeea ){if _bff {_ca .Log .Info ("b\u006co\u0063\u006b\u0065\u0064\u0020\u0079\u2192\u0020:\u0020\u0025\u0073\u0020%s",_gcgb ,_fgaf );};return true ;};};return false ;};type rulingKind int ;func _ecfdc (_dbdbf string )(string ,bool ){_fafff :=[]rune (_dbdbf );if len (_fafff )!=1{return "",false ;};_cdge ,_fcgf :=_cbef [_fafff [0]];return _cdge ,_fcgf ;};func (_ggaba paraList )toTextMarks ()[]TextMark {_bbdf :=0;var _bgdcc []TextMark ;for _ecdc ,_bage :=range _ggaba {if _bage ._gdcb {continue ;};_bgcb :=_bage .toTextMarks (&_bbdf );_bgdcc =append (_bgdcc ,_bgcb ...);if _ecdc !=len (_ggaba )-1{if _dbaa (_bage ,_ggaba [_ecdc +1]){_bgdcc =_beff (_bgdcc ,&_bbdf ,"\u0020");}else {_bgdcc =_beff (_bgdcc ,&_bbdf ,"\u000a");_bgdcc =_beff (_bgdcc ,&_bbdf ,"\u000a");};};};_bgdcc =_beff (_bgdcc ,&_bbdf ,"\u000a");_bgdcc =_beff (_bgdcc ,&_bbdf ,"\u000a");return _bgdcc ;};func (_defgd rulingList )toGrids ()[]rulingList {if _abda {_ca .Log .Info ("t\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0025\u0073",_defgd );};_ecdfe :=_defgd .intersections ();if _abda {_ca .Log .Info ("\u0074\u006f\u0047r\u0069\u0064\u0073\u003a \u0076\u0065\u0063\u0073\u003d\u0025\u0064 \u0069\u006e\u0074\u0065\u0072\u0073\u0065\u0063\u0074\u0073\u003d\u0025\u0064\u0020",len (_defgd ),len (_ecdfe ));for _ ,_gcbad :=range _bcfa (_ecdfe ){_be .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_gcbad ,_ecdfe [_gcbad ]);};};_cfead :=make (map[int ]intSet ,len (_defgd ));for _bae :=range _defgd {_gbcc :=_defgd .connections (_ecdfe ,_bae );if len (_gbcc )> 0{_cfead [_bae ]=_gbcc ;};};if _abda {_ca .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0063\u006fn\u006e\u0065\u0063\u0074s=\u0025\u0064",len (_cfead ));for _ ,_gdbg :=range _bcfa (_cfead ){_be .Printf ("\u00254\u0064\u003a\u0020\u0025\u002b\u0076\n",_gdbg ,_cfead [_gdbg ]);};};_deeb :=_dbgg (len (_defgd ),func (_gcgbe ,_eacg int )bool {_bfdba ,_gagab :=len (_cfead [_gcgbe ]),len (_cfead [_eacg ]);if _bfdba !=_gagab {return _bfdba > _gagab ;};return _defgd .comp (_gcgbe ,_eacg );});if _abda {_ca .Log .Info ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u006f\u0072d\u0065\u0072\u0069\u006eg=\u0025\u0076",_deeb );};_bbdg :=[][]int {{_deeb [0]}};_cfab :for _ ,_fbgb :=range _deeb [1:]{for _fedc ,_gggb :=range _bbdg {for _ ,_cfga :=range _gggb {if _cfead [_cfga ].has (_fbgb ){_bbdg [_fedc ]=append (_gggb ,_fbgb );continue _cfab ;};};};_bbdg =append (_bbdg ,[]int {_fbgb });};if _abda {_ca .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020i\u0067\u0072i\u0064\u0073\u003d\u0025\u0076",_bbdg );};_ee .SliceStable (_bbdg ,func (_bfae ,_cbade int )bool {return len (_bbdg [_bfae ])> len (_bbdg [_cbade ])});for _ ,_baaaf :=range _bbdg {_ee .Slice (_baaaf ,func (_fbff ,_fabbg int )bool {return _defgd .comp (_baaaf [_fbff ],_baaaf [_fabbg ])});};_debfb :=make ([]rulingList ,len (_bbdg ));for _eeedd ,_gbbc :=range _bbdg {_ecbc :=make (rulingList ,len (_gbbc ));for _bagce ,_cded :=range _gbbc {_ecbc [_bagce ]=_defgd [_cded ];};_debfb [_eeedd ]=_ecbc ;};if _abda {_ca .Log .Info ("\u0074o\u0047r\u0069\u0064\u0073\u003a\u0020g\u0072\u0069d\u0073\u003d\u0025\u002b\u0076",_debfb );};var _aegd []rulingList ;for _ ,_adda :=range _debfb {if _aedg ,_edaa :=_adda .isActualGrid ();_edaa {_adda =_aedg ;_adda =_adda .snapToGroups ();_aegd =append (_aegd ,_adda );};};if _abda {_gddb ("t\u006fG\u0072\u0069\u0064\u0073\u003a\u0020\u0061\u0063t\u0075\u0061\u006c\u0047ri\u0064\u0073",_aegd );_ca .Log .Info ("\u0074\u006f\u0047\u0072\u0069\u0064\u0073\u003a\u0020\u0067\u0072\u0069\u0064\u0073\u003d%\u0064 \u0061\u0063\u0074\u0075\u0061\u006c\u0047\u0072\u0069\u0064\u0073\u003d\u0025\u0064",len (_debfb ),len (_aegd ));};return _aegd ;};func (_aeec *shapesState )addPoint (_ddg ,_aad float64 ){_dcg :=_aeec .establishSubpath ();_bccg :=_aeec .devicePoint (_ddg ,_aad );if _dcg ==nil {_aeec ._aaad =true ;_aeec ._dac =_bccg ;}else {_dcg .add (_bccg );};};var (_bag =_c .New ("\u0074\u0079p\u0065\u0020\u0063h\u0065\u0063\u006b\u0020\u0065\u0072\u0072\u006f\u0072");_gb =_c .New ("\u0072\u0061\u006e\u0067\u0065\u0020\u0063\u0068\u0065\u0063\u006b\u0020e\u0072\u0072\u006f\u0072"););type fontEntry struct{_fagg *_cc .PdfFont ;_agcf int64 ;};func (_ffcg *textLine )markWordBoundaries (){_ffca :=_defc *_ffcg ._eegf ;for _gdg ,_cfca :=range _ffcg ._gbdef [1:]{if _eaaa (_cfca ,_ffcg ._gbdef [_gdg ])>=_ffca {_cfca ._eaee =true ;};};};func (_abbda paraList )lines ()[]*textLine {var _cddbb []*textLine ;for _ ,_ecff :=range _abbda {_cddbb =append (_cddbb ,_ecff ._abbfb ...);};return _cddbb ;};