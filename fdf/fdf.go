//
// Copyright 2020 FoxyUtils ehf. All rights reserved.
//
// This is a commercial product and requires a license to operate.
// A trial license can be obtained at https://unidoc.io
//
// DO NOT EDIT: generated by unitwist Go source code obfuscator.
//
// Use of this source code is governed by the UniDoc End User License Agreement
// terms that can be accessed at https://unidoc.io/eula/

// Package fdf provides support for loading form field data from Form Field Data (FDF) files.
package fdf ;import (_eb "bufio";_ba "bytes";_fd "encoding/hex";_d "errors";_gd "fmt";_bb "github.com/unidoc/unipdf/v3/common";_gda "github.com/unidoc/unipdf/v3/core";_c "io";_af "os";_b "regexp";_a "sort";_f "strconv";_g "strings";);var _adg =_b .MustCompile ("\u005e\u005b\u005c+-\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e]\u002b)\u0065[\u005c+\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d\u0039\u002e\u005d\u002b\u0029");func (_gaa *fdfParser )parseObject ()(_gda .PdfObject ,error ){_bb .Log .Trace ("\u0052e\u0061d\u0020\u0064\u0069\u0072\u0065c\u0074\u0020o\u0062\u006a\u0065\u0063\u0074");_gaa .skipSpaces ();for {_cee ,_fade :=_gaa ._fa .Peek (2);if _fade !=nil {return nil ,_fade ;};_bb .Log .Trace ("\u0050e\u0065k\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u003a\u0020\u0025\u0073",string (_cee ));if _cee [0]=='/'{_acf ,_abca :=_gaa .parseName ();_bb .Log .Trace ("\u002d\u003e\u004ea\u006d\u0065\u003a\u0020\u0027\u0025\u0073\u0027",_acf );return &_acf ,_abca ;}else if _cee [0]=='('{_bb .Log .Trace ("\u002d>\u0053\u0074\u0072\u0069\u006e\u0067!");return _gaa .parseString ();}else if _cee [0]=='['{_bb .Log .Trace ("\u002d\u003e\u0041\u0072\u0072\u0061\u0079\u0021");return _gaa .parseArray ();}else if (_cee [0]=='<')&&(_cee [1]=='<'){_bb .Log .Trace ("\u002d>\u0044\u0069\u0063\u0074\u0021");return _gaa .parseDict ();}else if _cee [0]=='<'{_bb .Log .Trace ("\u002d\u003e\u0048\u0065\u0078\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0021");return _gaa .parseHexString ();}else if _cee [0]=='%'{_gaa .readComment ();_gaa .skipSpaces ();}else {_bb .Log .Trace ("\u002d\u003eN\u0075\u006d\u0062e\u0072\u0020\u006f\u0072\u0020\u0072\u0065\u0066\u003f");_cee ,_ =_gaa ._fa .Peek (15);_ebg :=string (_cee );_bb .Log .Trace ("\u0050\u0065\u0065k\u0020\u0073\u0074\u0072\u003a\u0020\u0025\u0073",_ebg );if (len (_ebg )> 3)&&(_ebg [:4]=="\u006e\u0075\u006c\u006c"){_bfc ,_ffb :=_gaa .parseNull ();return &_bfc ,_ffb ;}else if (len (_ebg )> 4)&&(_ebg [:5]=="\u0066\u0061\u006cs\u0065"){_adb ,_gba :=_gaa .parseBool ();return &_adb ,_gba ;}else if (len (_ebg )> 3)&&(_ebg [:4]=="\u0074\u0072\u0075\u0065"){_faf ,_ggg :=_gaa .parseBool ();return &_faf ,_ggg ;};_bee :=_cgd .FindStringSubmatch (string (_ebg ));if len (_bee )> 1{_cee ,_ =_gaa ._fa .ReadBytes ('R');_bb .Log .Trace ("\u002d\u003e\u0020\u0021\u0052\u0065\u0066\u003a\u0020\u0027\u0025\u0073\u0027",string (_cee [:]));_eeda ,_ccd :=_gg (string (_cee ));return &_eeda ,_ccd ;};_cda :=_fdg .FindStringSubmatch (string (_ebg ));if len (_cda )> 1{_bb .Log .Trace ("\u002d\u003e\u0020\u004e\u0075\u006d\u0062\u0065\u0072\u0021");return _gaa .parseNumber ();};_cda =_adg .FindStringSubmatch (string (_ebg ));if len (_cda )> 1{_bb .Log .Trace ("\u002d\u003e\u0020\u0045xp\u006f\u006e\u0065\u006e\u0074\u0069\u0061\u006c\u0020\u004e\u0075\u006d\u0062\u0065r\u0021");_bb .Log .Trace ("\u0025\u0020\u0073",_cda );return _gaa .parseNumber ();};_bb .Log .Debug ("\u0045R\u0052\u004f\u0052\u0020U\u006e\u006b\u006e\u006f\u0077n\u0020(\u0070e\u0065\u006b\u0020\u0022\u0025\u0073\u0022)",_ebg );return nil ,_d .New ("\u006f\u0062\u006a\u0065\u0063t\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0065\u0072\u0072\u006fr\u0020\u002d\u0020\u0075\u006e\u0065\u0078\u0070\u0065\u0063\u0074\u0065\u0064\u0020\u0070\u0061\u0074\u0074\u0065\u0072\u006e");};};};

// FieldValues implements interface model.FieldValueProvider.
// Returns a map of field names to values (PdfObjects).
func (fdf *Data )FieldValues ()(map[string ]_gda .PdfObject ,error ){_ce ,_cd :=fdf .FieldDictionaries ();if _cd !=nil {return nil ,_cd ;};var _afe []string ;for _ade :=range _ce {_afe =append (_afe ,_ade );};_a .Strings (_afe );_gb :=map[string ]_gda .PdfObject {};for _ ,_ed :=range _afe {_ff :=_ce [_ed ];_fc :=_gda .TraceToDirectObject (_ff .Get ("\u0056"));_gb [_ed ]=_fc ;};return _gb ,nil ;};

// FieldDictionaries returns a map of field names to field dictionaries.
func (fdf *Data )FieldDictionaries ()(map[string ]*_gda .PdfObjectDictionary ,error ){_ef :=map[string ]*_gda .PdfObjectDictionary {};for _cb :=0;_cb < fdf ._bab .Len ();_cb ++{_cg ,_df :=_gda .GetDict (fdf ._bab .Get (_cb ));if _df {_ad ,_ :=_gda .GetString (_cg .Get ("\u0054"));if _ad !=nil {_ef [_ad .Str ()]=_cg ;};};};return _ef ,nil ;};func (_bcc *fdfParser )readComment ()(string ,error ){var _ga _ba .Buffer ;_ ,_bca :=_bcc .skipSpaces ();if _bca !=nil {return _ga .String (),_bca ;};_gdd :=true ;for {_aef ,_gbg :=_bcc ._fa .Peek (1);if _gbg !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gbg .Error ());return _ga .String (),_gbg ;};if _gdd &&_aef [0]!='%'{return _ga .String (),_d .New ("c\u006f\u006d\u006d\u0065\u006e\u0074 \u0073\u0068\u006f\u0075\u006c\u0064\u0020\u0073\u0074a\u0072\u0074\u0020w\u0069t\u0068\u0020\u0025");};_gdd =false ;if (_aef [0]!='\r')&&(_aef [0]!='\n'){_gef ,_ :=_bcc ._fa .ReadByte ();_ga .WriteByte (_gef );}else {break ;};};return _ga .String (),nil ;};func (_bba *fdfParser )parseNumber ()(_gda .PdfObject ,error ){return _gda .ParseNumber (_bba ._fa )};func (_bec *fdfParser )parseString ()(*_gda .PdfObjectString ,error ){_bec ._fa .ReadByte ();var _geb _ba .Buffer ;_debd :=1;for {_fcf ,_efc :=_bec ._fa .Peek (1);if _efc !=nil {return _gda .MakeString (_geb .String ()),_efc ;};if _fcf [0]=='\\'{_bec ._fa .ReadByte ();_fbf ,_bfg :=_bec ._fa .ReadByte ();if _bfg !=nil {return _gda .MakeString (_geb .String ()),_bfg ;};if _gda .IsOctalDigit (_fbf ){_agd ,_ffd :=_bec ._fa .Peek (2);if _ffd !=nil {return _gda .MakeString (_geb .String ()),_ffd ;};var _efd []byte ;_efd =append (_efd ,_fbf );for _ ,_dbd :=range _agd {if _gda .IsOctalDigit (_dbd ){_efd =append (_efd ,_dbd );}else {break ;};};_bec ._fa .Discard (len (_efd )-1);_bb .Log .Trace ("\u004e\u0075\u006d\u0065ri\u0063\u0020\u0073\u0074\u0072\u0069\u006e\u0067\u0020\u0022\u0025\u0073\u0022",_efd );_ab ,_ffd :=_f .ParseUint (string (_efd ),8,32);if _ffd !=nil {return _gda .MakeString (_geb .String ()),_ffd ;};_geb .WriteByte (byte (_ab ));continue ;};switch _fbf {case 'n':_geb .WriteRune ('\n');case 'r':_geb .WriteRune ('\r');case 't':_geb .WriteRune ('\t');case 'b':_geb .WriteRune ('\b');case 'f':_geb .WriteRune ('\f');case '(':_geb .WriteRune ('(');case ')':_geb .WriteRune (')');case '\\':_geb .WriteRune ('\\');};continue ;}else if _fcf [0]=='('{_debd ++;}else if _fcf [0]==')'{_debd --;if _debd ==0{_bec ._fa .ReadByte ();break ;};};_fbd ,_ :=_bec ._fa .ReadByte ();_geb .WriteByte (_fbd );};return _gda .MakeString (_geb .String ()),nil ;};var _fdg =_b .MustCompile ("\u005e\u005b\u005c\u002b\u002d\u002e\u005d\u002a\u0028\u005b\u0030\u002d9\u002e\u005d\u002b\u0029");func (_ffbb *fdfParser )seekToEOFMarker (_edee int64 )error {_dgg :=int64 (0);_gcd :=int64 (1000);for _dgg < _edee {if _edee <=(_gcd +_dgg ){_gcd =_edee -_dgg ;};_ ,_degg :=_ffbb ._aff .Seek (-_dgg -_gcd ,_c .SeekEnd );if _degg !=nil {return _degg ;};_fge :=make ([]byte ,_gcd );_ffbb ._aff .Read (_fge );_bb .Log .Trace ("\u004c\u006f\u006f\u006bi\u006e\u0067\u0020\u0066\u006f\u0072\u0020\u0045\u004f\u0046 \u006da\u0072\u006b\u0065\u0072\u003a\u0020\u0022%\u0073\u0022",string (_fge ));_adeg :=_fg .FindAllStringIndex (string (_fge ),-1);if _adeg !=nil {_aeb :=_adeg [len (_adeg )-1];_bb .Log .Trace ("\u0049\u006e\u0064\u003a\u0020\u0025\u0020\u0064",_adeg );_ffbb ._aff .Seek (-_dgg -_gcd +int64 (_aeb [0]),_c .SeekEnd );return nil ;};_bb .Log .Debug ("\u0057\u0061\u0072\u006e\u0069\u006eg\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006b\u0065\u0072\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075n\u0064\u0021\u0020\u002d\u0020\u0063\u006f\u006e\u0074\u0069\u006e\u0075\u0065\u0020s\u0065e\u006b\u0069\u006e\u0067");_dgg +=_gcd ;};_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u003a\u0020\u0045\u004f\u0046\u0020\u006d\u0061\u0072\u006be\u0072 \u0077\u0061\u0073\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064\u002e");return _d .New ("\u0045\u004f\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};

// Data represents forms data format (FDF) file data.
type Data struct{_gc *_gda .PdfObjectDictionary ;_bab *_gda .PdfObjectArray ;};func (_agc *fdfParser )parseBool ()(_gda .PdfObjectBool ,error ){_gae ,_gdf :=_agc ._fa .Peek (4);if _gdf !=nil {return _gda .PdfObjectBool (false ),_gdf ;};if (len (_gae )>=4)&&(string (_gae [:4])=="\u0074\u0072\u0075\u0065"){_agc ._fa .Discard (4);return _gda .PdfObjectBool (true ),nil ;};_gae ,_gdf =_agc ._fa .Peek (5);if _gdf !=nil {return _gda .PdfObjectBool (false ),_gdf ;};if (len (_gae )>=5)&&(string (_gae [:5])=="\u0066\u0061\u006cs\u0065"){_agc ._fa .Discard (5);return _gda .PdfObjectBool (false ),nil ;};return _gda .PdfObjectBool (false ),_d .New ("\u0075n\u0065\u0078\u0070\u0065c\u0074\u0065\u0064\u0020\u0062o\u006fl\u0065a\u006e\u0020\u0073\u0074\u0072\u0069\u006eg");};func (_afaa *fdfParser )skipSpaces ()(int ,error ){_ced :=0;for {_bbf ,_cbd :=_afaa ._fa .ReadByte ();if _cbd !=nil {return 0,_cbd ;};if _gda .IsWhiteSpace (_bbf ){_ced ++;}else {_afaa ._fa .UnreadByte ();break ;};};return _ced ,nil ;};var _aea =_b .MustCompile ("\u0028\u005c\u0064\u002b)\\\u0073\u002b\u0028\u005c\u0064\u002b\u0029\u005c\u0073\u002b\u006f\u0062\u006a");func (_ffa *fdfParser )trace (_abg _gda .PdfObject )_gda .PdfObject {switch _gace :=_abg .(type ){case *_gda .PdfObjectReference :_ddc ,_aebf :=_ffa ._dbf [_gace .ObjectNumber ].(*_gda .PdfIndirectObject );if _aebf {return _ddc .PdfObject ;};_bb .Log .Debug ("\u0054\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");return nil ;case *_gda .PdfIndirectObject :return _gace .PdfObject ;};return _abg ;};func _gcfb (_cgdb string )(*fdfParser ,error ){_bcb :=fdfParser {};_aaa :=[]byte (_cgdb );_dde :=_ba .NewReader (_aaa );_bcb ._aff =_dde ;_bcb ._dbf =map[int64 ]_gda .PdfObject {};_eda :=_eb .NewReader (_dde );_bcb ._fa =_eda ;_bcb ._edb =int64 (len (_cgdb ));return &_bcb ,_bcb .parse ();};func (_cebd *fdfParser )getFileOffset ()int64 {_deg ,_ :=_cebd ._aff .Seek (0,_c .SeekCurrent );_deg -=int64 (_cebd ._fa .Buffered ());return _deg ;};var _ag =_b .MustCompile ("\u0025F\u0044F\u002d\u0028\u005c\u0064\u0029\u005c\u002e\u0028\u005c\u0064\u0029");func (_bcf *fdfParser )parseDict ()(*_gda .PdfObjectDictionary ,error ){_bb .Log .Trace ("\u0052\u0065\u0061\u0064\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020D\u0069\u0063\u0074\u0021");_gggc :=_gda .MakeDict ();_bbee ,_ :=_bcf ._fa .ReadByte ();if _bbee !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};_bbee ,_ =_bcf ._fa .ReadByte ();if _bbee !='<'{return nil ,_d .New ("\u0069\u006e\u0076a\u006c\u0069\u0064\u0020\u0064\u0069\u0063\u0074");};for {_bcf .skipSpaces ();_bcf .skipComments ();_bbd ,_eaf :=_bcf ._fa .Peek (2);if _eaf !=nil {return nil ,_eaf ;};_bb .Log .Trace ("D\u0069c\u0074\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_bbd ),string (_bbd ));if (_bbd [0]=='>')&&(_bbd [1]=='>'){_bb .Log .Trace ("\u0045\u004f\u0046\u0020\u0064\u0069\u0063\u0074\u0069o\u006e\u0061\u0072\u0079");_bcf ._fa .ReadByte ();_bcf ._fa .ReadByte ();break ;};_bb .Log .Trace ("\u0050a\u0072s\u0065\u0020\u0074\u0068\u0065\u0020\u006e\u0061\u006d\u0065\u0021");_daf ,_eaf :=_bcf .parseName ();_bb .Log .Trace ("\u004be\u0079\u003a\u0020\u0025\u0073",_daf );if _eaf !=nil {_bb .Log .Debug ("E\u0052\u0052\u004f\u0052\u0020\u0052e\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u006ea\u006d\u0065\u0020e\u0072r\u0020\u0025\u0073",_eaf );return nil ,_eaf ;};if len (_daf )> 4&&_daf [len (_daf )-4:]=="\u006e\u0075\u006c\u006c"{_bdf :=_daf [0:len (_daf )-4];_bb .Log .Debug ("\u0054\u0061\u006b\u0069n\u0067\u0020\u0063\u0061\u0072\u0065\u0020\u006f\u0066\u0020n\u0075l\u006c\u0020\u0062\u0075\u0067\u0020\u0028%\u0073\u0029",_daf );_bb .Log .Debug ("\u004e\u0065\u0077\u0020ke\u0079\u0020\u0022\u0025\u0073\u0022\u0020\u003d\u0020\u006e\u0075\u006c\u006c",_bdf );_bcf .skipSpaces ();_acg ,_ :=_bcf ._fa .Peek (1);if _acg [0]=='/'{_gggc .Set (_bdf ,_gda .MakeNull ());continue ;};};_bcf .skipSpaces ();_aaf ,_eaf :=_bcf .parseObject ();if _eaf !=nil {return nil ,_eaf ;};_gggc .Set (_daf ,_aaf );_bb .Log .Trace ("\u0064\u0069\u0063\u0074\u005b\u0025\u0073\u005d\u0020\u003d\u0020\u0025\u0073",_daf ,_aaf .String ());};_bb .Log .Trace ("\u0072\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0046\u0044\u0046\u0020\u0044\u0069\u0063\u0074\u0021");return _gggc ,nil ;};func (_gfdb *fdfParser )parse ()error {_gfdb ._aff .Seek (0,_c .SeekStart );_gfdb ._fa =_eb .NewReader (_gfdb ._aff );for {_gfdb .skipComments ();_fcc ,_afeb :=_gfdb ._fa .Peek (20);if _afeb !=nil {_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return _afeb ;};if _g .HasPrefix (string (_fcc ),"\u0074r\u0061\u0069\u006c\u0065\u0072"){_gfdb ._fa .Discard (7);_gfdb .skipSpaces ();_gfdb .skipComments ();_aed ,_ :=_gfdb .parseDict ();_gfdb ._bc =_aed ;break ;};_aga :=_aea .FindStringSubmatchIndex (string (_fcc ));if len (_aga )< 6{_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_fcc ));return _d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_dfee ,_afeb :=_gfdb .parseIndirectObject ();if _afeb !=nil {return _afeb ;};switch _ebf :=_dfee .(type ){case *_gda .PdfIndirectObject :_gfdb ._dbf [_ebf .ObjectNumber ]=_ebf ;case *_gda .PdfObjectStream :_gfdb ._dbf [_ebf .ObjectNumber ]=_ebf ;default:return _d .New ("\u0074\u0079\u0070\u0065\u0020\u0065\u0072\u0072\u006f\u0072");};};return nil ;};func (_eed *fdfParser )parseHexString ()(*_gda .PdfObjectString ,error ){_eed ._fa .ReadByte ();var _cfc _ba .Buffer ;for {_ccc ,_afg :=_eed ._fa .Peek (1);if _afg !=nil {return _gda .MakeHexString (""),_afg ;};if _ccc [0]=='>'{_eed ._fa .ReadByte ();break ;};_ca ,_ :=_eed ._fa .ReadByte ();if !_gda .IsWhiteSpace (_ca ){_cfc .WriteByte (_ca );};};if _cfc .Len ()%2==1{_cfc .WriteRune ('0');};_ea ,_bcag :=_fd .DecodeString (_cfc .String ());if _bcag !=nil {_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020\u0050\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0068\u0065\u0078\u0020\u0073\u0074r\u0069\u006e\u0067\u003a\u0020\u0027\u0025\u0073\u0027 \u002d\u0020\u0072\u0065\u0074\u0075\u0072\u006e\u0069\u006e\u0067\u0020\u0061n\u0020\u0065\u006d\u0070\u0074\u0079 \u0073\u0074\u0072i\u006e\u0067",_cfc .String ());return _gda .MakeHexString (""),nil ;};return _gda .MakeHexString (string (_ea )),nil ;};

// Root returns the Root of the FDF document.
func (_ecd *fdfParser )Root ()(*_gda .PdfObjectDictionary ,error ){if _ecd ._bc !=nil {if _fbe ,_befa :=_ecd .trace (_ecd ._bc .Get ("\u0052\u006f\u006f\u0074")).(*_gda .PdfObjectDictionary );_befa {if _cag ,_cbe :=_ecd .trace (_fbe .Get ("\u0046\u0044\u0046")).(*_gda .PdfObjectDictionary );_cbe {return _cag ,nil ;};};};var _efdg []int64 ;for _bcfg :=range _ecd ._dbf {_efdg =append (_efdg ,_bcfg );};_a .Slice (_efdg ,func (_eded ,_acb int )bool {return _efdg [_eded ]< _efdg [_acb ]});for _ ,_dggb :=range _efdg {_dcfe :=_ecd ._dbf [_dggb ];if _gfgb ,_cfa :=_ecd .trace (_dcfe ).(*_gda .PdfObjectDictionary );_cfa {if _fafe ,_cdb :=_ecd .trace (_gfgb .Get ("\u0046\u0044\u0046")).(*_gda .PdfObjectDictionary );_cdb {return _fafe ,nil ;};};};return nil ,_d .New ("\u0046\u0044\u0046\u0020\u006e\u006f\u0074\u0020\u0066\u006f\u0075\u006e\u0064");};func (_deb *fdfParser )readTextLine ()(string ,error ){var _dg _ba .Buffer ;for {_gac ,_adec :=_deb ._fa .Peek (1);if _adec !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_adec .Error ());return _dg .String (),_adec ;};if (_gac [0]!='\r')&&(_gac [0]!='\n'){_ece ,_ :=_deb ._fa .ReadByte ();_dg .WriteByte (_ece );}else {break ;};};return _dg .String (),nil ;};func (_gcaa *fdfParser )parseIndirectObject ()(_gda .PdfObject ,error ){_ccf :=_gda .PdfIndirectObject {};_bb .Log .Trace ("\u002dR\u0065a\u0064\u0020\u0069\u006e\u0064i\u0072\u0065c\u0074\u0020\u006f\u0062\u006a");_bce ,_abf :=_gcaa ._fa .Peek (20);if _abf !=nil {_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0046\u0061\u0069\u006c\u0020\u0074\u006f\u0020r\u0065a\u0064\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a");return &_ccf ,_abf ;};_bb .Log .Trace ("\u0028\u0069\u006edi\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0020\u0070\u0065\u0065\u006b\u0020\u0022\u0025\u0073\u0022",string (_bce ));_dgf :=_aea .FindStringSubmatchIndex (string (_bce ));if len (_dgf )< 6{_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_bce ));return &_ccf ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_gcaa ._fa .Discard (_dgf [0]);_bb .Log .Trace ("O\u0066\u0066\u0073\u0065\u0074\u0073\u0020\u0025\u0020\u0064",_dgf );_gebe :=_dgf [1]-_dgf [0];_gce :=make ([]byte ,_gebe );_ ,_abf =_gcaa .readAtLeast (_gce ,_gebe );if _abf !=nil {_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020\u0075\u006e\u0061\u0062l\u0065\u0020\u0074\u006f\u0020\u0072\u0065\u0061\u0064\u0020-\u0020\u0025\u0073",_abf );return nil ,_abf ;};_bb .Log .Trace ("\u0074\u0065\u0078t\u006c\u0069\u006e\u0065\u003a\u0020\u0025\u0073",_gce );_gfge :=_aea .FindStringSubmatch (string (_gce ));if len (_gfge )< 3{_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u003a\u0020U\u006e\u0061\u0062l\u0065\u0020\u0074\u006f \u0066\u0069\u006e\u0064\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u0073\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065\u0020\u0028\u0025\u0073\u0029",string (_gce ));return &_ccf ,_d .New ("\u0075\u006e\u0061b\u006c\u0065\u0020\u0074\u006f\u0020\u0064\u0065\u0074\u0065\u0063\u0074\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020s\u0069\u0067\u006e\u0061\u0074\u0075\u0072\u0065");};_fdda ,_ :=_f .Atoi (_gfge [1]);_beb ,_ :=_f .Atoi (_gfge [2]);_ccf .ObjectNumber =int64 (_fdda );_ccf .GenerationNumber =int64 (_beb );for {_aae ,_aebe :=_gcaa ._fa .Peek (2);if _aebe !=nil {return &_ccf ,_aebe ;};_bb .Log .Trace ("I\u006ed\u002e\u0020\u0070\u0065\u0065\u006b\u003a\u0020%\u0073\u0020\u0028\u0025 x\u0029\u0021",string (_aae ),string (_aae ));if _gda .IsWhiteSpace (_aae [0]){_gcaa .skipSpaces ();}else if _aae [0]=='%'{_gcaa .skipComments ();}else if (_aae [0]=='<')&&(_aae [1]=='<'){_bb .Log .Trace ("\u0043\u0061\u006c\u006c\u0020\u0050\u0061\u0072\u0073e\u0044\u0069\u0063\u0074");_ccf .PdfObject ,_aebe =_gcaa .parseDict ();_bb .Log .Trace ("\u0045\u004f\u0046\u0020Ca\u006c\u006c\u0020\u0050\u0061\u0072\u0073\u0065\u0044\u0069\u0063\u0074\u003a\u0020%\u0076",_aebe );if _aebe !=nil {return &_ccf ,_aebe ;};_bb .Log .Trace ("\u0050\u0061\u0072\u0073\u0065\u0064\u0020\u0064\u0069\u0063t\u0069\u006f\u006e\u0061\u0072\u0079\u002e.\u002e\u0020\u0066\u0069\u006e\u0069\u0073\u0068\u0065\u0064\u002e");}else if (_aae [0]=='/')||(_aae [0]=='(')||(_aae [0]=='[')||(_aae [0]=='<'){_ccf .PdfObject ,_aebe =_gcaa .parseObject ();if _aebe !=nil {return &_ccf ,_aebe ;};_bb .Log .Trace ("P\u0061\u0072\u0073\u0065\u0064\u0020o\u0062\u006a\u0065\u0063\u0074\u0020\u002e\u002e\u002e \u0066\u0069\u006ei\u0073h\u0065\u0064\u002e");}else {if _aae [0]=='e'{_gebea ,_gfd :=_gcaa .readTextLine ();if _gfd !=nil {return nil ,_gfd ;};if len (_gebea )>=6&&_gebea [0:6]=="\u0065\u006e\u0064\u006f\u0062\u006a"{break ;};}else if _aae [0]=='s'{_aae ,_ =_gcaa ._fa .Peek (10);if string (_aae [:6])=="\u0073\u0074\u0072\u0065\u0061\u006d"{_efca :=6;if len (_aae )> 6{if _gda .IsWhiteSpace (_aae [_efca ])&&_aae [_efca ]!='\r'&&_aae [_efca ]!='\n'{_bb .Log .Debug ("\u004e\u006fn\u002d\u0063\u006f\u006e\u0066\u006f\u0072\u006d\u0061\u006e\u0074\u0020\u0046\u0044\u0046\u0020\u006e\u006f\u0074 \u0065\u006e\u0064\u0069\u006e\u0067 \u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006c\u0069\u006e\u0065\u0020\u0070\u0072o\u0070\u0065r\u006c\u0079\u0020\u0077i\u0074\u0068\u0020\u0045\u004fL\u0020\u006d\u0061\u0072\u006b\u0065\u0072");_efca ++;};if _aae [_efca ]=='\r'{_efca ++;if _aae [_efca ]=='\n'{_efca ++;};}else if _aae [_efca ]=='\n'{_efca ++;};};_gcaa ._fa .Discard (_efca );_bece ,_cdc :=_ccf .PdfObject .(*_gda .PdfObjectDictionary );if !_cdc {return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006di\u0073s\u0069\u006e\u0067\u0020\u0064\u0069\u0063\u0074\u0069\u006f\u006e\u0061\u0072\u0079");};_bb .Log .Trace ("\u0053\u0074\u0072\u0065\u0061\u006d\u0020\u0064\u0069c\u0074\u0020\u0025\u0073",_bece );_gga ,_edc :=_bece .Get ("\u004c\u0065\u006e\u0067\u0074\u0068").(*_gda .PdfObjectInteger );if !_edc {return nil ,_d .New ("\u0073\u0074re\u0061\u006d\u0020l\u0065\u006e\u0067\u0074h n\u0065ed\u0073\u0020\u0074\u006f\u0020\u0062\u0065 a\u006e\u0020\u0069\u006e\u0074\u0065\u0067e\u0072");};_ege :=*_gga ;if _ege < 0{return nil ,_d .New ("\u0073\u0074\u0072\u0065\u0061\u006d\u0020\u006e\u0065\u0065\u0064\u0073\u0020\u0074\u006f \u0062e\u0020\u006c\u006f\u006e\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0030");};if int64 (_ege )> _gcaa ._edb {_bb .Log .Debug ("\u0045\u0052R\u004f\u0052\u003a\u0020\u0053t\u0072\u0065\u0061\u006d\u0020l\u0065\u006e\u0067\u0074\u0068\u0020\u0063\u0061\u006e\u006e\u006f\u0074\u0020\u0062\u0065\u0020\u006c\u0061\u0072\u0067\u0065\u0072\u0020\u0074\u0068\u0061\u006e\u0020\u0066\u0069\u006c\u0065\u0020\u0073\u0069\u007a\u0065");return nil ,_d .New ("\u0069n\u0076\u0061l\u0069\u0064\u0020\u0073t\u0072\u0065\u0061m\u0020\u006c\u0065\u006e\u0067\u0074\u0068\u002c\u0020la\u0072\u0067\u0065r\u0020\u0074h\u0061\u006e\u0020\u0066\u0069\u006ce\u0020\u0073i\u007a\u0065");};_gfgg :=make ([]byte ,_ege );_ ,_aebe =_gcaa .readAtLeast (_gfgg ,int (_ege ));if _aebe !=nil {_bb .Log .Debug ("E\u0052\u0052\u004f\u0052 s\u0074r\u0065\u0061\u006d\u0020\u0028%\u0064\u0029\u003a\u0020\u0025\u0058",len (_gfgg ),_gfgg );_bb .Log .Debug ("\u0045R\u0052\u004f\u0052\u003a\u0020\u0025v",_aebe );return nil ,_aebe ;};_bg :=_gda .PdfObjectStream {};_bg .Stream =_gfgg ;_bg .PdfObjectDictionary =_ccf .PdfObject .(*_gda .PdfObjectDictionary );_bg .ObjectNumber =_ccf .ObjectNumber ;_bg .GenerationNumber =_ccf .GenerationNumber ;_gcaa .skipSpaces ();_gcaa ._fa .Discard (9);_gcaa .skipSpaces ();return &_bg ,nil ;};};_ccf .PdfObject ,_aebe =_gcaa .parseObject ();return &_ccf ,_aebe ;};};_bb .Log .Trace ("\u0052\u0065\u0074\u0075rn\u0069\u006e\u0067\u0020\u0069\u006e\u0064\u0069\u0072\u0065\u0063\u0074\u0021");return &_ccf ,nil ;};func (_fde *fdfParser )parseFdfVersion ()(int ,int ,error ){_fde ._aff .Seek (0,_c .SeekStart );_cgcc :=20;_dee :=make ([]byte ,_cgcc );_fde ._aff .Read (_dee );_ddd :=_ag .FindStringSubmatch (string (_dee ));if len (_ddd )< 3{_bbb ,_cad ,_feed :=_fde .seekFdfVersionTopDown ();if _feed !=nil {_bb .Log .Debug ("F\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065\u0063\u006f\u0076\u0065\u0072\u0079\u0020\u002d\u0020\u0075n\u0061\u0062\u006c\u0065\u0020\u0074\u006f\u0020\u0066\u0069nd\u0020\u0076\u0065r\u0073i\u006f\u006e");return 0,0,_feed ;};return _bbb ,_cad ,nil ;};_edfg ,_dddg :=_f .Atoi (_ddd [1]);if _dddg !=nil {return 0,0,_dddg ;};_cde ,_dddg :=_f .Atoi (_ddd [2]);if _dddg !=nil {return 0,0,_dddg ;};_bb .Log .Debug ("\u0046\u0064\u0066\u0020\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020%\u0064\u002e\u0025\u0064",_edfg ,_cde );return int (_edfg ),int (_cde ),nil ;};type fdfParser struct{_bef int ;_ede int ;_dbf map[int64 ]_gda .PdfObject ;_aff _c .ReadSeeker ;_fa *_eb .Reader ;_edb int64 ;_bc *_gda .PdfObjectDictionary ;};func _gg (_caf string )(_gda .PdfObjectReference ,error ){_gcf :=_gda .PdfObjectReference {};_fdd :=_cgd .FindStringSubmatch (string (_caf ));if len (_fdd )< 3{_bb .Log .Debug ("\u0045\u0072\u0072or\u0020\u0070\u0061\u0072\u0073\u0069\u006e\u0067\u0020\u0072\u0065\u0066\u0065\u0072\u0065\u006e\u0063\u0065");return _gcf ,_d .New ("\u0075n\u0061\u0062\u006c\u0065 \u0074\u006f\u0020\u0070\u0061r\u0073e\u0020r\u0065\u0066\u0065\u0072\u0065\u006e\u0063e");};_gde ,_dfe :=_f .Atoi (_fdd [1]);if _dfe !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0070a\u0072\u0073\u0069n\u0067\u0020\u006fb\u006a\u0065c\u0074\u0020\u006e\u0075\u006d\u0062e\u0072 '\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u006f\u0062\u006a\u0065\u0063\u0074\u0020\u006e\u0075\u006d\u0020\u003d\u0020\u0030",_fdd [1]);return _gcf ,nil ;};_gcf .ObjectNumber =int64 (_gde );_gcc ,_dfe :=_f .Atoi (_fdd [2]);if _dfe !=nil {_bb .Log .Debug ("\u0045\u0072r\u006f\u0072\u0020\u0070\u0061r\u0073\u0069\u006e\u0067\u0020g\u0065\u006e\u0065\u0072\u0061\u0074\u0069\u006f\u006e\u0020\u006e\u0075\u006d\u0062\u0065\u0072\u0020\u0027\u0025\u0073\u0027\u0020\u002d\u0020\u0055\u0073\u0069\u006e\u0067\u0020\u0067\u0065\u006e\u0020\u003d\u0020\u0030",_fdd [2]);return _gcf ,nil ;};_gcf .GenerationNumber =int64 (_gcc );return _gcf ,nil ;};func (_ccg *fdfParser )parseArray ()(*_gda .PdfObjectArray ,error ){_dge :=_gda .MakeArray ();_ccg ._fa .ReadByte ();for {_ccg .skipSpaces ();_abc ,_cccf :=_ccg ._fa .Peek (1);if _cccf !=nil {return _dge ,_cccf ;};if _abc [0]==']'{_ccg ._fa .ReadByte ();break ;};_gaba ,_cccf :=_ccg .parseObject ();if _cccf !=nil {return _dge ,_cccf ;};_dge .Append (_gaba );};return _dge ,nil ;};var _cgd =_b .MustCompile ("^\u005c\u0073\u002a\u0028\\d\u002b)\u005c\u0073\u002b\u0028\u005cd\u002b\u0029\u005c\u0073\u002b\u0052");func (_bd *fdfParser )skipComments ()error {if _ ,_dfg :=_bd .skipSpaces ();_dfg !=nil {return _dfg ;};_eba :=true ;for {_bdc ,_gf :=_bd ._fa .Peek (1);if _gf !=nil {_bb .Log .Debug ("\u0045\u0072\u0072\u006f\u0072\u0020\u0025\u0073",_gf .Error ());return _gf ;};if _eba &&_bdc [0]!='%'{return nil ;};_eba =false ;if (_bdc [0]!='\r')&&(_bdc [0]!='\n'){_bd ._fa .ReadByte ();}else {break ;};};return _bd .skipComments ();};func (_dba *fdfParser )readAtLeast (_be []byte ,_ceb int )(int ,error ){_dc :=_ceb ;_bed :=0;_eg :=0;for _dc > 0{_de ,_ee :=_dba ._fa .Read (_be [_bed :]);if _ee !=nil {_bb .Log .Debug ("\u0045\u0052\u0052O\u0052\u0020\u0046\u0061i\u006c\u0065\u0064\u0020\u0072\u0065\u0061d\u0069\u006e\u0067\u0020\u0028\u0025\u0064\u003b\u0025\u0064\u0029\u0020\u0025\u0073",_de ,_eg ,_ee .Error ());return _bed ,_d .New ("\u0066\u0061\u0069\u006c\u0065\u0064\u0020\u0072\u0065a\u0064\u0069\u006e\u0067");};_eg ++;_bed +=_de ;_dc -=_de ;};return _bed ,nil ;};

// Load loads FDF form data from `r`.
func Load (r _c .ReadSeeker )(*Data ,error ){_bf ,_gca :=_gfc (r );if _gca !=nil {return nil ,_gca ;};_afa ,_gca :=_bf .Root ();if _gca !=nil {return nil ,_gca ;};_gdc ,_ae :=_gda .GetArray (_afa .Get ("\u0046\u0069\u0065\u006c\u0064\u0073"));if !_ae {return nil ,_d .New ("\u0066\u0069\u0065\u006c\u0064\u0073\u0020\u006d\u0069s\u0073\u0069\u006e\u0067");};return &Data {_bab :_gdc ,_gc :_afa },nil ;};func (_cfe *fdfParser )seekFdfVersionTopDown ()(int ,int ,error ){_cfe ._aff .Seek (0,_c .SeekStart );_cfe ._fa =_eb .NewReader (_cfe ._aff );_cdd :=20;_cdbg :=make ([]byte ,_cdd );for {_bceg ,_cfad :=_cfe ._fa .ReadByte ();if _cfad !=nil {if _cfad ==_c .EOF {break ;}else {return 0,0,_cfad ;};};if _gda .IsDecimalDigit (_bceg )&&_cdbg [_cdd -1]=='.'&&_gda .IsDecimalDigit (_cdbg [_cdd -2])&&_cdbg [_cdd -3]=='-'&&_cdbg [_cdd -4]=='F'&&_cdbg [_cdd -5]=='D'&&_cdbg [_cdd -6]=='P'{_dff :=int (_cdbg [_cdd -2]-'0');_agac :=int (_bceg -'0');return _dff ,_agac ,nil ;};_cdbg =append (_cdbg [1:_cdd ],_bceg );};return 0,0,_d .New ("\u0076\u0065\u0072\u0073\u0069\u006f\u006e\u0020\u006e\u006f\u0074\u0020f\u006f\u0075\u006e\u0064");};func _gfc (_gcg _c .ReadSeeker )(*fdfParser ,error ){_cef :=&fdfParser {};_cef ._aff =_gcg ;_cef ._dbf =map[int64 ]_gda .PdfObject {};_bgg ,_gaae ,_afc :=_cef .parseFdfVersion ();if _afc !=nil {_bb .Log .Error ("U\u006e\u0061\u0062\u006c\u0065\u0020t\u006f\u0020\u0070\u0061\u0072\u0073\u0065\u0020\u0076e\u0072\u0073\u0069o\u006e:\u0020\u0025\u0076",_afc );return nil ,_afc ;};_cef ._bef =_bgg ;_cef ._ede =_gaae ;_afc =_cef .parse ();return _cef ,_afc ;};func (_eae *fdfParser )parseNull ()(_gda .PdfObjectNull ,error ){_ ,_aac :=_eae ._fa .Discard (4);return _gda .PdfObjectNull {},_aac ;};func (_egd *fdfParser )parseName ()(_gda .PdfObjectName ,error ){var _gab _ba .Buffer ;_da :=false ;for {_fad ,_edbe :=_egd ._fa .Peek (1);if _edbe ==_c .EOF {break ;};if _edbe !=nil {return _gda .PdfObjectName (_gab .String ()),_edbe ;};if !_da {if _fad [0]=='/'{_da =true ;_egd ._fa .ReadByte ();}else if _fad [0]=='%'{_egd .readComment ();_egd .skipSpaces ();}else {_bb .Log .Debug ("\u0045\u0052\u0052\u004f\u0052\u0020N\u0061\u006d\u0065\u0020\u0073\u0074\u0061\u0072\u0074\u0069\u006e\u0067\u0020w\u0069\u0074\u0068\u0020\u0025\u0073\u0020(\u0025\u0020\u0078\u0029",_fad ,_fad );return _gda .PdfObjectName (_gab .String ()),_gd .Errorf ("\u0069n\u0076a\u006c\u0069\u0064\u0020\u006ea\u006d\u0065:\u0020\u0028\u0025\u0063\u0029",_fad [0]);};}else {if _gda .IsWhiteSpace (_fad [0]){break ;}else if (_fad [0]=='/')||(_fad [0]=='[')||(_fad [0]=='(')||(_fad [0]==']')||(_fad [0]=='<')||(_fad [0]=='>'){break ;}else if _fad [0]=='#'{_ac ,_cga :=_egd ._fa .Peek (3);if _cga !=nil {return _gda .PdfObjectName (_gab .String ()),_cga ;};_egd ._fa .Discard (3);_bdg ,_cga :=_fd .DecodeString (string (_ac [1:3]));if _cga !=nil {return _gda .PdfObjectName (_gab .String ()),_cga ;};_gab .Write (_bdg );}else {_cgc ,_ :=_egd ._fa .ReadByte ();_gab .WriteByte (_cgc );};};};return _gda .PdfObjectName (_gab .String ()),nil ;};var _fg =_b .MustCompile ("\u0025\u0025\u0045O\u0046");func (_edf *fdfParser )setFileOffset (_egf int64 ){_edf ._aff .Seek (_egf ,_c .SeekStart );_edf ._fa =_eb .NewReader (_edf ._aff );};

// LoadFromPath loads FDF form data from file path `fdfPath`.
func LoadFromPath (fdfPath string )(*Data ,error ){_ge ,_cf :=_af .Open (fdfPath );if _cf !=nil {return nil ,_cf ;};defer _ge .Close ();return Load (_ge );};